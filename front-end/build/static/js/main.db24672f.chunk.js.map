{"version":3,"sources":["configuration/constants.js","components/contexts/UserContext.jsx","components/common/icon-buttons/CloseIconButton.jsx","components/contexts/ModalContext.jsx","components/forms/form-components/TextInput.jsx","components/forms/form-components/PasswordInput.jsx","components/forms/form-components/SubmitButton.jsx","utils/HttpClient.js","utils/backendRequests.js","utils/authenticationRequests.js","components/forms/LoginForm.jsx","components/header/logo/logo.jpg","components/header/logo/Logo.jsx","components/header/Header.jsx","components/common/Banner.jsx","api/backendRequests.js","utils/useStocks.js","components/pages/landing-page/NewPlatformBanner.jsx","utils/transactionRequests.js","components/forms/form-components/SelectInput.jsx","components/forms/form-components/IntegerInput.jsx","components/forms/form-components/DateInput.jsx","components/forms/TransactionResult.jsx","components/common/formatting.js","utils/usePortfolios.js","components/forms/AddStockForm.jsx","components/common/SearchResultContainer.jsx","components/common/SearchResult.jsx","components/common/SearchBar.jsx","components/pages/landing-page/MarketIndices.jsx","components/pages/stock-page/News.jsx","components/common/sortTableComponents.js","components/pages/landing-page/MarketTable.jsx","components/pages/landing-page/MarketPerformers.jsx","components/pages/landing-page/LandingPage.jsx","components/pages/portfolio/PortfolioCard.jsx","components/forms/form-components/TextAreaInput.jsx","components/forms/form-components/CheckboxInput.jsx","utils/useColours.js","components/forms/NewPortfolioForm.jsx","components/pages/portfolio/PortfoliosPage.jsx","components/forms/form-components/CurrencyInput.jsx","components/common/Dialogue.jsx","utils/useGoals.js","components/forms/GoalForm.jsx","components/pages/goal/GoalCard.jsx","components/forms/FinancialCalculator.js","components/forms/RegularSavingCalculator.js","components/common/SuccessText.js","components/forms/Calculator.js","components/pages/goal/GoalsPage.jsx","components/pages/portfolio/ComparingChart.jsx","components/pages/portfolio/HoldingPerformance.jsx","components/pages/portfolio/StockTable.jsx","components/pages/portfolio/Holdings.jsx","components/pages/stock-page/actions.js","components/pages/portfolio/actions.js","components/pages/portfolio/PieChart.jsx","components/pages/portfolio/Overview.jsx","components/pages/stock-page/charts/LineChart.jsx","components/pages/portfolio/ChartTabs.jsx","components/pages/portfolio/PortfolioValues.jsx","components/pages/portfolio/PortfolioPage.jsx","configuration/theme.js","components/pages/market-page/AllStockTable.jsx","components/pages/market-page/MarketTable.jsx","components/pages/market-page/MarketPage.jsx","components/common/Table.js","components/common/Loading.js","components/common/Layout.js","components/pages/public-profile/PublicProfile.js","components/pages/portfolio/PublicPortfolio.jsx","utils/useForums.js","components/pages/forum/ForumCard.jsx","components/pages/forum/ForumsPage.jsx","utils/usePost.js","components/pages/forum/PostCard.jsx","components/forms/NewPostForm.jsx","components/forms/form-components/DateRangePicker.jsx","components/pages/forum/ForumPage.jsx","utils/useComments.js","components/pages/forum/CommentCard.jsx","components/forms/form-components/RatingInput.jsx","components/forms/NewCommentForm.jsx","components/pages/forum/PostPage.jsx","components/pages/stock-page/charts/ProjectionChart.jsx","components/pages/stock-page/ChartTabs.jsx","components/pages/stock-page/FuturePerformance.jsx","components/pages/stock-page/Header.jsx","components/pages/stock-page/Overview.jsx","components/pages/stock-page/Profile.jsx","components/pages/stock-page/RiskMetrics.jsx","components/pages/stock-page/SharePrices.jsx","components/pages/stock-page/charts/AreaChart.jsx","components/pages/stock-page/tables/TwoColTable.jsx","components/pages/stock-page/Summary.jsx","components/pages/stock-page/StockPage.jsx","utils/useCompetitions.js","components/pages/competition/CompetitionsPage.jsx","components/forms/CompetitionPortfolioForm.jsx","components/pages/competition/CompetitionPage.jsx","App.jsx","index.js"],"names":["LOCAL_STORAGE_MAP","BACKEND_URL","LOGIN_URL","SIGNUP_URL","get_URL","endpoint","modifier","parameters","url","get_URL_with_QUERY_STRING","API_KEY","UserContext","createContext","undefined","UserProvider","children","useState","token","window","localStorage","getItem","setToken","user","JSON","parse","setUser","useEffect","setItem","String","stringify","Provider","value","newToken","useStyles","makeStyles","closeIcon","position","top","right","CloseIconButton","onClick","classes","IconButton","className","ModalContext","centered","left","transform","borderRadius","outline","ModalProvider","modal","setModal","showModal","component","Modal","open","onClose","Paper","elevation","TextInput","name","preChange","postChange","otherProps","useField","fieldProps","meta","setFieldValue","useFormikContext","textFieldProps","fullWidth","onChange","event","oldValue","processedValue","target","touched","error","helperText","TextField","passwordValidation","Yup","min","matches","PasswordInput","InputProps","showPassword","setShowPassword","inputProps","type","endAdornment","InputAdornment","onMouseDown","preventDefault","SubmitButton","submitForm","isValid","submitButtonProps","variant","color","disabled","Button","HttpClient","getToken","headers","Authorization","get","options","axios","delete","post","body","put","patch","simpleGet","simpleDelete","simplePost","simplePut","simplePatch","handleError","err","response","console","request","message","HTTPClient","login","username","password","a","res","data","key","non_field_errors","Error","detail","signup","email","password1","password2","loginForm","padding","width","height","title","marginBottom","submitButton","bottom","fontSize","input","underlyingInput","submitError","textAlign","link","cursor","LoginForm","isSignup","useContext","showSignUpForm","setShowSignUpForm","loading","setLoading","setSubmitError","formValidation","required","confirmPassword","oneOf","values","initialValues","validationSchema","shape","onSubmit","Typography","align","label","autoComplete","Link","imageContainer","objectFit","overflow","image","Logo","Box","display","RouterLink","to","src","logo","alt","navLinks","marginLeft","navLink","Header","history","useHistory","AppBar","styles","flexGrow","Toolbar","ButtonGroup","size","push","banner","marginTop","Banner","onDismiss","STOCK","PORTFOLIO_URL","MARKET_URL","MARKET_INFO_URL","YF_QUOTE","getStock","setter","id","getStockData","dataType","getHoldingData","getAllStockData","getMarketData","getMarketInfo","makePrediction","getGoogleImage","query","noImg","cx","num","start","searchType","imgSize","base_url","paths","i","items","length","subscribeToStock","isSubscribed","stockId","results","checkSubscribedForSingleStock","setIsSubscribed","unSubscribeFromAllStock","getSubscribedStock","setSubscriptionCount","fontWeight","marginRight","subtitle","description","NewPlatformBanner","subscriptionCount","onUnsubscribeClicked","CircularProgress","addStockToPortfolio","stock_id","portfolio_id","quantity","date","resHolding","holding","stock","portfolio","resHoldingCreate","resTransaction","transaction","updateHoldings","holdingId","Date","toISOString","substring","getSearchStocks","SelectInput","selectConfig","select","map","option","index","MenuItem","IntegerInput","positive","newValue","test","DateInput","dateFieldProps","format","autoOk","newDate","root","TransactionResult","info","isSold","Number","Grid","container","spacing","item","xs","sm","direction","gutterBottom","price","cost","centre","formatCurrency","amount","floatAmount","parseFloat","Intl","NumberFormat","style","currency","zeroPadNumber","n","len","padStart","formatDate","D","getDate","M","getMonth","Y","getFullYear","h","getHours","m","getMinutes","s","getSeconds","usePortfolios","initialState","dependencies","portfolios","setPortfolios","diversification","setDiversification","fetchPortfolios","useCallback","stockValues","holdings","latestPrice","totalPortfolioValue","reduce","total","b","Math","abs","sumOfB","usePublicPortfolio","setError","allPortfolios","setAllPortfolios","setPortfolio","fetchAllPortfolios","fetchPortfoliosByUserId","userId","fetchPortfoliosByPortfolioId","portfolioId","result","calculateDiversification","delete_portfolio","add_portfolio","adjustDate","copy","dayOfWeek","getDay","setDate","get_wealth","adjustedDate","get_growth","wealth","today","oneYearAgo","setFullYear","wealthLastYear","theme","minHeight","field","AddStockForm","initialFormValues","integer","typeError","parseInt","ticker","justify","md","paper","SearchResultContainer","overrideAddClick","path","handleAddClick","SearchResult","searchContainer","searchBox","searchResultsContainer","zIndex","maxHeight","overflowScrolling","overscrollBehaviorY","searchIcon","SearchBar","setResults","setInput","handleInputChange","placeholder","startAdornment","negativeTrend","positiveTrend","MarketIndices","market","quote","overview","exchange","toFixed","margin","img","maxWidth","News","news","setNews","longName","symbol","fetchAVData","href","lines","more","less","expanded","summary","published","descendingComparator","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","sort","SortTableHead","onRequestSort","headCells","TableHead","TableRow","headCell","TableCell","numeric","disablePadding","sortDirection","TableSortLabel","active","property","visuallyHidden","propTypes","PropTypes","object","isRequired","numSelected","number","func","string","rowCount","table","minWidth","border","clip","MarketTable","setOrder","setOrderBy","selected","setSelected","TableContainer","Table","aria-labelledby","aria-label","TableBody","row","isItemSelected","indexOf","labelId","hover","selectedIndex","newSelected","concat","slice","handleClick","role","aria-checked","tabIndex","scope","loadingContainer","MarketPerformers","header","performer","stocks","setStocks","fetchStockData","LandingPage","Boolean","showBanner","setShowBanner","setMarket","fetchData","textDecoration","nameContainer","descriptionContainer","PortfolioCard","Card","backgroundColor","colour","CardContent","TextAreaInput","multiline","rows","CheckboxInput","legend","checkboxProps","checked","formControlProps","FormControl","FormLabel","FormGroup","FormControlLabel","control","Checkbox","useColours","setColours","fetchColours","NewPortfolioForm","colors","isPublic","page","paddingTop","headingContainer","justifyContent","alignItems","heading","PortfoliosPage","Fab","Add","lg","CardHeader","flex","background","CurrencyInput","currencyInputProps","dialogue","Dialogue","React","forwardRef","ref","prompt","onContinue","onCancel","add_goal","edit_goal","delete_goal","editGoalForm","paddingBottom","deleteButton","underlyingSelectInput","fontsize","GoalForm","goal","showDeleteModal","setShowDeleteModal","handleDeleteGoal","startValue","startAmount","startDate","startTime","targetValue","targetDate","targetTime","handleSubmitForm","payload","borderRight","paddingRight","paddingLeft","DialogContent","editIcon","grid","centerTextVertical","GoalCard","growth","targetAmount","createdDate","createAt","updatedDate","updatedAt","updated","round","getTime","progressToGoal","percentGoalComplete","percentTimeLeft","daysToGoal","log","etaString","moment","duration","humanize","hex_for_display","mr","LinearProgress","fromNow","Edit","FinancialCalculatorForm","setShowResult","amountOfIncome","livingExpense","expectedRateOfInflation","expectedPercentageOfReturns","rateOfInflation","RegularSavingCalculator","targetFutureAmount","existingInvestmentAmount","rateOfReturn","P","T","r","differenceInDays","calculateDateDifference","F","pow","regularInvestment","diff","SuccessText","Calculator","selectedCalculator","setSelectedCalculator","showResult","formControl","InputLabel","Select","e","FinancialCalculator","GoalsPage","setWealth","setGrowth","setGoals","fetchGoals","useGoals","goals","getWealthInfo","ComparingChart","this","props","chartId","tickers","am4core","am4themes_animated","chart","am4charts","step","leftAxesContainer","layout","dateAxis","xAxes","renderer","template","location","ticks","strokeOpacity","minLabelPosition","maxLabelPosition","keepSelection","groupData","minZoomCount","valueAxis","yAxes","createSeries","series","dataFields","dateX","valueY","valueYShow","tooltipText","tooltip","getFillFromObject","getStrokeFromObject","fill","strokeWidth","stroke","baseGrid","gridContainer","fillOpacity","inside","labels","verticalCenter","seriesList","valueAxis2","volumeSeries","yAxis","groupFields","scrollbarX","scrollbarChart","getIndex","dispose","Component","HoldingPerformance","stockData","StockTable","fetchPortfolio","isOwner","setData","holdingList","onDeleteHolding","Delete","Holdings","sliceList","list","listLen","processChartData","newData","time","close","processStockData","daily","weekly","prediction","dailyData","weeklyData","currentDate","beta","sd","dailyPriceData","projection","futureDateList","Object","keys","generateFutureProjection","weeklyPriceData","predictionData","summaryTableData1","quoteType","country","sector","fullTimeEmployees","summaryTableData2","getPortfolioInfo","stockList","boughtAt","nextDayPred","calcPortfolioStats","change","changePercent","nextDay","pieChartData","calcPortfolioValues","copiedHoldings","reverse","volume","dataPoint","stopSavingValues","j","calcPortfolioValue","totalQuantity","PieChart","startAngle","endAngle","innerRadius","pieSeries","category","slices","getFor","states","getKey","properties","shiftRadius","scale","radius","cs","stepOptions","lightness","hue","wrap","pieSeries2","seriesContainer","createChild","horizontalCenter","adapter","add","text","Overview","data-tip","data-for","data-place","LineChart","valueAxisTitle","minGridDistance","minBulletDistance","pointerOrientation","cornerRadius","xAxis","snapToSeries","tab","TabPanel","other","hidden","p","a11yProps","ChartTabs","useTheme","setValue","Tabs","indicatorColor","textColor","Tab","dir","PortfolioValues","fontStyle","fab","PortfolioPage","useParams","setIsOwner","canRead","setCanRead","updatePortfolio","portfolioTemp","usePortfolio","stockLoading","setStockLoading","onDelete","replace","severity","createMuiTheme","require","palette","primary","main","secondary","typography","fontFamily","join","AllStockTable","MarketPage","allStocks","setAllStocks","borderSpacing","headerColumn","bodyColumn","borderLeft","companyPrice","chartImage","tableHeader","tableBodyData","tableBodyStyle","col","outerIndex","Array","isArray","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","Loading","content","Layout","sidebar","PublicProfile","params","hex","clickedIndex","createdAt","PublicPortfolio","portfolioList","nodups","find","filterData","cardContainer","light","card","ForumCard","forum","ForumsPage","forums","setForums","fetchForums","useForums","expressAttitudeOnPost","attitude","addPost","userContainer","linkContainer","linkWrapper","linkIcon","actionsContainer","PostCard","hasLink","onUpdate","cardContent","createdBy","nLikes","nDislikes","then","NewPostForm","forumID","pickerContainer","DateRangePicker","max","onChangeMin","onChangeMax","utils","DateFnsUtils","KeyboardButtonProps","sectionContainer","flexWrap","search","selectContainer","ForumPage","setQuery","sortingOptions","minDate","setMinDate","maxDate","setMaxDate","sorting","setSorting","setForum","fetchForum","useForum","posts","setPosts","fetchPosts","usePosts","expressAttitudeOnComment","addComment","starContainer","star","CommentCard","comment","rating","Star","RatingInput","Rating","NewCommentForm","postID","hasPortfolio","subheadingContainer","subheading","postCardContainer","commentCardContainer","PostPage","setPost","fetchPost","usePost","comments","setComments","fetchComments","useComments","ProjectionChart","dashed","smoothing","strokeDasharray","dx","dy","FuturePerformance","aspectRatio","setImg","stockInfo","setStockInfo","onSubscribeClick","Profile","longBusinessSummary","RiskMetrics","SharePrices","AreaChart","am4themes_material","scrollbarY","behavior","lineX","TwoColTable","Summary","StockPage","setStock","COMPETITIONS_URL","addCompetitionPortfolio","pushCompetitionPortfolio","stockTicker","stockQuantity","deleteCompetitionPortfolio","accepting","inprogress","finished","CompetitionsPage","competitions","setCompetitions","fetchCompetitions","comp","submissionClose","endDate","maxStartingValue","useCompetitions","now","acceptingSubmissions","filter","compStart","compSubmissionClose","status","inProgress","compEnd","competitionRows","form","bold","tableContainer","CompetitionPortfolioForm","competition","edit","fetchSubmissions","setHoldings","aSubtotal","stockPrice","bSubtotal","handleSubmit","charAt","toUpperCase","newHoldings","stockName","targetIndex","findIndex","handleQuantityChange","deleteHolding","Fragment","highlightRow","normalRow","CompetitionPage","submissions","setSubmissions","setCompetition","Promise","all","submission","newSubmission","holdingDetails","submissionsLoading","useCompetitionSubmissions","userSubmission","valueA","totalValue","valueB","userIndex","editPortfolio","addPortfolio","deletePortfolio","submissionsOpen","rank","app","App","ThemeProvider","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.db24672f.chunk.js","sourcesContent":["export const LOCAL_STORAGE_MAP = {\n  AUTHORIZATION_TOKEN: 'cc_token',\n  AUTHORIZATION_USER: 'cc_user',\n  SHOULD_HIDE_BANNER: 'cc_should_hide_banner',\n};\n\nconst BACKEND_URL = 'http://localhost:8000/api/v1';\nexport const LOGIN_URL = `${BACKEND_URL}/auth/login/`;\nexport const SIGNUP_URL = `${BACKEND_URL}/auth/signup`; // note: no trailing slash here\n\nexport const get_URL = (endpoint, modifier, parameters) => {\n  let url = `${BACKEND_URL}/${endpoint}/`;\n  if (!!modifier) {\n    url += `${modifier + '/'}`;\n  }\n\n  // for our simple use case, parameters will be a string defined by the caller\n  if (!!parameters) {\n    url += `${'?' + parameters}`;\n  }\n  return url;\n};\n\nexport const get_URL_with_QUERY_STRING = (endpoint, modifier) => {\n  if (!!modifier) {\n    return `${BACKEND_URL}/${endpoint}/?${modifier}`;\n  }\n  return `${BACKEND_URL}/${endpoint}/`;\n};\n\n// API key for Google Custom Search\n// const GOOGLE_API_KEY = 'AIzaSyBlhsjmcDLGYbn3tteZzPYyHdEsdJToEL4';\n// const GOOGLE_API_KEY = 'AIzaSyAcKr4BT97uFT3vBFnO3nySlNe-2zYCNpw'; // key - royce\n// const GOOGLE_API_KEY = 'AIzaSyCh4EYnjNry7li_4xoMg00F3x90jZY9YH0';\nconst GOOGLE_API_KEY = 'AIzaSyCXwk3TIvu4yY9pACKFtKvDW_IEJk1god4'; // new key\nexport const API_KEY = GOOGLE_API_KEY;\n","import React, { useState, useEffect, createContext } from 'react';\nimport { LOCAL_STORAGE_MAP } from '../../configuration/constants';\n\nconst UserContext = createContext(undefined);\n\nexport const UserProvider = ({ children }) => {\n  const [token, setToken] = useState(() => {\n    const token = window.localStorage.getItem(LOCAL_STORAGE_MAP.AUTHORIZATION_TOKEN);\n    if (token !== 'undefined') {\n      return token;\n    } else {\n      return undefined;\n    }\n  });\n  const [user, setUser] = useState(() => {\n    const user = window.localStorage.getItem(LOCAL_STORAGE_MAP.AUTHORIZATION_USER);\n    try {\n      return JSON.parse(user);\n    } catch {\n      return undefined;\n    }\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(LOCAL_STORAGE_MAP.AUTHORIZATION_TOKEN, String(token));\n    window.localStorage.setItem(LOCAL_STORAGE_MAP.AUTHORIZATION_USER, JSON.stringify(user));\n  }, [token, user]);\n\n  return (\n    <UserContext.Provider\n      value={{\n        token: token,\n        user: user,\n        setToken: (newToken) => setToken(newToken),\n        setUser: (user) => setUser(user),\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContext;\n","import React from 'react';\nimport { IconButton } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  closeIcon: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n  },\n});\n\nconst CloseIconButton = ({ onClick }) => {\n  const classes = useStyles();\n  return (\n    <IconButton className={classes.closeIcon} onClick={onClick}>\n      <CloseIcon />\n    </IconButton>\n  );\n};\n\nexport default CloseIconButton;\n","import React, { useState, createContext } from 'react';\nimport { Modal, Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CloseIconButton from '../common/icon-buttons/CloseIconButton';\n\nconst ModalContext = createContext(null);\n\nconst useStyles = makeStyles({\n  centered: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    borderRadius: 15,\n    outline: 'none',\n  },\n});\n\nexport const ModalProvider = ({ children }) => {\n  const [modal, setModal] = useState(null);\n  const classes = useStyles();\n\n  return (\n    <ModalContext.Provider value={{ showModal: (component) => setModal(component) }}>\n      {children}\n      {modal && (\n        <Modal open onClose={() => setModal(null)}>\n          <Paper className={classes.centered} elevation={0}>\n            <CloseIconButton onClick={() => setModal(null)} />\n            {modal}\n          </Paper>\n        </Modal>\n      )}\n    </ModalContext.Provider>\n  );\n};\n\nexport default ModalContext;\n","import React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { useField, useFormikContext } from 'formik';\n\nconst TextInput = ({ name, preChange, postChange, ...otherProps }) => {\n  const [fieldProps, meta] = useField(name);\n  const { setFieldValue } = useFormikContext();\n\n  const handleChange = (event) => {\n    const oldValue = fieldProps.value;\n    let processedValue = event.target.value;\n    if (preChange) {\n      processedValue = preChange(event.target.value, oldValue);\n    }\n    setFieldValue(name, processedValue);\n    postChange?.(processedValue, oldValue);\n  };\n\n  const textFieldProps = {\n    fullWidth: true,\n    ...fieldProps,\n    ...otherProps,\n    onChange: handleChange,\n  };\n\n  if (meta && meta.touched && meta.error) {\n    textFieldProps.error = true;\n    textFieldProps.helperText = meta.error;\n  }\n\n  return <TextField {...textFieldProps} />;\n};\n\nexport default TextInput;\n","import React, { useState } from 'react';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport VisibilityOnIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport * as Yup from 'yup';\n\nimport TextInput from './TextInput';\n\nexport const passwordValidation = Yup.string()\n  .min(8, 'Password must be at least 8 characters')\n  .matches(/^[A-Za-z\\d!#$%&*+?@_~-]+$/, 'Password can only contain a-zA-Z0-9!#$%&*+-?@_~')\n  .matches(\n    /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$/,\n    'Password must contain at least one lowercase letter, one uppercase letter and one number',\n  );\n\nconst PasswordInput = ({ InputProps, ...otherProps }) => {\n  const [showPassword, setShowPassword] = useState(false);\n\n  const toggleShow = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const inputProps = {\n    ...InputProps,\n    type: showPassword ? 'text' : 'password',\n    endAdornment: (\n      <InputAdornment position=\"end\">\n        <IconButton onClick={toggleShow} onMouseDown={(event) => event.preventDefault()}>\n          {showPassword ? <VisibilityOnIcon /> : <VisibilityOffIcon />}\n        </IconButton>\n      </InputAdornment>\n    ),\n  };\n\n  return <TextInput {...otherProps} InputProps={inputProps} />;\n};\n\nexport default PasswordInput;\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport { useFormikContext } from 'formik';\n\nconst SubmitButton = ({ children, ...otherProps }) => {\n  const { submitForm, isValid } = useFormikContext();\n\n  const handleSubmit = () => {\n    submitForm();\n  };\n\n  const submitButtonProps = {\n    variant: 'contained',\n    color: 'primary',\n    fullWidth: true,\n    disabled: !isValid,\n    onClick: handleSubmit,\n    ...otherProps,\n  };\n\n  return <Button {...submitButtonProps}>{children}</Button>;\n};\n\nexport default SubmitButton;\n","import { LOCAL_STORAGE_MAP } from '../configuration/constants';\nimport axios from 'axios';\n\n/** HTTP client with methods to perform various HTTP requests. */\nconst HttpClient = () => {\n  const getToken = () => {\n    let token = localStorage.getItem(LOCAL_STORAGE_MAP.AUTHORIZATION_TOKEN);\n    if (token && token !== 'null') {\n      // include authorization token for every request\n      return {\n        headers: {\n          // localStorage.getItem(AUTHORIZATION_TOKEN) falls back to `null`\n          Authorization: `Token ${localStorage.getItem(LOCAL_STORAGE_MAP.AUTHORIZATION_TOKEN)}`,\n        },\n      };\n    }\n  };\n\n  // wrap axios with defaultOptions\n  // options has precedence over defaultOptions\n  return {\n    // requests with token\n    // requests without body\n    get: (url, options = {}) => axios.get(url, { ...getToken(), ...options }),\n    delete: (url, options = {}) => axios.delete(url, { ...getToken(), ...options }),\n    // requests with body\n    post: (url, body, options = {}) => axios.post(url, body, { ...getToken(), ...options }),\n    put: (url, body, options = {}) => axios.put(url, body, { ...getToken(), ...options }),\n    patch: (url, body, options = {}) => axios.patch(url, body, { ...getToken(), ...options }),\n\n    // requests without token\n    simpleGet: axios.get,\n    simpleDelete: axios.delete,\n    simplePost: axios.post,\n    simplePut: axios.put,\n    simplePatch: axios.patch,\n  };\n};\n\nexport default HttpClient;\n","/** handle generic errors with appropriate error messages */\nexport const handleError = (err) => {\n  if (err.response) {\n    // Request made and server responded\n    console.error(err.response);\n  } else if (err.request) {\n    // The request was made but no response was received\n    console.error(err.request);\n  } else {\n    // Something happened in setting up the request that triggered an Error\n    console.error(err.message);\n  }\n};\n","import { LOGIN_URL, SIGNUP_URL } from '../configuration/constants';\nimport HttpClient from './HttpClient';\nimport { handleError } from './backendRequests';\n\nconst HTTPClient = HttpClient();\n\nexport const login = async (username, password) => {\n  try {\n    const res = await HTTPClient.simplePost(LOGIN_URL, {\n      username: username,\n      password: password,\n    });\n    return res.data.key;\n  } catch (err) {\n    if (err.response) {\n      if (err.response.data.non_field_errors) {\n        throw new Error(err.response.data.non_field_errors[0]);\n      } else if (err.response.data.detail) {\n        throw new Error(err.response.data.detail);\n      }\n    }\n    handleError(err);\n  }\n};\n\nexport const signup = async (username, email, password1, password2) => {\n  try {\n    const res = await HTTPClient.simplePost(SIGNUP_URL, {\n      username: username,\n      email: email,\n      password1: password1,\n      password2: password2,\n    });\n    return res.data.key;\n  } catch (err) {\n    if (err.response) {\n      if (err.response.data.non_field_errors) {\n        throw new Error(err.response.data.non_field_errors[0]);\n      } else if (err.response.data.detail) {\n        throw new Error(err.response.data.detail);\n      } else if (err.response.data.username) {\n        throw new Error(err.response.data.username);\n      } else if (err.response.data.email) {\n        throw new Error(err.response.data.email);\n      }\n    }\n    handleError(err);\n  }\n};\n","import React, { useState, useContext } from 'react';\nimport { Paper, Typography, Link } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ModalContext from '../contexts/ModalContext';\nimport UserContext from '../contexts/UserContext';\nimport TextInput from './form-components/TextInput.jsx';\nimport PasswordInput, { passwordValidation } from './form-components/PasswordInput';\nimport SubmitButton from './form-components/SubmitButton';\nimport { login, signup } from '../../utils/authenticationRequests';\n\nconst useStyles = makeStyles({\n  loginForm: {\n    padding: 30,\n    width: 450,\n    height: 750,\n  },\n  title: {\n    marginBottom: 40,\n  },\n  submitButton: {\n    width: '80%',\n    position: 'absolute',\n    bottom: 40,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  input: {\n    marginBottom: 40,\n  },\n  underlyingInput: {\n    fontSize: 20,\n  },\n  submitError: {\n    width: '100%',\n    position: 'absolute',\n    bottom: 100,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    textAlign: 'center',\n    color: 'red',\n  },\n  link: {\n    cursor: 'pointer',\n  },\n});\n\nconst LoginForm = ({ isSignup }) => {\n  const { showModal } = useContext(ModalContext);\n  const { setToken, setUser } = useContext(UserContext);\n  const [showSignUpForm, setShowSignUpForm] = useState(isSignup);\n  const [loading, setLoading] = useState(false);\n  const [submitError, setSubmitError] = useState('');\n\n  const classes = useStyles();\n\n  const initialFormValues = {\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n  };\n\n  const formValidation = {\n    username: Yup.string().required('Required'),\n    password: passwordValidation.required('Required'),\n  };\n\n  if (showSignUpForm) {\n    formValidation.email = Yup.string().email('Invalid email').required('Required');\n    formValidation.confirmPassword = Yup.string()\n      .oneOf([Yup.ref('password')], 'Passwords do not match')\n      .required('Required');\n  }\n\n  const submitForm = async (values) => {\n    setLoading(true);\n    try {\n      let token;\n      if (showSignUpForm) {\n        token = await signup(\n          values.username,\n          values.email,\n          values.password,\n          values.confirmPassword,\n        );\n      } else {\n        token = await login(values.username, values.password);\n      }\n      setToken(token);\n      setUser({ username: values.username });\n      setSubmitError('');\n      showModal(null);\n    } catch (err) {\n      setSubmitError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Paper className={classes.loginForm}>\n      <Formik\n        initialValues={initialFormValues}\n        validationSchema={Yup.object().shape(formValidation)}\n        onSubmit={(values) => {\n          submitForm(values);\n        }}\n      >\n        <Form>\n          <Typography variant=\"h3\" align=\"center\" className={classes.title}>\n            {showSignUpForm ? 'Sign Up' : 'Log In'}\n          </Typography>\n          <TextInput\n            name=\"username\"\n            label=\"Username\"\n            className={classes.input}\n            InputProps={{\n              className: classes.underlyingInput,\n            }}\n            autoComplete=\"username\"\n          />\n          {showSignUpForm && (\n            <TextInput\n              name=\"email\"\n              label=\"Email\"\n              className={classes.input}\n              InputProps={{\n                className: classes.underlyingInput,\n              }}\n              autoComplete=\"email\"\n            />\n          )}\n          <PasswordInput\n            name=\"password\"\n            label=\"Password\"\n            className={classes.input}\n            InputProps={{\n              className: classes.underlyingInput,\n            }}\n            autoComplete=\"current-password\"\n          />\n          {showSignUpForm && (\n            <PasswordInput\n              name=\"confirmPassword\"\n              label=\"Confirm Password\"\n              className={classes.input}\n              InputProps={{\n                className: classes.underlyingInput,\n              }}\n              autoComplete=\"current-password\"\n            />\n          )}\n          <Link\n            onClick={() => {\n              showSignUpForm ? setShowSignUpForm(false) : setShowSignUpForm(true);\n              setSubmitError('');\n            }}\n            className={classes.link}\n          >\n            {showSignUpForm\n              ? 'Already have an account? Click here to login.'\n              : 'New here? Click here to sign up.'}\n          </Link>\n          {!loading && submitError && (\n            <Typography variant=\"body1\" className={classes.submitError}>\n              {submitError}\n            </Typography>\n          )}\n          <SubmitButton className={classes.submitButton} fullWidth={false}>\n            Submit\n          </SubmitButton>\n        </Form>\n      </Formik>\n    </Paper>\n  );\n};\n\nexport default LoginForm;\n","export default __webpack_public_path__ + \"static/media/logo.1111b605.jpg\";","import React from 'react';\nimport { Box } from '@material-ui/core';\nimport logo from './logo.jpg';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst useStyles = makeStyles({\n  imageContainer: {\n    width: 155,\n    height: 58,\n    objectFit: 'cover',\n    overflow: 'hidden',\n    borderRadius: 10,\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n  },\n});\n\nconst Logo = () => {\n  const classes = useStyles();\n\n  return (\n    <Box display=\"flex\">\n      <Link component={RouterLink} to=\"/\">\n        <div className={classes.imageContainer}>\n          <img className={classes.image} src={logo} alt=\"Cha-Ching\" />\n        </div>\n      </Link>\n    </Box>\n  );\n};\n\nexport default Logo;\n","import React, { useContext } from 'react';\nimport { Box, AppBar, Toolbar, Button, ButtonGroup } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router-dom';\n\nimport UserContext from '../contexts/UserContext';\nimport ModalContext from '../contexts/ModalContext';\nimport LoginForm from '../forms/LoginForm';\nimport Logo from './logo/Logo';\nimport { LOCAL_STORAGE_MAP } from '../../configuration/constants';\n\nconst useStyles = makeStyles({\n  navLinks: {\n    marginLeft: 20,\n  },\n  navLink: {\n    color: 'white',\n  },\n});\n\nconst Header = () => {\n  const { showModal } = useContext(ModalContext);\n  const { token, setToken, setUser } = useContext(UserContext);\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  const handleLoginClick = () => {\n    showModal(<LoginForm />);\n  };\n\n  const handleLogoutClick = () => {\n    setToken('');\n    setUser(null);\n    localStorage.setItem(LOCAL_STORAGE_MAP.AUTHORIZATION_TOKEN, null);\n    history.push('/');\n  };\n\n  return (\n    <AppBar position=\"static\" styles={{ flexGrow: 1 }}>\n      <Toolbar>\n        <Box flexGrow={1} display=\"flex\">\n          <Logo />\n          <ButtonGroup variant=\"text\" size=\"large\" className={classes.navLinks}>\n            <Button className={classes.navLink} onClick={() => history.push('/')}>\n              Home\n            </Button>\n            <Button className={classes.navLink} onClick={() => history.push('/market')}>\n              Market\n            </Button>\n            <Button className={classes.navLink} onClick={() => history.push('/competitions')}>\n              Competitions\n            </Button>\n            <Button className={classes.navLink} onClick={() => history.push('/forums')}>\n              Forums\n            </Button>\n          </ButtonGroup>\n        </Box>\n        <ButtonGroup variant=\"text\" size=\"large\" className={classes.navLinks}>\n          {token && [\n            <Button className={classes.navLink} onClick={() => history.push('/portfolio')}>\n              My Portfolios\n            </Button>,\n            <Button className={classes.navLink} onClick={() => history.push('/goals')}>\n              My Goals\n            </Button>,\n          ]}\n        </ButtonGroup>\n        <Button\n          variant=\"contained\"\n          size=\"large\"\n          onClick={token ? handleLogoutClick : handleLoginClick}\n        >\n          {token && token !== 'null' ? 'Log Out' : 'Login'}\n        </Button>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CloseIconButton from '../common/icon-buttons/CloseIconButton';\n\nconst useStyles = makeStyles({\n  banner: {\n    marginTop: 10,\n    padding: 10,\n    borderRadius: 10,\n    position: 'relative',\n  },\n  closeIcon: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n  },\n});\n\nconst Banner = ({ children, onDismiss }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.banner} elevation={15}>\n      <CloseIconButton onClick={onDismiss} />\n      {children}\n    </Paper>\n  );\n};\n\nexport default Banner;\n","import axios from 'axios';\nimport { API_KEY } from '../configuration/constants';\n\nconst STOCK = 'stocks/';\nexport const BACKEND_URL = 'http://localhost:8000/api/v1';\nexport const SEARCH_STOCK_URL = `${BACKEND_URL}/stocks/?search=`;\nexport const PORTFOLIO_URL = `${BACKEND_URL}/portfolios/`;\nexport const HOLDING_URL = `${BACKEND_URL}/holdings/`;\nexport const TRANSACTION_URL = `${BACKEND_URL}/transactions/`;\nexport const MARKET_URL = `${BACKEND_URL}/market/`;\nexport const MARKET_INFO_URL = `${BACKEND_URL}/marketinfo/`;\nexport const YF_OVERVIEW = 'yfoverview';\nexport const YF_DAILY = 'yfdaily';\nexport const YF_WEEKLY = 'yfweekly';\nexport const YF_QUOTE = 'yfquote';\nexport const YF_NEWS = 'yfnews';\nexport const PREDICTION = 'prediction';\n\nconst handleNonResponseErrors = (err) => {\n  if (err.request) {\n    console.error(err.request);\n    throw new Error('Did not receive response from server');\n  } else {\n    console.error('Error', err.message);\n    throw new Error('Something went wrong');\n  }\n};\n\n// Authentication\nconst LOGIN = `${BACKEND_URL}/auth/login/`;\nexport const login = async (email, password) => {\n  try {\n    const res = await axios.post(LOGIN, {\n      username: email,\n      password: password,\n    });\n    return res.data.key;\n  } catch (err) {\n    if (err.response) {\n      console.error(err.response);\n      if (err.response.data.non_field_errors) {\n        throw new Error(err.response.data.non_field_errors[0]);\n      } else if (err.response.data.detail) {\n        throw new Error(err.response.data.detail);\n      }\n    } else {\n      handleNonResponseErrors(err);\n    }\n  }\n};\n\nconst SIGNUP = `${BACKEND_URL}/auth/signup`;\nexport const signup = async (email, password, confirmPassword) => {\n  try {\n    const res = await axios.post(SIGNUP, {\n      username: email,\n      password1: password,\n      password2: confirmPassword,\n    });\n    return res.data.key;\n  } catch (err) {\n    if (err.response) {\n      console.error(err.response);\n      if (err.response.data.non_field_errors) {\n        throw new Error(err.response.data.non_field_errors[0]);\n      } else if (err.response.data.detail) {\n        throw new Error(err.response.data.detail);\n      } else if (err.response.data.username) {\n        throw new Error(err.response.data.username);\n      }\n    } else {\n      handleNonResponseErrors(err);\n    }\n  }\n};\n\n// Portfolios\nexport const MY_PORTFOLIO_URL = `${PORTFOLIO_URL}mine/`;\nexport const getUserPortfolios = async (token) => {\n  try {\n    const res = await axios.get(MY_PORTFOLIO_URL, {\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n    });\n    return res.data;\n  } catch (err) {\n    handleNonResponseErrors(err);\n  }\n};\n\nexport const getStock = async (setter, id) => {\n  try {\n    const { data } = await axios.get(`${BACKEND_URL}/${STOCK}${id}/`);\n    setter(data);\n  } catch (err) {\n    console.error('err', err);\n  }\n};\n\nexport const getStockData = async (id, dataType) => {\n  try {\n    const { data } = await axios.get(`${BACKEND_URL}/${dataType}/${id}`);\n    return data;\n  } catch (err) {\n    console.error('err', err);\n  }\n};\n\nexport const getHoldingData = async (id) => {\n  try {\n    const { data } = await axios.get(`${BACKEND_URL}/holdingdata/${id}`);\n    return data;\n  } catch (err) {\n    console.error('err', err);\n  }\n};\n\nexport const getAllStockData = async () => {\n  try {\n    const { data } = await axios.get(`${BACKEND_URL}/${STOCK}?limit=200`);\n    return data['results'];\n  } catch (err) {\n    console.error('err', err);\n  }\n};\n\nexport const getMarketData = async () => {\n  try {\n    const { data } = await axios.get(MARKET_URL);\n    return data;\n  } catch (err) {\n    console.error('err', err);\n  }\n};\n\nexport const getMarketInfo = async () => {\n  try {\n    const { data } = await axios.get(MARKET_INFO_URL);\n    return data;\n  } catch (err) {\n    console.error('err', err);\n  }\n};\n\nexport const makePrediction = async (id) => {\n  try {\n    const { data } = await axios.get(`${BACKEND_URL}/${PREDICTION}/${id}`);\n    return data;\n  } catch (err) {\n    console.error('err', err);\n  }\n};\n\nexport const addStockToPortfolio = async (token, stock_id, portfolio_id, quantity, date) => {\n  try {\n    // Check if holding already in the target portfolio for the stock\n    const resHolding = await axios.get(\n      `${HOLDING_URL}?stock=${stock_id}&portfolio=${portfolio_id}`,\n    );\n    let holding = null;\n    if (resHolding.data?.results?.length) {\n      holding = resHolding.data.results[0];\n    }\n    if (!holding) {\n      // If holding does not exists create one\n      const resHoldingCreate = await axios.post(\n        HOLDING_URL,\n        {\n          stock: stock_id,\n          portfolio: portfolio_id,\n        },\n        {\n          headers: {\n            Authorization: `Token ${token}`,\n          },\n        },\n      );\n      holding = resHoldingCreate.data;\n    }\n    // Add transaction to holding\n    const resTransaction = await axios.post(\n      TRANSACTION_URL,\n      {\n        quantity: quantity,\n        date: date,\n        holding: holding.id,\n      },\n      {\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n      },\n    );\n    return { holding: holding, transaction: resTransaction.data };\n  } catch (err) {\n    if (err.response) {\n      console.error(err.response);\n    } else {\n      handleNonResponseErrors(err);\n    }\n  }\n};\n\n// Goals\nconst GOALS = `${BACKEND_URL}/goals/`;\nexport const getGoals = async (token) => {\n  try {\n    const res = await axios.get(`${GOALS}mine`, {\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n    });\n    return res.data;\n  } catch (err) {\n    if (err.response) {\n      console.error(err.reponse);\n    } else {\n      handleNonResponseErrors(err);\n    }\n  }\n};\n\nexport const goalEdit = async (token, id, payload) => {\n  try {\n    const res = await axios.put(`${GOALS}${id}/`, payload, {\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n    });\n    return res.data.results;\n  } catch (err) {\n    if (err.response) {\n      console.error(err.reponse);\n    } else {\n      handleNonResponseErrors(err);\n    }\n  }\n};\n\nexport const goalAdd = async (token, payload) => {\n  try {\n    const res = await axios.post(GOALS, payload, {\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n    });\n    return res.data.results;\n  } catch (err) {\n    if (err.response) {\n      console.error(err.reponse);\n    } else {\n      handleNonResponseErrors(err);\n    }\n  }\n};\n\nexport const goalDelete = async (token, id) => {\n  try {\n    const res = await axios.delete(`${GOALS}${id}/`, {\n      headers: {\n        Authorization: `Token ${token}`,\n      },\n    });\n    return res.data.results;\n  } catch (err) {\n    if (err.response) {\n      console.error(err.reponse);\n    } else {\n      handleNonResponseErrors(err);\n    }\n  }\n};\n\n// Colours\nconst COLORS = `${BACKEND_URL}/colours`;\nexport const getColors = async () => {\n  try {\n    const res = await axios.get(COLORS);\n    return res.data.results;\n  } catch (err) {\n    if (err.response) {\n      console.error(err.reponse);\n    } else {\n      handleNonResponseErrors(err);\n    }\n  }\n};\n\n// Fetch searched stock results from backend and update given state\nexport const getSearchStocks = async (input) => {\n  try {\n    const res = await axios.get(`${SEARCH_STOCK_URL}${input}`);\n    return res.data.results;\n  } catch (err) {\n    handleNonResponseErrors(err);\n  }\n};\n\n// Return the url to the first results of Google Image Search\nexport const getGoogleImage = async (query, noImg = 1, size = 'large') => {\n  const cx = '0bb9231f2a3774eb0';\n  const num = '&num=' + String(noImg);\n  const start = '&start=1';\n  const searchType = '&searchType=image';\n  const imgSize = '&imgSize=' + size;\n  const base_url = `https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=${cx}&q=${query}${num}${start}${searchType}${imgSize}`;\n\n  // Get search results\n  const { data } = await axios.get(base_url);\n  // Get all links from the response\n  const paths = [];\n  for (let i = 0; i < data.items.length; i++) {\n    paths.push(data.items[i].link);\n  }\n  // Return the list of image paths\n  return paths;\n};\n","import HttpClient from './HttpClient';\nimport { handleError } from './backendRequests';\nimport { BACKEND_URL } from '../api/backendRequests';\n\nconst HTTPClient = HttpClient();\n\nexport const subscribeToStock = async (id, isSubscribed, token) => {\n  try {\n    const res = await HTTPClient.post(`${BACKEND_URL}/subscribeToEmail`, {\n      stockId: id,\n      isSubscribed,\n    });\n\n    return res.data.results;\n  } catch (err) {\n    handleError(err);\n  }\n};\n\nexport const checkSubscribedForSingleStock = async (id, setIsSubscribed, setLoading) => {\n  try {\n    const res = await HTTPClient.post(`${BACKEND_URL}/checkSubscribedForSingleStock`, {\n      stockId: id,\n    });\n    setIsSubscribed(res.data);\n  } catch (err) {\n    handleError(err);\n  }\n  setLoading(false);\n};\n\nexport const unSubscribeFromAllStock = async () => {\n  try {\n    const res = await HTTPClient.post(`${BACKEND_URL}/unSubscribeFromAllStock`);\n  } catch (err) {\n    handleError(err);\n  }\n};\n\nexport const getSubscribedStock = async (setLoading, setSubscriptionCount) => {\n  try {\n    const res = await HTTPClient.get(`${BACKEND_URL}/getSubscribedStock`);\n\n    setSubscriptionCount(res.data);\n  } catch (err) {\n    console.error('Error', err);\n    handleError(err);\n  }\n  setLoading(false);\n};\n","import React, { useContext, useState, useEffect } from 'react';\nimport { Typography, ButtonGroup, Button, CircularProgress } from '@material-ui/core';\n\nimport ModalContext from '../../contexts/ModalContext';\nimport LoginForm from '../../forms/LoginForm';\nimport Banner from '../../common/Banner';\nimport { unSubscribeFromAllStock, getSubscribedStock } from '../../../utils/useStocks';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  title: {\n    fontWeight: 'bold',\n    marginRight: 20,\n    marginLeft: 8,\n  },\n  subtitle: {\n    color: '#666',\n    marginBottom: 10,\n    marginLeft: 8,\n  },\n  description: {\n    marginBottom: 10,\n    marginLeft: 8,\n  },\n});\n\nconst NewPlatformBanner = ({ onDismiss }) => {\n  const { showModal } = useContext(ModalContext);\n  const [loading, setLoading] = useState(true);\n  const [subscriptionCount, setSubscriptionCount] = useState(0);\n  const classes = useStyles();\n\n  const onUnsubscribeClicked = async () => {\n    await unSubscribeFromAllStock();\n    setSubscriptionCount(0);\n  };\n\n  useEffect(() => {\n    getSubscribedStock(setLoading, setSubscriptionCount);\n  }, []);\n  const onSignupClick = () => {\n    showModal(<LoginForm isSignup />);\n  };\n\n  return (\n    <Banner onDismiss={onDismiss}>\n      <Typography className={classes.title} variant=\"h4\">\n        Brand New Stock Portfolio Platform!\n      </Typography>\n      <Typography className={classes.subtitle} variant=\"h6\">\n        Boost your confidence in your portfolio through tracking, predicting and community feedback.\n      </Typography>\n      <ButtonGroup variant=\"text\" color=\"primary\">\n        <Button onClick={onSignupClick}>Sign Up</Button>\n        <Button\n          disabled={subscriptionCount === 0}\n          onClick={onUnsubscribeClicked}\n          variant=\"contained\"\n        >\n          {loading ? (\n            <CircularProgress color=\"primary\" size={30} />\n          ) : (\n            '  Unsubscribe Email Notifications'\n          )}\n        </Button>\n      </ButtonGroup>\n    </Banner>\n  );\n};\n\nexport default NewPlatformBanner;\n","import { get_URL } from '../configuration/constants';\nimport { handleError } from './backendRequests';\nimport HttpClient from './HttpClient';\n\nconst HTTPClient = HttpClient();\n\nexport const addStockToPortfolio = async (token, stock_id, portfolio_id, quantity, date) => {\n  try {\n    // Check if holding already in the target portfolio for the stock\n    const resHolding = await HTTPClient.get(\n      `${get_URL('holdings')}?stock=${stock_id}&portfolio=${portfolio_id}`,\n    );\n    let holding = null;\n    if (resHolding.data?.results?.length) {\n      holding = resHolding.data.results[0];\n    }\n    if (!holding) {\n      // If holding does not exists create one\n      const resHoldingCreate = await HTTPClient.post(get_URL('holdings'), {\n        stock: stock_id,\n        portfolio: portfolio_id,\n      });\n      holding = resHoldingCreate.data;\n    }\n    // Add transaction to holding\n    const resTransaction = await HTTPClient.post(get_URL('transactions'), {\n      quantity: quantity,\n      date: date,\n      holding: holding.id,\n    });\n    return { holding: holding, transaction: resTransaction.data };\n  } catch (err) {\n    handleError(err);\n  }\n};\n\n/** Update holding for a portfolio */\nexport const updateHoldings = async (holdingId, quantity) => {\n  try {\n    const date = new Date();\n    await HTTPClient.post(get_URL('transactions'), {\n      quantity: quantity,\n      holding: holdingId,\n      date: date.toISOString().substring(0, 10),\n    });\n  } catch (err) {\n    handleError(err);\n  }\n};\n\n/** Fetch searched stock results from backend and update given state */\nexport const getSearchStocks = async (input) => {\n  try {\n    const res = await HTTPClient.get(`${get_URL('stocks')}?search=${input}`);\n    return res.data.results;\n  } catch (err) {\n    handleError(err);\n  }\n};\n","import React from 'react';\nimport { TextField, MenuItem } from '@material-ui/core';\nimport { useField, useFormikContext } from 'formik';\n\nconst SelectInput = ({ name, options, preChange, postChange, ...otherProps }) => {\n  const [fieldProps, meta] = useField(name);\n  const { setFieldValue } = useFormikContext();\n\n  const handleChange = (event) => {\n    const oldValue = fieldProps.value;\n    let processedValue = event.target.value;\n    if (preChange) {\n      processedValue = preChange(event.target.value, oldValue);\n    }\n    setFieldValue(name, processedValue);\n    postChange?.(processedValue, oldValue);\n  };\n\n  const selectConfig = {\n    fullWidth: true,\n    ...fieldProps,\n    ...otherProps,\n    select: true,\n    onChange: handleChange,\n  };\n\n  if (meta && meta.touched && meta.error) {\n    selectConfig.error = true;\n    selectConfig.helperText = meta.error;\n  }\n\n  return (\n    <TextField {...selectConfig}>\n      {!options && null}\n      {options?.map((option, index) => {\n        return (\n          <MenuItem key={index} value={option.value}>\n            {option.label}\n          </MenuItem>\n        );\n      })}\n    </TextField>\n  );\n};\n\nexport default SelectInput;\n","import React from 'react';\nimport TextInput from './TextInput';\n\nconst IntegerInput = ({ preChange, positive, ...otherProps }) => {\n  const handlePreChange = (newValue, oldValue) => {\n    let processedValue = newValue;\n    const regex = positive ? /[^0-9]/ : /[^0-9-]/;\n    if (regex.test(newValue)) {\n      processedValue = oldValue;\n    }\n    if (preChange) {\n      processedValue = preChange(processedValue, oldValue);\n    }\n    return processedValue;\n  };\n\n  return <TextInput {...otherProps} preChange={handlePreChange} />;\n};\n\nexport default IntegerInput;\n","import React from 'react';\nimport { KeyboardDatePicker } from '@material-ui/pickers';\nimport { useField, useFormikContext } from 'formik';\n\nconst DateInput = ({ name, preChange, postChange, ...otherProps }) => {\n  const [fieldProps, meta] = useField(name);\n  const { setFieldValue } = useFormikContext();\n\n  const handleDateChange = (newDate) => {\n    const oldValue = fieldProps.value;\n    let processedValue = newDate;\n    if (preChange) {\n      processedValue = preChange(newDate, oldValue);\n    }\n    setFieldValue(name, processedValue);\n    postChange?.(processedValue, oldValue);\n  };\n\n  const dateFieldProps = {\n    fullWidth: true,\n    variant: 'inline',\n    format: 'dd/MM/yyyy',\n    autoOk: true,\n\n    ...fieldProps,\n    ...otherProps,\n    onChange: handleDateChange,\n  };\n\n  if (meta && meta.touched && meta.error) {\n    dateFieldProps.error = true;\n    dateFieldProps.helperText = meta.error;\n  }\n\n  return <KeyboardDatePicker {...dateFieldProps} />;\n};\n\nexport default DateInput;\n","import React from 'react';\n\nimport { Typography, Paper, Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LibraryAddCheckIcon from '@material-ui/icons/LibraryAddCheck';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    padding: 30,\n    width: 400,\n    height: 200,\n  },\n  submitButton: {\n    position: 'absolute',\n    bottom: 40,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  submitError: {\n    width: '100%',\n    position: 'absolute',\n    bottom: 100,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    textAlign: 'center',\n    color: 'red',\n  },\n}));\n\nconst TransactionResult = ({ info }) => {\n  const classes = useStyles();\n  const holding = info.holding;\n  const transaction = info.data;\n  const isSold = Number(transaction.quantity) < 0;\n\n  return (\n    <Paper className={classes.root}>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm container>\n          <Grid item xs container direction=\"column\" spacing={2}>\n            <Grid item xs>\n              <Typography variant=\"subtitle1\">Transaction Successful!</Typography>\n              <Typography gutterBottom variant=\"subtitle1\">\n                {holding.stock.name} Shares {isSold === true ? 'Sold' : 'Purchased'}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                Transaction Price: ${transaction.price}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                Quantity:{' '}\n                {isSold === true ? -1 * Number(transaction.quantity) : Number(transaction.quantity)}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {isSold === true\n                  ? `Total Earn: $${-1 * Number(transaction.cost)}`\n                  : `Total Pay: $${Number(transaction.cost)}`}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                Date: {transaction.date}\n              </Typography>\n            </Grid>\n          </Grid>\n          <Grid item>\n            <LibraryAddCheckIcon centre=\"true\" />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default TransactionResult;\n","export const formatCurrency = (amount) => {\n  const floatAmount = parseFloat(amount);\n  const formatter = new Intl.NumberFormat('en-AU', {\n    style: 'currency',\n    currency: 'AUD',\n  });\n  return formatter.format(floatAmount);\n};\n\nconst zeroPadNumber = (n, len) => {\n  return String(n).padStart(len, '0');\n};\n\nexport const formatDate = (date, format) => {\n  const D = date.getDate();\n  const M = date.getMonth() + 1;\n  const Y = date.getFullYear();\n  const h = date.getHours();\n  const m = date.getMinutes();\n  const s = date.getSeconds();\n\n  if (format === 'YYYY-MM-DD') {\n    return `${Y}-${String(M).padStart(2, '0')}-${String(D).padStart(2, '0')}`;\n  } else if (format === 'DD-MM-YYYY hh:mm:ss') {\n    return (\n      `${zeroPadNumber(D, 2)}-${zeroPadNumber(M, 2)}-${Y} ` +\n      `${zeroPadNumber(h, 2)}:${zeroPadNumber(m, 2)}:${zeroPadNumber(s, 2)}`\n    );\n  }\n};\n","import HttpClient from './HttpClient';\nimport { useCallback, useEffect, useState } from 'react';\nimport { handleError } from './backendRequests';\nimport { get_URL, get_URL_with_QUERY_STRING } from '../configuration/constants';\nimport { formatDate } from '../components/common/formatting';\n\nconst HTTPClient = HttpClient();\n\nexport const usePortfolios = (initialState, dependencies) => {\n  const [portfolios, setPortfolios] = useState(initialState);\n  const [diversification, setDiversification] = useState(null);\n\n  const fetchPortfolios = useCallback(async () => {\n    try {\n      const res = await HTTPClient.get(get_URL('portfolios', 'mine'));\n      const { results } = res.data;\n\n      const stockValues = [0];\n      results.map((portfolio) => {\n        portfolio.holdings.map((holding) => {\n          stockValues.push(Number(holding.quantity) * Number(holding.stock.latestPrice));\n        });\n      });\n\n      const totalPortfolioValue = stockValues.reduce((total, num) => total + num);\n\n      const b = stockValues.map((value) => {\n        return Math.abs(value / totalPortfolioValue);\n      });\n      const sumOfB = b.reduce((total, num) => total + num);\n\n      setDiversification(1 - sumOfB);\n      setPortfolios(res.data.results);\n    } catch (err) {\n      console.error('Error', err);\n      handleError(err);\n      setPortfolios(initialState);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    fetchPortfolios();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchPortfolios, ...dependencies]);\n\n  return [portfolios, setPortfolios, diversification];\n};\n\nexport const usePortfolio = (initialState, id, dependencies) => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [portfolio, setPortfolio] = useState(initialState);\n  const [diversification, setDiversification] = useState('');\n  const [isOwner, setIsOwner] = useState(false);\n  const [canRead, setCanRead] = useState(false);\n\n  const updatePortfolio = async (id, body) => {\n    setLoading(true);\n    try {\n      const res = await HTTPClient.put(get_URL('portfolios', id), body);\n      await fetchPortfolio();\n\n      setError(false);\n    } catch (err) {\n      setError('Something went wrong');\n      handleError(err);\n    }\n    setLoading(false);\n  };\n\n  const fetchPortfolio = useCallback(async () => {\n    setLoading(true);\n    try {\n      const res = await HTTPClient.get(get_URL('portfolios', id));\n      setError(false);\n      const portfolioTemp = res.data.result;\n      const stockValues = [0];\n      portfolioTemp.holdings.map((item, index) => {\n        stockValues.push(Number(item.quantity) * Number(item.stock.latestPrice));\n      });\n      const totalPortfolioValue = stockValues.reduce((total, num) => total + num);\n      const b = stockValues.map((value) => {\n        return Math.abs(value / totalPortfolioValue);\n      });\n      const sumOfB = b.reduce((total, num) => total + num);\n      setDiversification(1 - sumOfB);\n\n      setPortfolio({ ...portfolioTemp });\n      setIsOwner(res.data.isOwner);\n      setCanRead(res.data.isOwner || res.data.result.isPublic);\n      //setPortfolio(res.data)\n    } catch (err) {\n      console.error('Error', err);\n      setError('Something went wrong');\n      handleError(err);\n      setPortfolio(initialState);\n    }\n    setLoading(false);\n  }, [initialState, id]);\n\n  useEffect(() => {\n    fetchPortfolio();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [...dependencies]);\n  return [\n    portfolio,\n    setPortfolio,\n    fetchPortfolio,\n    loading,\n    error,\n    updatePortfolio,\n    diversification,\n    isOwner,\n    canRead,\n  ];\n};\n\nexport const usePublicPortfolio = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [portfolios, setPortfolios] = useState([]);\n  const [allPortfolios, setAllPortfolios] = useState([]);\n  const [portfolio, setPortfolio] = useState(null);\n  const [diversification, setDiversification] = useState(null);\n\n  const fetchAllPortfolios = async () => {\n    setLoading(true);\n    try {\n      const res = await HTTPClient.get(get_URL(`portfolios/publicPortfoliosRankedByValue`));\n\n      setError(false);\n      setAllPortfolios(res.data.results);\n    } catch (err) {\n      setError('Something went wrong');\n      handleError(err);\n    }\n    setLoading(false);\n  };\n\n  const fetchPortfoliosByUserId = async (userId) => {\n    setLoading(true);\n    try {\n      const res = await HTTPClient.get(\n        get_URL_with_QUERY_STRING(`portfolios/publicPortfolio`, `userId=${userId}`),\n      );\n\n      setError(false);\n      setPortfolios(res.data.results);\n    } catch (err) {\n      setError('Something went wrong');\n      handleError(err);\n    }\n    setLoading(false);\n  };\n\n  const fetchPortfoliosByPortfolioId = async (portfolioId) => {\n    setLoading(true);\n    try {\n      const res = await HTTPClient.get(\n        get_URL_with_QUERY_STRING(\n          `portfolios/getPublicPortfolioById`,\n          `portfolioId=${portfolioId}`,\n        ),\n      );\n\n      setError(false);\n      setPortfolio(res.data.results[0]);\n      const result = calculateDiversification(res.data.results[0]);\n      setDiversification(result.diversification);\n      // setPortfolios(res.data.results)\n    } catch (err) {\n      setError('Something went wrong');\n      handleError(err);\n    }\n    setLoading(false);\n  };\n\n  return {\n    portfolios,\n    allPortfolios,\n    fetchAllPortfolios,\n    fetchPortfoliosByUserId,\n    fetchPortfoliosByPortfolioId,\n    portfolio,\n    loading,\n    error,\n    diversification,\n  };\n};\n\n//http://localhost:8000/api/v1/portfolios/publicPortfolio/?userId=2\nexport const delete_portfolio = async (id) => {\n  try {\n    await HTTPClient.delete(get_URL('portfolios', id));\n  } catch (err) {\n    handleError(err);\n  }\n};\n\nexport const add_portfolio = async (body) => {\n  try {\n    await HTTPClient.post(get_URL('portfolios'), body);\n  } catch (err) {\n    handleError(err);\n  }\n};\n\nexport const adjustDate = (date) => {\n  const copy = new Date(date);\n  let dayOfWeek = date.getDay();\n  while (dayOfWeek < 1 || dayOfWeek > 5) {\n    copy.setDate(copy.getDate() - 1);\n    dayOfWeek = copy.getDay();\n  }\n  return copy;\n};\n\nexport const get_wealth = async (date) => {\n  try {\n    let res;\n    if (!!date) {\n      const adjustedDate = adjustDate(new Date(date));\n      res = await HTTPClient.get(\n        get_URL('portfolios', `wealth/${formatDate(adjustedDate, 'YYYY-MM-DD')}`),\n      );\n    } else {\n      res = await HTTPClient.get(get_URL('portfolios', 'wealth'));\n    }\n    return res.data?.result;\n  } catch (err) {\n    handleError(err);\n  }\n};\n\nexport const get_growth = async (wealth) => {\n  const today = new Date();\n  const oneYearAgo = new Date();\n  oneYearAgo.setFullYear(today.getFullYear() - 1);\n  const wealthLastYear = await get_wealth(oneYearAgo);\n  return wealth / wealthLastYear;\n};\n","import React, { useState, useContext } from 'react';\n\nimport { Paper, Typography, Grid } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ModalContext from '../contexts/ModalContext';\nimport UserContext from '../contexts/UserContext';\nimport { addStockToPortfolio } from '../../utils/transactionRequests';\nimport SelectInput from './form-components/SelectInput';\nimport IntegerInput from './form-components/IntegerInput';\nimport DateInput from './form-components/DateInput';\nimport SubmitButton from './form-components/SubmitButton';\nimport TransactionResult from './TransactionResult';\nimport { formatDate } from '../common/formatting';\nimport { usePortfolios } from '../../utils/usePortfolios';\nimport { Link as RouterLink } from 'react-router-dom';\nimport Link from '@material-ui/core/Link';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3),\n    width: 500,\n    minHeight: 500,\n  },\n  field: {\n    padding: theme.spacing(2),\n  },\n  submitButton: {\n    width: '80%',\n    position: 'absolute',\n    bottom: 40,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  submitError: {\n    width: '100%',\n    position: 'absolute',\n    bottom: 100,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    textAlign: 'center',\n    color: 'red',\n  },\n}));\n\n// Show form for adding a selected stock to a portfolio\nconst AddStockForm = ({ info }) => {\n  const classes = useStyles();\n  // Get authorization token for post request\n  const { token } = useContext(UserContext);\n  const { showModal } = useContext(ModalContext);\n  const [portfolios] = usePortfolios([], [token, showModal]);\n  const [submitError, setSubmitError] = useState('');\n\n  const initialFormValues = {\n    portfolio: '',\n    quantity: 1,\n    date: new Date(),\n  };\n\n  const formValidation = {\n    portfolio: Yup.string().required('Required'),\n    quantity: Yup.number()\n      .integer()\n      .typeError('Quantity must be an integer')\n      .test('is-not-zero', 'Cannot be 0', (value) => {\n        return parseInt(value) !== 0;\n      })\n      .required('Required'),\n    date: Yup.date().required('required'),\n  };\n\n  const submitForm = async (values) => {\n    try {\n      const { holding, transaction } = await addStockToPortfolio(\n        token,\n        info.stock.id,\n        values.portfolio,\n        values.quantity,\n        formatDate(values.date, 'YYYY-MM-DD'),\n      );\n      showModal(<TransactionResult info={{ holding: holding, data: transaction }} />);\n    } catch (err) {\n      setSubmitError(err.message);\n    }\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <Formik\n        initialValues={initialFormValues}\n        validationSchema={Yup.object().shape(formValidation)}\n        onSubmit={(values) => {\n          submitForm(values);\n        }}\n      >\n        <Form>\n          <Grid container>\n            <Grid item xs={12}>\n              <Typography variant=\"h4\" align=\"center\">\n                Add {info.stock.ticker} to Your Portfolio\n              </Typography>\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <SelectInput\n                name=\"portfolio\"\n                label=\"Portfolio\"\n                options={portfolios.map((portfolio) => {\n                  return {\n                    value: portfolio.id,\n                    label: portfolio.name,\n                  };\n                })}\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <Grid container justify=\"flex-end\">\n                <div>\n                  <Link component={RouterLink} to=\"/portfolio\">\n                    Add a portfolio\n                  </Link>\n                </div>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} md={6} className={classes.field}>\n              <IntegerInput name=\"quantity\" label=\"Quantity\" positive />\n            </Grid>\n            <Grid item xs={12} md={6} className={classes.field}>\n              <DateInput name=\"date\" label=\"Date\" />\n            </Grid>\n          </Grid>\n          {submitError && (\n            <Typography variant=\"body1\" className={classes.submitError}>\n              {submitError}\n            </Typography>\n          )}\n          <SubmitButton className={classes.submitButton} fullWidth={false}>\n            Submit\n          </SubmitButton>\n        </Form>\n      </Formik>\n    </Paper>\n  );\n};\n\nexport default AddStockForm;\n","import React, { useContext } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouterLink } from 'react-router-dom';\n\nimport ModalContext from './../contexts/ModalContext';\nimport UserContext from '../contexts/UserContext';\nimport AddStockForm from './../forms/AddStockForm';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    marginTop: 10,\n    padding: 10,\n    borderRadius: 10,\n    position: 'relative',\n  },\n}));\n\n// Display a search result in a container\nconst SearchResultContainer = ({ result, overrideAddClick }) => {\n  const classes = useStyles();\n  const { showModal } = useContext(ModalContext);\n  const { token } = useContext(UserContext);\n  const path = `/stock/${result.id}`;\n\n  // Show modal for adding stock when 'ADD TO PORTFOLIO' is clicked\n  const handleAddClick = async () => {\n    if (overrideAddClick) {\n      overrideAddClick(result);\n      return;\n    }\n    showModal(<AddStockForm info={{ stock: result }} />);\n  };\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm container>\n          <Grid item xs container direction=\"column\" spacing={2}>\n            <Grid item xs>\n              <Link component={RouterLink} to={path}>\n                <Typography gutterBottom variant=\"subtitle1\">\n                  {result.name}\n                </Typography>\n              </Link>\n              <Typography variant=\"body2\" gutterBottom>\n                Australian Securities Exchange (ASX)\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                Latest Price: ${result.latestPrice}\n              </Typography>\n            </Grid>\n            {token && (\n              <Grid item>\n                <Button variant=\"contained\" size=\"large\" onClick={handleAddClick}>\n                  Add to Portfolio\n                </Button>\n              </Grid>\n            )}\n          </Grid>\n          <Grid item>\n            <Typography variant=\"subtitle1\">{result.ticker}</Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default SearchResultContainer;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SearchResultContainer from './SearchResultContainer';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1,\n  },\n}));\n\n// render each search result in a container row by row\nconst SearchResult = ({ results, overrideAddClick }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      {results &&\n        results.map((result) => {\n          return (\n            <SearchResultContainer\n              result={result}\n              key={result.id}\n              overrideAddClick={overrideAddClick}\n            />\n          );\n        })}\n    </div>\n  );\n};\n\nexport default SearchResult;\n","import React, { useState } from 'react';\n\nimport { InputAdornment, Paper, TextField } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SearchResult from './SearchResult';\nimport { getSearchStocks } from '../../utils/transactionRequests';\n\nconst useStyles = makeStyles((theme) => ({\n  searchContainer: {\n    position: 'relative',\n  },\n  searchBox: {\n    marginTop: 30,\n    width: '100%',\n  },\n  searchResultsContainer: {\n    position: 'absolute',\n    width: '100%',\n    zIndex: 1,\n    maxHeight: 800,\n    borderRadius: 10,\n    overflow: 'scroll',\n    overflowScrolling: 'auto',\n    overscrollBehaviorY: 'contain',\n  },\n  searchIcon: {\n    fontSize: 24,\n  },\n  input: {\n    fontSize: 24,\n  },\n}));\n\nconst SearchBar = ({ overrideAddClick }) => {\n  const classes = useStyles();\n\n  // store states of search query and results\n  const [results, setResults] = useState([]);\n\n  // control text field\n  const [input, setInput] = useState('');\n\n  // update states when the input is changed\n  const handleInputChange = async (event) => {\n    const input = event.target.value;\n    setInput(input);\n    if (!input) {\n      setResults([]);\n    } else {\n      const results = await getSearchStocks(input);\n      setResults(results);\n    }\n  };\n\n  const handleOverridenAddClick = (result) => {\n    overrideAddClick(result);\n    setInput('');\n    setResults([]);\n  };\n\n  return (\n    <div className={classes.searchContainer}>\n      <TextField\n        variant=\"outlined\"\n        className={classes.searchBox}\n        size=\"medium\"\n        placeholder=\"Search for any equity...\"\n        value={input}\n        onChange={(event) => {\n          handleInputChange(event);\n        }}\n        InputProps={{\n          className: classes.input,\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon style={{ fontSize: 34 }} />\n            </InputAdornment>\n          ),\n        }}\n      />\n      <Paper elevation={4} className={classes.searchResultsContainer}>\n        <SearchResult\n          results={results}\n          overrideAddClick={overrideAddClick ? handleOverridenAddClick : undefined}\n        />\n      </Paper>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n  negativeTrend: {\n    color: '#ff1744',\n  },\n  positiveTrend: {\n    color: '#4caf50',\n  },\n}));\n\nconst MarketIndices = ({ market }) => {\n  const classes = useStyles();\n  // Variable determines colour of text reflecting trend\n  const positive = market.quote['Price Change'] > 0;\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid item xs={12} sm container>\n        <Grid item xs>\n          <Typography variant=\"body1\">\n            <strong>ASX 200</strong>\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            {market.overview.exchange}. Currency in AUD\n          </Typography>\n          <Typography variant=\"h6\">\n            <strong>{market.latestPrice.toFixed(2)}</strong>\n          </Typography>\n          <Typography\n            variant=\"h6\"\n            className={positive === true ? classes.positiveTrend : classes.negativeTrend}\n          >\n            {market.quote['Price Change'].toFixed(2)} {market.quote['Change Percent'].toFixed(2)}%\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            Day Range: {market.quote[\"Day's Range\"]}\n          </Typography>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MarketIndices;\n","import React, { useEffect, useState } from 'react';\nimport ShowMoreText from 'react-show-more-text';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\n\nimport { getGoogleImage } from '../../../api/backendRequests';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: 20,\n    padding: theme.spacing(2),\n    borderRadius: 20,\n    margin: 'auto',\n    position: 'relative',\n  },\n  image: {\n    width: 192,\n    height: 128,\n  },\n  img: {\n    margin: 'auto',\n    display: 'block',\n    maxWidth: '100%',\n    maxHeight: '100%',\n  },\n}));\n\nconst News = ({ stock }) => {\n  const classes = useStyles();\n  const [news, setNews] = useState(null);\n\n  useEffect(() => {\n    const fetchAVData = async () => {\n      let query = '';\n      if (stock.overview.longName) {\n        query = stock.overview.longName;\n      } else if (stock.overview.symbol === '^AXJO') {\n        query = 'Australian Securities Exchange ASX 200';\n      } else {\n        query = stock.overview.symbol;\n      }\n      const paths = await getGoogleImage(query + ' recently', stock.news.length);\n      // Add image path to each news\n      for (let i = 0; i < stock.news.length; i++) {\n        stock.news[i].img = paths[i];\n      }\n      setNews(stock.news);\n    };\n    fetchAVData();\n  }, [stock.overview.longName, stock.overview.symbol, stock.news]);\n\n  return (\n    <Paper className={classes.paper}>\n      <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n        <strong>News</strong>\n      </Typography>\n      {news &&\n        news.map((n) => (\n          <Grid container spacing={2} key={n.id} style={{ marginBottom: 20 }}>\n            <Grid className={classes.image} item>\n              {n.img && <img className={classes.img} alt=\"complex\" src={n.img} />}\n            </Grid>\n            <Grid item xs={12} sm container>\n              <Grid item xs>\n                <Link href={n.link}>\n                  <Typography gutterBottom variant=\"subtitle2\">\n                    <strong>{n.title}</strong>\n                  </Typography>\n                </Link>\n                <Typography variant=\"body2\" gutterBottom>\n                  <ShowMoreText lines={2} more=\"Show more\" less=\"Show less\" expanded={false}>\n                    {n.summary}\n                  </ShowMoreText>\n                </Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  Published at: {n.published}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        ))}\n    </Paper>\n  );\n};\n\nexport default News;\n","import React from 'react';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\n\nexport const descendingComparator = (a, b, orderBy) => {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n};\n\nexport const getComparator = (order, orderBy) => {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n};\n\nexport const stableSort = (array, comparator) => {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n};\n\nexport const SortTableHead = ({ classes, order, orderBy, onRequestSort, headCells }) => {\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            align={headCell.numeric ? 'right' : 'left'}\n            padding={headCell.disablePadding ? 'none' : 'default'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n};\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport PropTypes from 'prop-types';\nimport { getComparator, SortTableHead, stableSort } from '../../common/sortTableComponents';\n\nSortTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n  headCells: PropTypes.array.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 200,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  negativeTrend: {\n    color: '#ff1744',\n  },\n  positiveTrend: {\n    color: '#4caf50',\n  },\n}));\n\nconst MarketTable = ({ data }) => {\n  const classes = useStyles();\n  const [order, setOrder] = useState('desc');\n  const [orderBy, setOrderBy] = useState('Percent Change');\n  const [selected, setSelected] = useState([]);\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleClick = (event, name) => {\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    setSelected(newSelected);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  const headCells = [\n    { id: 'Symbol', numeric: false, disablePadding: true, label: 'Ticker' },\n    { id: 'Price (intraday)', numeric: true, disablePadding: false, label: 'Price (intraday)' },\n    { id: 'Change', numeric: true, disablePadding: false, label: 'Change' },\n    { id: '% change', numeric: true, disablePadding: false, label: 'Percent Change' },\n  ];\n\n  return (\n    <TableContainer>\n      <Table\n        className={classes.table}\n        aria-labelledby=\"tableTitle\"\n        size=\"small\"\n        aria-label=\"enhanced table\"\n      >\n        <SortTableHead\n          classes={classes}\n          numSelected={selected.length}\n          order={order}\n          orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          rowCount={5}\n          headCells={headCells}\n        />\n        <TableBody>\n          {stableSort(data, getComparator(order, orderBy)).map((row, index) => {\n            const isItemSelected = isSelected(row['Symbol']);\n            const labelId = `enhanced-table-checkbox-${index}`;\n\n            return (\n              <TableRow\n                hover\n                onClick={(event) => handleClick(event, row.symbol)}\n                role=\"checkbox\"\n                aria-checked={isItemSelected}\n                tabIndex={-1}\n                key={row['Symbol']}\n                selected={isItemSelected}\n              >\n                <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                  {row['Symbol']}\n                </TableCell>\n                <TableCell align=\"right\">{row['Price (intraday)']}</TableCell>\n                <TableCell\n                  align=\"right\"\n                  className={row['Change'] > 0 ? classes.positiveTrend : classes.negativeTrend}\n                >\n                  {row['Change']}\n                </TableCell>\n                <TableCell\n                  align=\"right\"\n                  className={row['% change'] > 0 ? classes.positiveTrend : classes.negativeTrend}\n                >\n                  {row['% change']}%\n                </TableCell>\n              </TableRow>\n            );\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default MarketTable;\n","import React, { useState, useEffect } from 'react';\nimport ReactLoading from 'react-loading';\nimport { Grid, Paper, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MarketTable from './MarketTable';\n\nimport { getMarketData } from '../../../api/backendRequests';\n\nconst useStyles = makeStyles({\n  paper: {\n    marginTop: 10,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n  loadingContainer: {\n    margin: '0 auto',\n  },\n});\n\nconst MarketPerformers = ({ header, performer }) => {\n  const classes = useStyles();\n  const [stocks, setStocks] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchStockData = async () => {\n      const results = await getMarketData();\n      setStocks(results);\n      setLoading(false);\n    };\n    fetchStockData();\n  }, []);\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid container>\n        <Grid item xs={12}>\n          <Typography variant=\"body1\" style={{ marginBottom: 10 }}>\n            <strong>{header}</strong>\n          </Typography>\n        </Grid>\n        {loading ? (\n          <Grid className={classes.loadingContainer}>\n            <ReactLoading type=\"spin\" color=\"grey\" />\n          </Grid>\n        ) : (\n          <Grid item xs={12}>\n            {stocks && <MarketTable data={stocks[performer]} />}\n          </Grid>\n        )}\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MarketPerformers;\n","import React, { useState, useEffect } from 'react';\nimport { Grid } from '@material-ui/core';\nimport ReactLoading from 'react-loading';\nimport NewPlatformBanner from './NewPlatformBanner';\nimport SearchBar from '../../common/SearchBar';\nimport { LOCAL_STORAGE_MAP } from '../../../configuration/constants';\nimport MarketIndices from './MarketIndices';\nimport News from '../stock-page/News';\nimport MarketPerformers from './MarketPerformers';\nimport { getMarketInfo } from '../../../api/backendRequests';\n\nconst LandingPage = () => {\n  const [showBanner, setShowBanner] = useState(\n    !Boolean(window.localStorage.getItem(LOCAL_STORAGE_MAP.SHOULD_HIDE_BANNER)),\n  );\n\n  const dismissBanner = () => {\n    setShowBanner(false);\n    window.localStorage.setItem(LOCAL_STORAGE_MAP.SHOULD_HIDE_BANNER, 'true');\n  };\n\n  const [market, setMarket] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      // Make request to backend for Yahoo Finance's data\n      const data = await getMarketInfo();\n      setMarket(data);\n    };\n    fetchData();\n  }, []);\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={6}>\n        {showBanner && <NewPlatformBanner onDismiss={dismissBanner} />}\n        <SearchBar />\n        {market ? (\n          <MarketIndices market={market} />\n        ) : (\n          <Grid container justify=\"center\" style={{ padding: 20 }}>\n            <div>\n              <ReactLoading type=\"spin\" color=\"grey\" />\n            </div>\n          </Grid>\n        )}\n        <MarketPerformers header=\"Top Day Gainers\" performer=\"gainers\" />\n        <MarketPerformers header=\"Top Day Loser\" performer=\"losers\" />\n      </Grid>\n      <Grid item xs={6}>\n        {market ? (\n          <News stock={market} />\n        ) : (\n          <Grid align=\"center\" style={{ padding: 20 }}>\n            <ReactLoading type=\"spin\" color=\"grey\" />\n          </Grid>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default LandingPage;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst useStyles = makeStyles(() => ({\n  link: {\n    textDecoration: 'none !important',\n  },\n  nameContainer: {\n    marginBottom: 10,\n  },\n  name: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n  description: {\n    fontSize: 20,\n  },\n  descriptionContainer: {},\n}));\n\nconst PortfolioCard = ({ portfolio }) => {\n  const classes = useStyles();\n  const path = `/portfolio/${portfolio.id}`;\n  return (\n    <Link component={RouterLink} to={path} className={classes.link}>\n      <Card style={{ backgroundColor: portfolio.colour['hex_for_display'], padding: '1rem' }}>\n        <CardContent>\n          <div className={classes.nameContainer}>\n            <span className={classes.name}>{portfolio.name}</span>\n          </div>\n          <div className={classes.descriptionContainer}>\n            <span>{portfolio.description}</span>\n          </div>\n        </CardContent>\n      </Card>\n    </Link>\n  );\n};\n\nexport default PortfolioCard;\n","import React from 'react';\nimport { TextField } from '@material-ui/core';\nimport { useField, useFormikContext } from 'formik';\n\nconst TextAreaInput = ({ name, preChange, postChange, ...otherProps }) => {\n  const [fieldProps, meta] = useField(name);\n  const { setFieldValue } = useFormikContext();\n\n  const handleChange = (event) => {\n    const oldValue = fieldProps.value;\n    let processedValue = event.target.value;\n    if (preChange) {\n      processedValue = preChange(event.target.value, oldValue);\n    }\n    setFieldValue(name, processedValue);\n    postChange?.(processedValue, oldValue);\n  };\n\n  const textFieldProps = {\n    fullWidth: true,\n    multiline: true,\n    rows: 2,\n    ...fieldProps,\n    ...otherProps,\n    onChange: handleChange,\n  };\n\n  if (meta && meta.touched && meta.error) {\n    textFieldProps.error = true;\n    textFieldProps.helperText = meta.error;\n  }\n\n  return <TextField {...textFieldProps} />;\n};\n\nexport default TextAreaInput;\n","import React from 'react';\nimport { Checkbox, FormControl, FormControlLabel, FormGroup, FormLabel } from '@material-ui/core';\nimport { useField, useFormikContext } from 'formik';\n\nconst CheckboxInput = ({ name, label, legend, preChange, postChange, ...otherProps }) => {\n  const [fieldProps, meta] = useField(name);\n  const { setFieldValue } = useFormikContext();\n\n  const handleChange = (event) => {\n    const oldValue = fieldProps.value;\n    let processedValue = event.target.checked;\n    if (preChange) {\n      processedValue = preChange(event.target.checked, oldValue);\n    }\n    setFieldValue(name, processedValue);\n    postChange?.(processedValue, oldValue);\n  };\n\n  const checkboxProps = {\n    color: 'primary',\n    ...fieldProps,\n    ...otherProps,\n    onChange: handleChange,\n  };\n\n  const formControlProps = {};\n  if (meta && meta.touched && meta.error) {\n    formControlProps.error = true;\n  }\n\n  return (\n    <FormControl {...formControlProps}>\n      <FormLabel component=\"legend\">{legend}</FormLabel>\n      <FormGroup>\n        <FormControlLabel control={<Checkbox {...checkboxProps} />} label={label} />\n      </FormGroup>\n    </FormControl>\n  );\n};\n\nexport default CheckboxInput;\n","import HttpClient from './HttpClient';\nimport { useCallback, useEffect, useState } from 'react';\nimport { get_URL } from '../configuration/constants';\nimport { handleError } from './backendRequests';\n\nconst HTTPClient = HttpClient();\n\n/** Get available colours for selection */\nexport const useColours = (initialState, dependencies) => {\n  const [colour, setColours] = useState(initialState);\n\n  const fetchColours = useCallback(async () => {\n    try {\n      const res = await HTTPClient.get(get_URL('colours'));\n      if (res.data.results.length > 0) {\n        setColours(\n          res.data.results.map((color) => {\n            // populate data for the select element\n            return {\n              value: color.id,\n              label: color.name,\n            };\n          }),\n        );\n      }\n    } catch (err) {\n      handleError(err);\n      setColours(initialState);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    fetchColours();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchColours, ...dependencies]);\n\n  return [colour, setColours];\n};\n","import React, { useState, useContext } from 'react';\nimport { Paper, Typography, Grid } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ModalContext from '../contexts/ModalContext';\nimport UserContext from '../contexts/UserContext';\n\nimport TextInput from './form-components/TextInput';\nimport TextAreaInput from './form-components/TextAreaInput';\nimport SelectInput from './form-components/SelectInput';\nimport CheckboxInput from './form-components/CheckboxInput';\nimport SubmitButton from './form-components/SubmitButton';\nimport { add_portfolio } from '../../utils/usePortfolios';\nimport { useColours } from '../../utils/useColours';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3),\n    width: 500,\n    minHeight: 600,\n  },\n  field: {\n    padding: theme.spacing(2),\n  },\n  submitButton: {\n    width: '80%',\n    position: 'absolute',\n    bottom: 40,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  submitError: {\n    width: '100%',\n    position: 'absolute',\n    bottom: 100,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    textAlign: 'center',\n    color: 'red',\n  },\n}));\n\nconst NewPortfolioForm = () => {\n  const { token } = useContext(UserContext);\n  const { showModal } = useContext(ModalContext);\n  const [colors] = useColours([], [token, showModal]);\n  const [submitError, setSubmitError] = useState();\n  const classes = useStyles();\n\n  const initialFormValues = {\n    name: '',\n    description: '',\n    colour: '',\n    isPublic: false,\n  };\n\n  const formValidation = {\n    name: Yup.string().required('Required'),\n    description: Yup.string(),\n    colour: Yup.string().required('Required'),\n    isPublic: Yup.boolean(),\n  };\n\n  const submitForm = async (values) => {\n    try {\n      await add_portfolio(values);\n      setSubmitError('');\n      showModal(null);\n    } catch (err) {\n      setSubmitError(err.message);\n    }\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <Formik\n        initialValues={initialFormValues}\n        validationSchema={Yup.object().shape(formValidation)}\n        onSubmit={(values) => {\n          submitForm(values);\n        }}\n      >\n        <Form>\n          <Grid container>\n            <Grid item xs={12}>\n              <Typography variant=\"h4\" align=\"center\">\n                Create New Portfolio\n              </Typography>\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <TextInput name=\"name\" label=\"Name\" />\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <TextAreaInput name=\"description\" label=\"Description\" rows={1} />\n            </Grid>\n            {!!colors.length && (\n              <Grid item xs={12} className={classes.field}>\n                <SelectInput name=\"colour\" label=\"Colour\" options={colors} />\n              </Grid>\n            )}\n            <Grid item xs={12} className={classes.field}>\n              <CheckboxInput name=\"isPublic\" label=\"Public Portfolio\" />\n            </Grid>\n          </Grid>\n          {submitError && (\n            <Typography variant=\"body1\" className={classes.submitError}>\n              {submitError}\n            </Typography>\n          )}\n          <SubmitButton className={classes.submitButton} fullWidth={false}>\n            Submit\n          </SubmitButton>\n        </Form>\n      </Formik>\n    </Paper>\n  );\n};\n\nexport default NewPortfolioForm;\n","import React, { useContext } from 'react';\nimport { Grid, Typography, Fab, Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport UserContext from '../../contexts/UserContext';\nimport ModalContext from '../../contexts/ModalContext.jsx';\nimport PortfolioCard from './PortfolioCard';\nimport NewPortfolioForm from '../../forms/NewPortfolioForm';\nimport { usePortfolios } from '../../../utils/usePortfolios';\nimport Box from '@material-ui/core/Box';\nimport { Add as AddIcon } from '@material-ui/icons';\n\nconst useStyles = makeStyles(() => ({\n  page: {\n    paddingTop: 20,\n  },\n  headingContainer: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '20px',\n  },\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n}));\n\nconst PortfoliosPage = () => {\n  const { token } = useContext(UserContext);\n  const { showModal } = useContext(ModalContext);\n  const [portfolios, , diversification] = usePortfolios([], [token, showModal]);\n\n  const styles = useStyles();\n\n  const handleClickAdd = () => {\n    showModal(<NewPortfolioForm />);\n  };\n\n  return (\n    <Box className={styles.page}>\n      <div className={styles.headingContainer}>\n        <div>\n          <Typography variant=\"h1\" className={styles.heading}>\n            Portfolios\n          </Typography>\n        </div>\n        <div>\n          <Fab color=\"primary\" onClick={handleClickAdd}>\n            <AddIcon />\n          </Fab>\n        </div>\n      </div>\n      <div>\n        <Grid container style={{ marginBottom: '4rem' }}>\n          <Grid item xs={6} lg={12}>\n            <Card style={{ padding: '1rem' }}>\n              <CardHeader title=\"Diversification\" />\n              <CardContent>\n                <div style={{ display: 'flex', alignItems: 'center' }}>\n                  <div\n                    style={{\n                      flex: 1,\n                      background:\n                        diversification < 0.33\n                          ? 'red'\n                          : diversification < 0.66\n                          ? 'yellow'\n                          : 'green',\n                      height: '10px',\n                      marginRight: '1rem',\n                      borderRadius: '22px',\n                    }}\n                  />\n                  <Typography>{diversification || 0}</Typography>\n                </div>\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n        <Grid container spacing={6}>\n          {portfolios &&\n            portfolios.map((portfolio, index) => (\n              <Grid item xs={12} lg={6}>\n                <PortfolioCard key={index} portfolio={portfolio} />\n              </Grid>\n            ))}\n        </Grid>\n      </div>\n    </Box>\n  );\n};\n\nexport default PortfoliosPage;\n","import React from 'react';\nimport TextInput from './TextInput';\nimport { InputAdornment } from '@material-ui/core';\nimport { AttachMoney as DollarIcon } from '@material-ui/icons';\n\nconst CurrencyInput = ({ preChange, InputProps, positive, ...otherProps }) => {\n  const handlePreChange = (newValue, oldValue) => {\n    let processedValue = newValue;\n    const regex = positive ? /[^0-9.]/ : /[^0-9.-]/;\n    if (regex.test(newValue)) {\n      processedValue = oldValue;\n    }\n    if (preChange) {\n      processedValue = preChange(processedValue, oldValue);\n    }\n    return processedValue;\n  };\n\n  const currencyInputProps = {\n    startAdornment: (\n      <InputAdornment position=\"start\">\n        <DollarIcon fontSize=\"small\" style={{ marginBottom: 5 }} />\n      </InputAdornment>\n    ),\n    ...InputProps,\n  };\n\n  return <TextInput {...otherProps} preChange={handlePreChange} InputProps={currencyInputProps} />;\n};\n\nexport default CurrencyInput;\n","import React from 'react';\nimport { Paper, Box, Typography, Button, ButtonGroup } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  dialogue: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    height: 200,\n    width: 400,\n  },\n});\n\nconst Dialogue = React.forwardRef(({ prompt, onContinue, onCancel }, ref) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.dialogue} ref={ref}>\n      <Box height=\"70%\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n        <Typography>{prompt}</Typography>\n      </Box>\n      <Box height=\"30%\">\n        <ButtonGroup fullWidth size=\"large\" style={{ height: '100%' }}>\n          <Button variant=\"contained\" color=\"secondary\" onClick={onCancel}>\n            Cancel\n          </Button>\n          <Button variant=\"contained\" color=\"primary\" onClick={onContinue}>\n            Confirm\n          </Button>\n        </ButtonGroup>\n      </Box>\n    </Paper>\n  );\n});\n\nexport default Dialogue;\n","import HttpClient from './HttpClient';\nimport { useCallback, useEffect, useState } from 'react';\nimport { get_URL } from '../configuration/constants';\nimport { handleError } from './backendRequests';\n\nconst HTTPClient = HttpClient();\n\nexport const useGoals = (initialState, dependencies) => {\n  const [goal, setGoals] = useState(initialState);\n\n  const fetchGoals = useCallback(async () => {\n    try {\n      const res = await HTTPClient.get(get_URL('goals', 'mine'));\n      setGoals(res.data.results);\n    } catch (err) {\n      handleError(err);\n      setGoals(initialState);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    fetchGoals();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchGoals, ...dependencies]);\n\n  return [goal, setGoals];\n};\n\nexport const add_goal = async (body) => {\n  try {\n    const res = await HTTPClient.post(get_URL('goals'), body);\n    return res.data.results;\n  } catch (err) {\n    handleError(err);\n  }\n};\n\nexport const edit_goal = async (id, body) => {\n  try {\n    const res = await HTTPClient.put(get_URL('goals', id), body);\n    return res.data.results;\n  } catch (err) {\n    handleError(err);\n  }\n};\n\nexport const delete_goal = async (id) => {\n  try {\n    const res = await HTTPClient.delete(get_URL('goals', id));\n    return res.data.results;\n  } catch (err) {\n    handleError(err);\n  }\n};\n","import React, { useState, useContext } from 'react';\nimport { Grid, Paper, Typography, Button, Modal, DialogContent } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ModalContext from '../contexts/ModalContext';\nimport TextInput from './form-components/TextInput';\nimport TextAreaInput from './form-components/TextAreaInput';\nimport SelectInput from './form-components/SelectInput';\nimport CurrencyInput from './form-components/CurrencyInput';\nimport DateInput from './form-components/DateInput';\nimport SubmitButton from './form-components/SubmitButton';\n\nimport Dialogue from '../common/Dialogue';\nimport { edit_goal, add_goal, delete_goal } from '../../utils/useGoals';\nimport { formatDate } from '../common/formatting';\nimport { useColours } from '../../utils/useColours';\nimport UserContext from '../contexts/UserContext';\n\nconst useStyles = makeStyles((theme) => ({\n  editGoalForm: {\n    padding: 30,\n    height: 750,\n    width: 600,\n  },\n  title: {\n    marginBottom: 40,\n  },\n  field: {\n    paddingBottom: theme.spacing(4),\n  },\n  submitButton: {\n    position: 'absolute',\n    bottom: 40,\n    width: '80%',\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  deleteButton: {\n    position: 'absolute',\n    bottom: 100,\n    width: '80%',\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  input: {\n    marginBottom: 40,\n  },\n  underlyingInput: {\n    fontSize: 20,\n  },\n  underlyingSelectInput: {\n    fontsize: 20,\n  },\n  submitError: {\n    width: '100%',\n    position: 'absolute',\n    bottom: 100,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    textAlign: 'center',\n    color: 'red',\n  },\n  link: {\n    cursor: 'pointer',\n  },\n}));\n\nconst GoalForm = ({ goal }) => {\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [submitError, setSubmitError] = useState('');\n  const { token } = useContext(UserContext);\n  const { showModal } = useContext(ModalContext);\n  const [colors] = useColours([], [token, showModal]);\n\n  const classes = useStyles();\n\n  const onDeleteClick = () => {\n    setShowDeleteModal(true);\n  };\n\n  const handleDeleteGoal = async () => {\n    try {\n      await delete_goal(goal.id);\n      setSubmitError('');\n      showModal(null);\n    } catch (err) {\n      setSubmitError(err.message);\n    }\n  };\n\n  const initialFormValues = {\n    name: goal?.name || '',\n    description: goal?.description || '',\n    colour: goal?.colour.id || 1, // the first colour\n    startValue: goal?.startAmount || 0,\n    startDate: goal?.startTime ? new Date(goal.startTime) : new Date(),\n    targetValue: goal?.target || 0,\n    targetDate: goal?.targetTime ? new Date(goal.targetTime) : new Date(),\n  };\n\n  const formValidation = {\n    name: Yup.string().required('Required'),\n    description: Yup.string(),\n    colour: Yup.string().required('Required'),\n    startValue: Yup.number().required('Required'),\n    startDate: Yup.date().required('Required'),\n    targetValue: Yup.number().required('Required'),\n    targetDate: Yup.date().required('Required'),\n  };\n\n  const handleSubmitForm = async (values) => {\n    const payload = {\n      name: values.name,\n      description: values.description,\n      colour: values.colour,\n      startAmount: values.startValue,\n      startTime: `${formatDate(values.startDate, 'YYYY-MM-DD')} 00:00`,\n      target: values.targetValue,\n      targetTime: `${formatDate(values.targetDate, 'YYYY-MM-DD')} 00:00`,\n    };\n    try {\n      if (goal) {\n        await edit_goal(goal.id, payload);\n      } else {\n        await add_goal(payload);\n      }\n      setSubmitError('');\n      showModal(null);\n    } catch (err) {\n      setSubmitError(err.message);\n    }\n  };\n\n  return (\n    <Paper className={classes.editGoalForm}>\n      <Formik\n        initialValues={initialFormValues}\n        formValidation={formValidation}\n        onSubmit={(values) => {\n          handleSubmitForm(values);\n        }}\n      >\n        <Form>\n          <Typography variant=\"h3\" align=\"center\" className={classes.title}>\n            {goal ? 'Edit Goal' : 'Add Goal'}\n          </Typography>\n          <Grid container>\n            <Grid\n              container\n              item\n              xs={6}\n              style={{ borderRight: '1px solid black', paddingRight: 20 }}\n            >\n              <Grid item xs={12} className={classes.field}>\n                <TextInput name=\"name\" label=\"Name\" />\n              </Grid>\n              <Grid item xs={12} className={classes.field}>\n                <TextAreaInput name=\"description\" label=\"Description\" rows={1} />\n              </Grid>\n              {!!colors.length && (\n                <Grid item xs={12} className={classes.field}>\n                  <SelectInput name=\"colour\" label=\"Colour\" options={colors} />\n                </Grid>\n              )}\n            </Grid>\n            <Grid container item xs={6} style={{ paddingLeft: 20 }}>\n              <Grid item xs={12} className={classes.field}>\n                <CurrencyInput name=\"startValue\" label=\"Starting Value\" positive />\n              </Grid>\n              <Grid item xs={12} className={classes.field}>\n                <DateInput name=\"startDate\" label=\"Starting Date\" />\n              </Grid>\n              <Grid item xs={12} className={classes.field}>\n                <CurrencyInput name=\"targetValue\" label=\"Target Value\" />\n              </Grid>\n              <Grid item xs={12} className={classes.field}>\n                <DateInput name=\"targetDate\" label=\"Target Date\" />\n              </Grid>\n            </Grid>\n          </Grid>\n          {submitError && (\n            <Typography variant=\"body1\" className={classes.submitError}>\n              {submitError}\n            </Typography>\n          )}\n          {goal && (\n            <Button\n              variant=\"contained\"\n              onClick={onDeleteClick}\n              className={classes.deleteButton}\n              color=\"secondary\"\n            >\n              Delete\n            </Button>\n          )}\n          <SubmitButton className={classes.submitButton}>Submit</SubmitButton>\n          {showDeleteModal && (\n            <Modal open={true} onClose={() => setShowDeleteModal(false)}>\n              <DialogContent>\n                <Dialogue\n                  prompt=\"Are you sure you want to delete this goal?\"\n                  onCancel={() => setShowDeleteModal(false)}\n                  onContinue={handleDeleteGoal}\n                />\n              </DialogContent>\n            </Modal>\n          )}\n        </Form>\n      </Formik>\n    </Paper>\n  );\n};\n\nexport default GoalForm;\n","import React, { useContext } from 'react';\nimport { Box, Paper, Grid, Typography, LinearProgress, IconButton } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Edit as EditIcon } from '@material-ui/icons';\nimport moment from 'moment';\n\nimport ModalContext from '../../contexts/ModalContext';\nimport GoalForm from '../../forms/GoalForm';\nimport { formatCurrency } from '../../common/formatting';\n\nconst useStyles = makeStyles({\n  paper: {\n    position: 'relative',\n    marginBottom: 30,\n    overflow: 'hidden',\n  },\n  editIcon: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n  },\n  grid: {\n    padding: 20,\n  },\n  centerTextVertical: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n});\n\nconst GoalCard = ({ data, wealth, growth }) => {\n  const { showModal } = useContext(ModalContext);\n  const classes = useStyles();\n\n  const today = new Date();\n  const targetDate = new Date(data.targetTime);\n  const startDate = new Date(data.startTime);\n  const startAmount = parseFloat(data.startAmount);\n  const targetAmount = parseFloat(data.target);\n  const createdDate = new Date(data.createAt);\n  const updatedDate = new Date(data.updatedAt);\n  const updated =\n    Math.round(createdDate.getTime() / 1000) !== Math.round(updatedDate.getTime() / 1000);\n\n  const progressToGoal = Math.min(startAmount + wealth || startAmount, targetAmount);\n  const percentGoalComplete = Math.round((progressToGoal / targetAmount) * 100) || 0;\n  // the fallback is for divide by targetAmount === 0\n  const percentTimeLeft =\n    Math.round(((targetDate - today) / (targetDate - startDate)) * 100) || 100;\n  // the fallback is for divide by targetDate - startDate === 100\n  //\n  const daysToGoal =\n    progressToGoal === targetAmount\n      ? 0\n      : Math.round((Math.log(targetAmount / wealth) / Math.log(growth)) * 365);\n\n  const editGoal = () => {\n    showModal(<GoalForm goal={data} />);\n  };\n\n  let etaString = growth > 0 ? moment.duration(daysToGoal, 'days').humanize() : '';\n  if (daysToGoal === 0) etaString = 'Done';\n\n  return (\n    <Paper elevation={3} className={classes.paper}>\n      <Grid container direction=\"column\">\n        <Grid\n          item\n          container\n          direction=\"row\"\n          className={classes.grid}\n          style={{ backgroundColor: data.colour.hex_for_display }}\n        >\n          <Grid item xs={8} className={classes.centerTextVertical}>\n            <Typography variant=\"h5\">{data.name}</Typography>\n          </Grid>\n          <Grid item xs={4} className={classes.centerTextVertical}>\n            <Typography variant=\"h5\" align=\"right\">\n              {`${formatCurrency(targetAmount)}`}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Grid container direction=\"column\" spacing={2} className={classes.grid}>\n          <Grid item container direction=\"row\">\n            <Grid item xs={12}>\n              <Typography>{data.description}</Typography>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Box display=\"flex\" alignItems=\"center\">\n              <Box width=\"100%\" mr={1}>\n                <LinearProgress variant=\"determinate\" value={percentGoalComplete} />\n              </Box>\n              <Box minWidth=\"max-content\">\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  {`${Math.round(percentGoalComplete)}%`}\n                </Typography>\n              </Box>\n            </Box>\n          </Grid>\n          <Grid item xs={12}>\n            <Box display=\"flex\" alignItems=\"center\">\n              <Box width=\"100%\" mr={1}>\n                <LinearProgress variant=\"determinate\" color=\"secondary\" value={percentTimeLeft} />\n              </Box>\n              <Box minWidth=\"max-content\">\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  {`${moment(targetDate).fromNow(true)} left`}\n                </Typography>\n              </Box>\n            </Box>\n          </Grid>\n          <Grid item container direction=\"row\">\n            <Grid item xs={6}>\n              <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\">\n                {`ETA: ${etaString}`}\n              </Typography>\n            </Grid>\n            <Grid item xs={6}>\n              <Typography variant=\"body2\" color=\"textSecondary\" align=\"right\">\n                {`${updated ? 'updated' : 'created'} ${moment(updatedDate).fromNow()}`}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <IconButton className={classes.editIcon} onClick={() => editGoal()}>\n        <EditIcon />\n      </IconButton>\n    </Paper>\n  );\n};\n\nexport default GoalCard;\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport TextInput from './form-components/TextInput';\nimport CurrencyInput from './form-components/CurrencyInput';\nimport SubmitButton from './form-components/SubmitButton';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    marginBottom: 40,\n  },\n  field: {\n    paddingBottom: theme.spacing(4),\n  },\n  submitButton: {\n    position: 'absolute',\n    bottom: 40,\n    width: '80%',\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  input: {\n    marginBottom: 40,\n  },\n  underlyingInput: {\n    fontSize: 20,\n  },\n  underlyingSelectInput: {\n    fontsize: 20,\n  },\n  link: {\n    cursor: 'pointer',\n  },\n}));\n\nconst FinancialCalculatorForm = ({ setShowResult }) => {\n  const classes = useStyles();\n\n  const initialFormValues = {\n    amountOfIncome: '',\n    livingExpense: '',\n    rateOfInflation: '',\n    expectedRateOfInflation: '',\n    expectedPercentageOfReturns: '',\n  };\n\n  const formValidation = {\n    amountOfIncome: Yup.number().required(),\n    livingExpense: Yup.number().required(),\n\n    expectedRateOfInflation: Yup.number().required(),\n    expectedPercentageOfReturns: Yup.number().required(),\n  };\n\n  const handleSubmitForm = async (values) => {\n    const value =\n      parseFloat(values.amountOfIncome) /\n      (parseFloat(values.expectedPercentageOfReturns) -\n        parseFloat(values.expectedRateOfInflation) -\n        parseFloat(values.livingExpense));\n    if (value > 0) {\n      setShowResult(`You need another $${value.toFixed(2)}.`);\n    } else {\n      setShowResult(`You have $${-value.toFixed(2)} to spare.`);\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={initialFormValues}\n      formValidation={formValidation}\n      onSubmit={(values) => {\n        handleSubmitForm(values);\n      }}\n    >\n      <Form>\n        <Grid container>\n          <Grid container item xs={12}>\n            <Grid item xs={12} className={classes.field}>\n              <CurrencyInput\n                name=\"amountOfIncome\"\n                label=\"Amount of income you would like to recieve\"\n                rows={1}\n              />\n            </Grid>\n\n            <Grid item xs={12} className={classes.field}>\n              <TextInput\n                type=\"number\"\n                name=\"livingExpense\"\n                label=\"Living Expenses Increase\"\n                rows={1}\n              />\n            </Grid>\n\n            <Grid item xs={12} className={classes.field}>\n              <TextInput\n                type=\"number\"\n                name=\"expectedRateOfInflation\"\n                label=\"Expected Rate of Inflation\"\n                rows={1}\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <TextInput\n                type=\"number\"\n                name=\"expectedPercentageOfReturns\"\n                label=\"Expected Percentage of Returns\"\n                rows={1}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <SubmitButton className={classes.submitButton}>Submit</SubmitButton>\n      </Form>\n    </Formik>\n  );\n};\n\nexport default FinancialCalculatorForm;\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport TextInput from './form-components/TextInput';\nimport CurrencyInput from './form-components/CurrencyInput';\nimport DateInput from './form-components/DateInput';\nimport SubmitButton from './form-components/SubmitButton';\n\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    marginBottom: 40,\n  },\n  field: {\n    paddingBottom: theme.spacing(4),\n  },\n  submitButton: {\n    position: 'absolute',\n    bottom: 40,\n    width: '80%',\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  input: {\n    marginBottom: 40,\n  },\n  underlyingInput: {\n    fontSize: 20,\n  },\n  underlyingSelectInput: {\n    fontsize: 20,\n  },\n  link: {\n    cursor: 'pointer',\n  },\n}));\n\nconst RegularSavingCalculator = ({ setShowResult }) => {\n  const classes = useStyles();\n\n  const initialFormValues = {\n    targetFutureAmount: '',\n    targetDate: '',\n    existingInvestmentAmount: '',\n    rateOfReturn: '', // the first colour\n  };\n\n  const formValidation = {\n    targetFutureAmount: Yup.number().required('Required'),\n    targetDate: Yup.string().required('Required'),\n    existingInvestmentAmount: Yup.number().required('Required'),\n    rateOfReturn: Yup.number().required('Required'), // the first colour\n  };\n\n  const handleSubmitForm = async (values) => {\n    const P = values.existingInvestmentAmount;\n    const D = values.targetDate;\n    const T = values.targetFutureAmount;\n    const r = values.rateOfReturn;\n\n    const differenceInDays = calculateDateDifference(D) / 365;\n    const F = parseFloat(P) * parseFloat(Math.pow(1 + parseFloat(r), parseFloat(differenceInDays)));\n    const S = T - F;\n    const regularInvestment = S / Math.pow(1 + parseFloat(r), differenceInDays);\n    if (regularInvestment > 0) {\n      setShowResult(`You need another $${regularInvestment.toFixed(2)}.`);\n    } else {\n      setShowResult(`You have $${-regularInvestment.toFixed(2)} to spare.`);\n    }\n  };\n\n  const calculateDateDifference = (targetDate) => {\n    var a = moment(new Date(targetDate));\n    var b = moment(new Date());\n    return a.diff(b, 'days');\n  };\n  return (\n    <Formik\n      initialValues={initialFormValues}\n      formValidation={formValidation}\n      onSubmit={(values) => {\n        handleSubmitForm(values);\n      }}\n    >\n      <Form>\n        <Grid container>\n          <Grid container item xs={12}>\n            <Grid item xs={12} className={classes.field}>\n              <CurrencyInput\n                name=\"existingInvestmentAmount\"\n                label=\"Existing Investment Amount\"\n                rows={1}\n              />\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <CurrencyInput name=\"targetFutureAmount\" label=\"Target Future Amount\" rows={1} />\n            </Grid>\n\n            <Grid item xs={12} className={classes.field}>\n              <DateInput label=\"Target Date\" name=\"targetDate\" />\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <TextInput\n                name=\"rateOfReturn\"\n                label=\"Average yearly rate of return on the investment\"\n                rows={1}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <SubmitButton className={classes.submitButton}>Submit</SubmitButton>\n      </Form>\n    </Formik>\n  );\n};\n\nexport default RegularSavingCalculator;\n","import { Box, Typography } from '@material-ui/core';\nimport React from 'react';\n\nexport default function SuccessText({ message }) {\n  return (\n    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n      <Typography\n        variant=\"body\"\n        style={{ backgroundColor: '#1de9b6', color: 'white', padding: '0.7rem' }}\n      >\n        {message}\n      </Typography>\n    </Box>\n  );\n}\n","import React, { useState } from 'react';\nimport {\n  Paper,\n  Typography,\n  Select,\n  FormControl,\n  MenuItem,\n  InputLabel,\n  Card,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport FinancialCalculatorForm from './FinancialCalculator';\nimport RegularSavingCalculator from './RegularSavingCalculator';\nimport SuccessText from '../common/SuccessText';\nimport CardContent from '@material-ui/core/CardContent';\n\nconst useStyles = makeStyles((theme) => ({\n  editGoalForm: {\n    padding: 30,\n    height: 750,\n    width: 600,\n  },\n  title: {\n    marginBottom: 40,\n  },\n  field: {\n    paddingBottom: theme.spacing(4),\n  },\n  submitButton: {\n    position: 'absolute',\n    bottom: 40,\n    width: '80%',\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  deleteButton: {\n    position: 'absolute',\n    bottom: 100,\n    width: '80%',\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  input: {\n    marginBottom: 40,\n  },\n  underlyingInput: {\n    fontSize: 20,\n  },\n  underlyingSelectInput: {\n    fontsize: 20,\n  },\n  submitError: {\n    width: '100%',\n    position: 'absolute',\n    bottom: 100,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    textAlign: 'center',\n    color: 'red',\n  },\n  link: {\n    cursor: 'pointer',\n  },\n}));\n\nconst Calculator = () => {\n  const [selectedCalculator, setSelectedCalculator] = useState(1);\n  const [showResult, setShowResult] = useState(null);\n\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.editGoalForm}>\n      <Typography variant=\"h5\">Calculators</Typography>\n      <FormControl\n        style={{ width: '100%', marginBottom: '2rem', marginTop: '1rem' }}\n        variant=\"outlined\"\n        className={classes.formControl}\n      >\n        <InputLabel id=\"demo-simple-select-outlined-label\">Select Calculator</InputLabel>\n        <Select\n          onChange={(e) => {\n            setSelectedCalculator(e.target.value);\n            setShowResult(null);\n          }}\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"demo-simple-select-outlined\"\n          value={selectedCalculator}\n          label=\"Age\"\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          <MenuItem value={1}>Financial Independence Calculator</MenuItem>\n          <MenuItem value={2}>Regular Saving Calculator</MenuItem>\n        </Select>\n      </FormControl>\n      <Card style={{ marginTop: '1rem', padding: '1rem' }}>\n        <CardContent>\n          {selectedCalculator === 1 && <FinancialCalculatorForm setShowResult={setShowResult} />}\n          {selectedCalculator === 2 && <RegularSavingCalculator setShowResult={setShowResult} />}\n          {showResult && <SuccessText message={showResult} />}\n        </CardContent>\n      </Card>\n    </Paper>\n  );\n};\n\nexport default Calculator;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Grid, Box, Typography, Fab, Button } from '@material-ui/core';\nimport { Add as AddIcon } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ModalContext from '../../contexts/ModalContext';\nimport UserContext from '../../contexts/UserContext';\n\nimport GoalCard from './GoalCard';\nimport GoalForm from '../../forms/GoalForm';\nimport Calculator from '../../forms/Calculator';\n\nimport { useGoals } from '../../../utils/useGoals';\nimport { get_wealth, get_growth } from '../../../utils/usePortfolios';\n\nconst useStyles = makeStyles({\n  page: {\n    paddingTop: 20,\n  },\n  headingContainer: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '20px',\n  },\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n});\n\nconst GoalsPage = () => {\n  const { showModal } = useContext(ModalContext);\n  const { token } = useContext(UserContext);\n  const [wealth, setWealth] = useState(0);\n  const [growth, setGrowth] = useState(0);\n  const [goals] = useGoals([], [token, showModal]);\n  const styles = useStyles();\n\n  useEffect(() => {\n    const getWealthInfo = async () => {\n      const wealth = await get_wealth();\n      if (wealth) {\n        setWealth(wealth);\n        const growth = await get_growth(wealth);\n        growth && setGrowth(growth);\n      }\n    };\n    getWealthInfo();\n  }, []);\n\n  const handleClickAdd = () => {\n    showModal(<GoalForm />);\n  };\n\n  return (\n    <Box className={styles.page}>\n      <div className={styles.headingContainer}>\n        <div>\n          <Typography variant=\"h1\" className={styles.heading}>\n            Goals\n          </Typography>\n        </div>\n        <div>\n          <Button variant=\"contained\" color=\"primary\" onClick={() => showModal(<Calculator />)}>\n            Calculator\n          </Button>\n        </div>\n        <div>\n          <Fab color=\"primary\" onClick={handleClickAdd}>\n            <AddIcon />\n          </Fab>\n        </div>\n      </div>\n      <div>\n        <Grid container spacing={2}>\n          {goals.map((goal) => {\n            return (\n              <Grid key={goal.id} item xs={12} md={6}>\n                <GoalCard data={goal} wealth={wealth} growth={growth} />\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n    </Box>\n  );\n};\n\nexport default GoalsPage;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box } from '@material-ui/core';\nimport * as am4core from '@amcharts/amcharts4/core';\nimport * as am4charts from '@amcharts/amcharts4/charts';\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated';\n\nclass ComparingChart extends Component {\n  static propTypes = {\n    chartId: PropTypes.string.isRequired,\n    data: PropTypes.array.isRequired,\n    tickers: PropTypes.array.isRequired,\n    valueAxisTitle: PropTypes.string,\n  };\n\n  componentDidMount() {\n    const { chartId, data, tickers } = this.props;\n\n    // Set theme for the chart\n    am4core.useTheme(am4themes_animated);\n\n    // Create new chart instance\n    let chart = am4core.create(chartId, am4charts.XYChart);\n    chart.padding(0, 15, 0, 15);\n    chart.colors.step = 3;\n\n    // Import data\n    chart.data = data;\n\n    // Arrange value axes vertically\n    chart.leftAxesContainer.layout = 'vertical';\n\n    // Create axes\n    let dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.grid.template.location = 0;\n    dateAxis.renderer.ticks.template.length = 8;\n    dateAxis.renderer.ticks.template.strokeOpacity = 0.1;\n    dateAxis.renderer.grid.template.disabled = true;\n    dateAxis.renderer.ticks.template.disabled = false;\n    dateAxis.renderer.ticks.template.strokeOpacity = 0.2;\n    dateAxis.renderer.minLabelPosition = 0.01;\n    dateAxis.renderer.maxLabelPosition = 0.99;\n    dateAxis.keepSelection = true;\n\n    dateAxis.groupData = true;\n    dateAxis.minZoomCount = 5;\n\n    let valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.tooltip.disabled = true;\n    valueAxis.zIndex = 1;\n    valueAxis.renderer.baseGrid.disabled = true;\n    valueAxis.height = am4core.percent(65);\n\n    valueAxis.renderer.gridContainer.background.fill = am4core.color('#000000');\n    valueAxis.renderer.gridContainer.background.fillOpacity = 0.05;\n    valueAxis.renderer.inside = true;\n    valueAxis.renderer.labels.template.verticalCenter = 'bottom';\n    valueAxis.renderer.labels.template.padding(2, 2, 2, 2);\n    valueAxis.renderer.fontSize = '0.8em';\n\n    // Create series\n    function createSeries(name) {\n      let series = chart.series.push(new am4charts.LineSeries());\n      series.dataFields.dateX = 'time';\n      series.dataFields.valueY = name;\n      series.dataFields.valueYShow = 'changePercent';\n      series.tooltipText =\n        \"{name}: {valueY.changePercent.formatNumber('[#0c0]+#.00|[#c00]#.##|0')}%\";\n      series.name = name;\n      series.tooltip.getFillFromObject = false;\n      series.tooltip.getStrokeFromObject = true;\n      series.tooltip.background.fill = am4core.color('#fff');\n      series.tooltip.background.strokeWidth = 2;\n      series.tooltip.label.fill = series.stroke;\n      return series;\n    }\n\n    const seriesList = [];\n    for (let i = 0; i < tickers.length; i++) {\n      let series = createSeries(tickers[i]);\n      seriesList.push(series);\n    }\n\n    let valueAxis2 = chart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis2.tooltip.disabled = true;\n    valueAxis2.height = am4core.percent(35);\n    valueAxis2.zIndex = 3;\n\n    // Create gap between panels\n    valueAxis2.marginTop = 30;\n    valueAxis2.renderer.baseGrid.disabled = true;\n    valueAxis2.renderer.inside = true;\n    valueAxis2.renderer.labels.template.verticalCenter = 'bottom';\n    valueAxis2.renderer.labels.template.padding(2, 2, 2, 2);\n    valueAxis2.renderer.fontSize = '0.8em';\n\n    valueAxis2.renderer.gridContainer.background.fill = am4core.color('#000000');\n    valueAxis2.renderer.gridContainer.background.fillOpacity = 0.05;\n\n    let volumeSeries = chart.series.push(new am4charts.StepLineSeries());\n    volumeSeries.fillOpacity = 1;\n    volumeSeries.fill = seriesList[0].stroke;\n    volumeSeries.stroke = seriesList[0].stroke;\n    volumeSeries.dataFields.dateX = 'time';\n    volumeSeries.dataFields.valueY = 'volume';\n    volumeSeries.yAxis = valueAxis2;\n    volumeSeries.tooltipText = 'Volume: {valueY.value}';\n    volumeSeries.name = 'Series 2';\n\n    // Sum the volume\n    volumeSeries.groupFields.valueY = 'sum';\n    volumeSeries.tooltip.label.fill = volumeSeries.stroke;\n    chart.cursor = new am4charts.XYCursor();\n\n    // Add horizontal scrollbar\n    let scrollbarX = new am4charts.XYChartScrollbar();\n    scrollbarX.series.push(seriesList[0]);\n    scrollbarX.marginBottom = 20;\n    let sbSeries = scrollbarX.scrollbarChart.series.getIndex(0);\n    sbSeries.dataFields.valueYShow = undefined;\n    chart.scrollbarX = scrollbarX;\n  }\n\n  componentWillUnmount() {\n    if (this.chart) {\n      this.chart.dispose();\n    }\n  }\n\n  render() {\n    const { chartId } = this.props;\n    return <Box id={chartId} style={{ width: '100%', height: '500px' }} />;\n  }\n}\n\nexport default ComparingChart;\n","import React from 'react';\nimport { makeStyles, Grid, Paper, Typography, CircularProgress } from '@material-ui/core';\nimport ComparingChart from './ComparingChart';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n}));\n\nconst HoldingPerformance = ({ portfolio }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid>\n        <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n          <strong>Holding Performance</strong>\n        </Typography>\n        <Grid align=\"center\">\n          {portfolio.stockData ? (\n            <ComparingChart\n              chartId=\"StockComparing\"\n              data={portfolio.stockData}\n              tickers={portfolio.tickers}\n            />\n          ) : (\n            <CircularProgress color=\"primary\" />\n          )}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default HoldingPerformance;\n","import {\n  CircularProgress,\n  IconButton,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n} from '@material-ui/core';\nimport Link from '@material-ui/core/Link';\nimport { Delete as DeleteIcon } from '@material-ui/icons';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { updateHoldings } from '../../../utils/transactionRequests';\nimport { getComparator, SortTableHead, stableSort } from '../../common/sortTableComponents';\n\nSortTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n  headCells: PropTypes.array.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 250,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  negativeTrend: {\n    color: '#ff1744',\n  },\n  positiveTrend: {\n    color: '#4caf50',\n  },\n}));\n\nconst StockTable = ({ portfolio, fetchPortfolio, isOwner }) => {\n  const classes = useStyles();\n  const [order, setOrder] = useState('desc');\n  const [orderBy, setOrderBy] = useState('Change Percent');\n  const [selected, setSelected] = useState([]);\n  const headCells = [\n    { id: 'Stock', numeric: false, disablePadding: true, label: 'Stock' },\n    { id: 'quantity', numeric: true, disablePadding: false, label: 'Quantity' },\n    { id: 'Latest Price', numeric: true, disablePadding: false, label: 'Latest Price' },\n    { id: 'Price Change', numeric: true, disablePadding: false, label: 'Price Change' },\n    { id: 'Change Percent', numeric: true, disablePadding: false, label: 'Change Percent' },\n    { id: 'Next Day', numeric: true, disablePadding: false, label: 'Next Day Price' },\n    { id: 'Next Day Percent', numeric: true, disablePadding: false, label: 'Next Day % change' },\n  ];\n  const [data, setData] = useState(null);\n\n  // Get all holdings with quantity greater than 0\n  useEffect(() => {\n    if (portfolio) {\n      const holdingList = [];\n      for (let i = 0; i < portfolio.holdings.length; i++) {\n        if (portfolio.holdings[i].quantity > 0) {\n          holdingList.push(portfolio.holdings[i]);\n        }\n      }\n      setData(holdingList, portfolio.holdings);\n    }\n  }, [portfolio]);\n\n  // Handle header clicked for sorting\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleClick = (event, name) => {\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n    setSelected(newSelected);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  // Handle deleting a holding from portfolio\n  const onDeleteHolding = async (holdingId, quantity) => {\n    await updateHoldings(holdingId, quantity);\n    fetchPortfolio();\n  };\n\n  return (\n    <TableContainer>\n      {data && (\n        <Table\n          className={classes.table}\n          aria-labelledby=\"tableTitle\"\n          size=\"medium\"\n          aria-label=\"enhanced table\"\n        >\n          <SortTableHead\n            classes={classes}\n            numSelected={selected.length}\n            order={order}\n            orderBy={orderBy}\n            onRequestSort={handleRequestSort}\n            rowCount={data.length}\n            headCells={headCells}\n          />\n          <TableBody>\n            {stableSort(data, getComparator(order, orderBy)).map((row, index) => {\n              const isItemSelected = isSelected(row.stock.ticker);\n              const labelId = `enhanced-table-checkbox-${index}`;\n              return (\n                <TableRow\n                  hover\n                  onClick={(event) => handleClick(event, row.stock.ticker)}\n                  role=\"checkbox\"\n                  aria-checked={isItemSelected}\n                  tabIndex={-1}\n                  key={row.stock.ticker}\n                  selected={isItemSelected}\n                >\n                  <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                    <Link component={RouterLink} to={`/stock/${row.stock.id}`}>\n                      <strong>\n                        {row.stock.name} ({row.stock.ticker})\n                      </strong>\n                    </Link>\n                  </TableCell>\n                  <TableCell align=\"right\">{row.quantity}</TableCell>\n                  <TableCell align=\"right\">\n                    {row['Latest Price'] ? (\n                      row['Latest Price'].toFixed(2)\n                    ) : (\n                      <CircularProgress color=\"primary\" size={10} />\n                    )}\n                  </TableCell>\n                  <TableCell\n                    align=\"right\"\n                    className={\n                      row['Price Change'] > 0 ? classes.positiveTrend : classes.negativeTrend\n                    }\n                  >\n                    {row['Price Change'] ? (\n                      row['Price Change'].toFixed(2)\n                    ) : (\n                      <CircularProgress color=\"primary\" size={10} />\n                    )}\n                  </TableCell>\n                  <TableCell\n                    align=\"right\"\n                    className={\n                      row['Change Percent'] > 0 ? classes.positiveTrend : classes.negativeTrend\n                    }\n                  >\n                    {row['Change Percent'] ? (\n                      row['Change Percent'].toFixed(2) + '%'\n                    ) : (\n                      <CircularProgress color=\"primary\" size={10} />\n                    )}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {row['Next Day'] ? (\n                      row['Next Day'].toFixed(2)\n                    ) : (\n                      <CircularProgress color=\"primary\" size={10} />\n                    )}\n                  </TableCell>\n                  <TableCell\n                    align=\"right\"\n                    className={\n                      row['Next Day Percent'] > 0 ? classes.positiveTrend : classes.negativeTrend\n                    }\n                  >\n                    {row['Next Day Percent'] ? (\n                      row['Next Day Percent'].toFixed(2) + '%'\n                    ) : (\n                      <CircularProgress color=\"primary\" />\n                    )}\n                  </TableCell>\n                  {isOwner && (\n                    <IconButton\n                      onClick={() => {\n                        onDeleteHolding(row.id, -row.quantity);\n                      }}\n                    >\n                      <DeleteIcon />\n                    </IconButton>\n                  )}\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      )}\n    </TableContainer>\n  );\n};\n\nexport default StockTable;\n","import React from 'react';\nimport { makeStyles, Grid, Paper, Typography } from '@material-ui/core';\nimport StockTable from './StockTable';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n}));\n\nconst Holdings = ({ portfolio, fetchPortfolio, isOwner }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid>\n        <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n          <strong>Stock Holdings</strong>\n        </Typography>\n        <StockTable portfolio={portfolio} fetchPortfolio={fetchPortfolio} isOwner={isOwner} />\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default Holdings;\n","// Return abbreviation of given large number\nexport const abbreviateNumber = (number) => {\n  let newString = number;\n  if (number >= 1000) {\n    if (number >= 1000000000000) {\n      newString = Math.round(number / 10000000000) / 100 + 't';\n    } else if (number >= 1000000000) {\n      newString = Math.round(number / 10000000) / 100 + 'b';\n    } else if (number >= 1000000) {\n      newString = Math.round(number / 10000) / 100 + 'm';\n    } else {\n      newString = Math.round(number / 10) / 100 + 'k';\n    }\n  }\n  return newString;\n};\n\n// Return a slice of given length from a list\nexport const sliceList = (list, len) => {\n  const listLen = list.length;\n  if (listLen > len) {\n    return list.slice(listLen - len, listLen);\n  } else {\n    return list;\n  }\n};\n\n// Generate projection for prediction\nexport const generateFutureProjection = (data, prediction) => {\n  const futureDateList = Object.keys(prediction);\n  for (let i = 0; i < futureDateList.length; i++) {\n    data.push({\n      time: futureDateList[i],\n      projection: Number(Number(prediction[futureDateList[i]]).toFixed(3)),\n    });\n  }\n};\n\n// Create data for rendering chart\nexport const processChartData = (data) => {\n  const newData = [];\n  for (let i = 0; i < data.date.length; i++) {\n    newData.push({\n      time: data.date[i],\n      value: data.close[i],\n    });\n  }\n  return newData;\n};\n\n// Return stock data retrieved from Alpha Vantage data\nexport const processStockData = (overview, daily, weekly, quote, news, prediction) => {\n  const dailyData = daily;\n  const weeklyData = weekly;\n  const currentDate = daily.date[daily.date.length - 1];\n  const updatedAt = daily.date[daily.date.length - 1];\n  const latestPrice = quote['Quote Price'];\n  const beta = quote['Beta (5Y Monthly)'];\n  const sd = overview.sd.toFixed(3);\n\n  // Create list of DAILY data for rendering chart in stock page\n  const dailyPriceData = processChartData(dailyData);\n\n  // make predicted curve continuous\n  dailyPriceData.push({ time: currentDate, projection: latestPrice });\n  generateFutureProjection(dailyPriceData, prediction);\n\n  // Create list of WEEKLY data for rendering chart in stock page\n  const weeklyPriceData = processChartData(weeklyData);\n\n  const futureDateList = Object.keys(prediction);\n  const predictionData = [];\n  for (let i = 0; i < futureDateList.length; i++) {\n    if (i % 7 === 0) {\n      predictionData.push({\n        date: futureDateList[i],\n        value: [\n          Number(prediction[futureDateList[i]]).toFixed(3),\n          Number((prediction[futureDateList[i]] / latestPrice - 1) * 100).toFixed(2),\n        ],\n      });\n    }\n  }\n\n  // Create data for Summary Table 1 in stock page\n  const summaryTableData1 = [\n    { label: 'Quote Type', value: overview.quoteType },\n    { label: 'Country', value: overview.country },\n    { label: 'Sector', value: overview.sector },\n    { label: 'FT Employees', value: overview.fullTimeEmployees },\n    { label: 'Previous Close', value: quote['Previous Close'].toFixed(4) },\n    { label: 'Open', value: overview.open.toFixed(4) },\n    { label: \"Day's Range\", value: quote[\"Day's Range\"] },\n    { label: '52-Week Range', value: quote['52 Week Range'] },\n    { label: '52-Week Change', value: overview['52WeekChange'] },\n  ];\n\n  // Create data for Summary Table 2 in stock page\n  const summaryTableData2 = [\n    { label: 'PE Ratio', value: quote['PE Ratio (TTM)'] },\n    { label: 'EPS (TTM)', value: quote['EPS (TTM)'] },\n    { label: 'Earnings Date', value: quote['Earnings Date'] },\n    { label: '1y Target Est', value: quote['1y Target Est'] },\n    { label: 'Ask', value: quote['Ask'] },\n    { label: 'Forward Dividend & Yield', value: quote['Forward Dividend & Yield'] },\n    { label: 'Ex Dividend Date', value: quote['Ex-Dividend Date'] },\n    { label: 'Volume', value: quote['Volume'] },\n  ];\n\n  // Get only 5 latest stock news at most\n  let stockNews = [];\n  if (news.length > 5) {\n    stockNews = news.slice(0, 5);\n  } else {\n    stockNews = news;\n  }\n\n  return {\n    overview: overview,\n    quote: quote,\n    dailyData: dailyData,\n    weeklyData: weeklyData,\n    dailyPriceData: dailyPriceData,\n    weeklyPriceData: weeklyPriceData,\n    predictionData: predictionData,\n    summaryTableData1: summaryTableData1,\n    summaryTableData2: summaryTableData2,\n    currentDate: currentDate,\n    updatedAt: updatedAt,\n    latestPrice: latestPrice,\n    news: stockNews,\n    beta: beta,\n    sd: sd,\n  };\n};\n","import {\n  makePrediction,\n  getStockData,\n  getHoldingData,\n  YF_QUOTE,\n} from '../../../api/backendRequests';\nimport { processChartData } from '../stock-page/actions';\n\n// Fetch and calculate stock data held in given portfolio\n// Return list of holdings whose quantity is greater than 0\nexport const getPortfolioInfo = async (portfolio) => {\n  const stockList = [];\n  for (let i = 0; i < portfolio.holdings.length; i++) {\n    // Convert to number\n    portfolio.holdings[i].quantity = Number(portfolio.holdings[i].quantity);\n    // Only fetch holdings with quantity greater than 0\n    if (portfolio.holdings[i].quantity > 0) {\n      const quote = await getStockData(portfolio.holdings[i].stock.id, YF_QUOTE);\n      const dailyData = await getHoldingData(portfolio.holdings[i].id);\n      const daily = dailyData.results;\n      const boughtAt = dailyData.boughtAt;\n      const prediction = await makePrediction(portfolio.holdings[i].stock.id);\n      const futureDateList = Object.keys(prediction);\n      const nextDayPred = Number(Number(prediction[futureDateList[0]]).toFixed(2));\n      portfolio.holdings[i]['Latest Price'] = quote['Quote Price'];\n      portfolio.holdings[i]['Price Change'] = quote['Price Change'];\n      portfolio.holdings[i]['Change Percent'] = quote['Change Percent'];\n      portfolio.holdings[i]['Volume'] = quote['Volume'];\n      portfolio.holdings[i]['Daily Data'] = processChartData(daily);\n      portfolio.holdings[i]['Next Day'] = nextDayPred;\n      portfolio.holdings[i]['beta'] = quote['Beta (5Y Monthly)'];\n      portfolio.holdings[i]['Next Day Percent'] = (nextDayPred / quote['Quote Price'] - 1) * 100;\n      portfolio.holdings[i].boughtAt = boughtAt + 'T00:00:00';\n      stockList.push(portfolio.holdings[i]);\n    }\n  }\n  // Calculate important stats\n  [\n    portfolio.value,\n    portfolio.change,\n    portfolio.changePercent,\n    portfolio.nextDay,\n    portfolio.tickers,\n    portfolio.pieChartData,\n    portfolio.beta,\n  ] = calcPortfolioStats(stockList);\n  // Prepare dataset for rendering charts\n  [portfolio.values, portfolio.stockData] = calcPortfolioValues(stockList);\n  return stockList;\n};\n\n// Return data for rendering Line Graph and Comparing Chart\nexport const calcPortfolioValues = (holdings) => {\n  const values = [];\n  const stockData = [];\n\n  if (holdings.length === 0) return values;\n\n  let copiedHoldings = [...holdings];\n  for (let i = 0; i < copiedHoldings.length; i++) {\n    copiedHoldings[i]['Daily Data'].reverse();\n  }\n\n  for (let i = 0; i < copiedHoldings[0]['Daily Data'].length; i++) {\n    let value = 0;\n    let time = copiedHoldings[0]['Daily Data'][i].time;\n    let volume = 0;\n    let dataPoint = {};\n    let stopSavingValues = true;\n\n    for (let j = 0; j < copiedHoldings.length; j++) {\n      if (\n        Date.parse(copiedHoldings[j]['Daily Data'][i].time) >=\n        Date.parse(copiedHoldings[j].boughtAt)\n      ) {\n        value += copiedHoldings[j]['Daily Data'][i].value * copiedHoldings[j].quantity;\n        stopSavingValues = false;\n      }\n      volume += copiedHoldings[j]['Volume'];\n      dataPoint[copiedHoldings[j].stock.ticker] = copiedHoldings[j]['Daily Data'][i].value;\n    }\n    if (!stopSavingValues) {\n      values.push({\n        time: time,\n        value: value,\n      });\n    }\n    dataPoint.time = time;\n    dataPoint.volume = volume;\n    stockData.push(dataPoint);\n  }\n  return [values.reverse(), stockData.reverse()];\n};\n\n// Return latest value of a portfolio given a list of holdings\nexport const calcPortfolioValue = (holdings) => {\n  let value = 0;\n  if (holdings.length === 0) return value;\n  for (let i = 0; i < holdings.length; i++) {\n    if (Number(holdings[i].quantity) > 0) {\n      value += Number(holdings[i].stock.latestPrice) * Number(holdings[i].quantity);\n    }\n  }\n  return value;\n};\n\n// Calculate essential stats of holdings with data for rendering Pie Chart\nexport const calcPortfolioStats = (holdings) => {\n  let value = 0;\n  let change = 0;\n  let changePercent = 0;\n  let totalQuantity = 0;\n  let nextDay = 0;\n  let beta = 0;\n  const tickers = [];\n  const pieChartData = [];\n\n  if (holdings.length === 0) return [value, change, changePercent, nextDay, beta];\n\n  for (let i = 0; i < holdings.length; i++) {\n    value += holdings[i]['Latest Price'] * holdings[i].quantity;\n    change += holdings[i]['Price Change'] * holdings[i].quantity;\n    changePercent += holdings[i]['Change Percent'] * holdings[i].quantity;\n    totalQuantity += holdings[i].quantity;\n    nextDay += holdings[i]['Next Day'] * holdings[i].quantity;\n    tickers.push(holdings[i].stock.ticker);\n    pieChartData.push({\n      ticker: holdings[i].stock.ticker,\n      value: holdings[i]['Latest Price'] * holdings[i].quantity,\n      quantity: holdings[i].quantity,\n    });\n  }\n\n  changePercent = changePercent / totalQuantity;\n\n  for (let i = 0; i < holdings.length; i++) {\n    beta += ((holdings[i]['Latest Price'] * holdings[i].quantity) / value) * holdings[i]['beta'];\n  }\n  return [value, change, changePercent, nextDay, tickers, pieChartData, beta];\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box } from '@material-ui/core';\nimport * as am4core from '@amcharts/amcharts4/core';\nimport * as am4charts from '@amcharts/amcharts4/charts';\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated';\n\nclass PieChart extends Component {\n  static propTypes = {\n    chartId: PropTypes.string.isRequired,\n    data: PropTypes.array.isRequired,\n    valueAxisTitle: PropTypes.string,\n  };\n\n  componentDidMount() {\n    const { chartId, data } = this.props;\n\n    // Set theme for the chart\n    am4core.useTheme(am4themes_animated);\n\n    // Create new chart instance\n    let chart = am4core.create(chartId, am4charts.PieChart);\n    chart.startAngle = 160;\n    chart.endAngle = 380;\n\n    // Make an empty circle at the size of 50% the radius\n    chart.innerRadius = am4core.percent(30);\n\n    // Import data\n    chart.data = data;\n\n    // Create series\n    let pieSeries = chart.series.push(new am4charts.PieSeries());\n    pieSeries.dataFields.value = 'quantity';\n    pieSeries.dataFields.category = 'ticker';\n    pieSeries.slices.template.stroke = new am4core.InterfaceColorSet().getFor('background');\n    pieSeries.slices.template.strokeWidth = 1;\n    pieSeries.slices.template.strokeOpacity = 1;\n\n    // Disabling labels and ticks on inner circle\n    pieSeries.labels.template.disabled = true;\n    pieSeries.ticks.template.disabled = true;\n\n    // Disable sliding out of slices\n    pieSeries.slices.template.states.getKey('hover').properties.shiftRadius = 0;\n    pieSeries.slices.template.states.getKey('hover').properties.scale = 1;\n    pieSeries.radius = am4core.percent(40);\n    pieSeries.innerRadius = am4core.percent(30);\n\n    let cs = pieSeries.colors;\n    cs.list = [am4core.color(new am4core.ColorSet().getIndex(0))];\n\n    cs.stepOptions = {\n      lightness: -0.05,\n      hue: 0,\n    };\n    cs.wrap = false;\n\n    // Create second series\n    let pieSeries2 = chart.series.push(new am4charts.PieSeries());\n    pieSeries2.dataFields.value = 'value';\n    pieSeries2.dataFields.category = 'ticker';\n    pieSeries2.slices.template.stroke = new am4core.InterfaceColorSet().getFor('background');\n    pieSeries2.slices.template.strokeWidth = 1;\n    pieSeries2.slices.template.strokeOpacity = 1;\n    pieSeries2.slices.template.states.getKey('hover').properties.shiftRadius = 0.05;\n    pieSeries2.slices.template.states.getKey('hover').properties.scale = 1;\n\n    pieSeries2.labels.template.disabled = true;\n    pieSeries2.ticks.template.disabled = true;\n\n    let label = chart.seriesContainer.createChild(am4core.Label);\n    label.textAlign = 'middle';\n    label.horizontalCenter = 'middle';\n    label.verticalCenter = 'middle';\n    let total = 0;\n    for (let i = 0; i < data.length; i++) {\n      total += data[i].value;\n    }\n    label.adapter.add('text', function (text, target) {\n      return (\n        '[font-size:18px]Total Value[/]:\\n[bold font-size:30px]AUD$' + total.toFixed(2) + '[/]'\n      );\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.chart) {\n      this.chart.dispose();\n    }\n  }\n\n  render() {\n    const { chartId } = this.props;\n    return <Box id={chartId} style={{ width: '100%', height: '500px' }} />;\n  }\n}\n\nexport default PieChart;\n","import React from 'react';\nimport { Box, CircularProgress, Grid, makeStyles, Paper, Typography } from '@material-ui/core';\nimport ReactTooltip from 'react-tooltip';\nimport PieChart from './PieChart';\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n  negativeTrend: {\n    color: '#ff1744',\n  },\n  positiveTrend: {\n    color: '#4caf50',\n  },\n}));\n\nconst BETA_DEFINITION =\n  'A weighted sum of beta values of each stock in the portfolio. A beta that is greater than 1.0 indicates that the portfolio price is theoretically more volatile than the market, and vice versa';\n\nconst DIVERSIFICATION_DEFINITION =\n  'Diversification includes owning stocks from several different industries, countries, and risk profiles. The best value is 1. A normal value can be negative. The higher the value, the better the diversification.';\n\nconst Overview = ({ portfolio, diversification }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid container>\n        <Grid item xs={12}>\n          <Typography variant=\"h6\">\n            <strong>Overview</strong>\n          </Typography>\n        </Grid>\n        <Grid item xs={8} align=\"center\">\n          {portfolio.pieChartData ? (\n            <PieChart chartId=\"HoldingPieChart\" data={portfolio.pieChartData} />\n          ) : (\n            <CircularProgress color=\"primary\" />\n          )}\n        </Grid>\n        <Grid item xs={4} align=\"center\">\n          <Grid item align=\"center\" style={{ marginBottom: 40 }}>\n            <Typography variant=\"subtitle1\" color=\"textSecondary\">\n              Value Change Today\n            </Typography>\n            <Typography\n              variant=\"h4\"\n              className={portfolio.change > 0 ? classes.positiveTrend : classes.negativeTrend}\n            >\n              {portfolio.change ? (\n                <strong>{portfolio.change.toFixed(2)}</strong>\n              ) : (\n                <CircularProgress color=\"primary\" />\n              )}\n            </Typography>\n          </Grid>\n          <Grid item align=\"center\" style={{ marginBottom: 40 }}>\n            <Typography variant=\"subtitle1\" color=\"textSecondary\">\n              Change Percent Today\n            </Typography>\n            <Typography\n              variant=\"h4\"\n              className={\n                portfolio.changePercent > 0 ? classes.positiveTrend : classes.negativeTrend\n              }\n            >\n              {portfolio.changePercent ? (\n                <strong>{portfolio.changePercent.toFixed(2)}%</strong>\n              ) : (\n                <CircularProgress color=\"primary\" />\n              )}\n            </Typography>\n          </Grid>\n          <Grid item align=\"center\" style={{ marginBottom: 40 }}>\n            <Typography variant=\"subtitle1\" color=\"textSecondary\">\n              Next Day Value\n            </Typography>\n            <Typography variant=\"h4\">\n              {portfolio.nextDay ? (\n                <strong>AUD${portfolio.nextDay.toFixed(2)}</strong>\n              ) : (\n                <CircularProgress color=\"primary\" />\n              )}\n            </Typography>\n          </Grid>\n\n          <Grid item align=\"center\" style={{ marginBottom: 40 }}>\n            <Typography\n              variant=\"subtitle1\"\n              color=\"textSecondary\"\n              data-tip={BETA_DEFINITION}\n              data-for=\"toolTip1\"\n              data-place=\"top\"\n            >\n              Beta value\n            </Typography>\n            <ReactTooltip id=\"toolTip1\" />\n            <Typography variant=\"h4\">\n              {portfolio.beta ? (\n                <strong>{portfolio.beta.toFixed(2)}</strong>\n              ) : (\n                <CircularProgress color=\"primary\" />\n              )}\n            </Typography>\n          </Grid>\n\n          <Grid item align=\"center\" style={{ marginBottom: 40 }}>\n            <Typography\n              variant=\"subtitle1\"\n              color=\"textSecondary\"\n              data-tip={DIVERSIFICATION_DEFINITION}\n              data-for=\"toolTip2\"\n              data-place=\"top\"\n            >\n              Diversification\n            </Typography>\n            <ReactTooltip id=\"toolTip2\" />\n            {diversification !== null ? (\n              <Grid>\n                <Typography variant=\"subtitle1\">\n                  <strong>{diversification}</strong>\n                </Typography>\n                <Box\n                  align=\"center\"\n                  style={{\n                    flex: 1,\n                    background:\n                      diversification < 0.33 ? 'red' : diversification < 0.66 ? 'yellow' : 'green',\n                    height: '10px',\n                    maxWidth: '200px',\n                    marginRight: '1rem',\n                    borderRadius: '22px',\n                    alignItems: 'center',\n                  }}\n                />\n              </Grid>\n            ) : (\n              <CircularProgress color=\"primary\" />\n            )}\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default Overview;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box } from '@material-ui/core';\n\nimport * as am4core from '@amcharts/amcharts4/core';\nimport * as am4charts from '@amcharts/amcharts4/charts';\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated';\n\nclass LineChart extends Component {\n  static propTypes = {\n    chartId: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(\n      PropTypes.shape({\n        time: PropTypes.string,\n        value: PropTypes.number,\n      }).isRequired,\n    ).isRequired,\n    valueAxisTitle: PropTypes.string,\n  };\n\n  componentDidMount() {\n    const { chartId, data, valueAxisTitle } = this.props;\n    // Set theme for the chart\n    am4core.useTheme(am4themes_animated);\n\n    // Create new chart instance\n    let chart = am4core.create(chartId, am4charts.XYChart);\n\n    // Import data\n    chart.data = data;\n\n    // Create axes\n    let dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.minGridDistance = 50;\n    let valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.title.text = valueAxisTitle;\n\n    // Create series\n    let series = chart.series.push(new am4charts.LineSeries());\n    series.dataFields.valueY = 'value';\n    series.dataFields.dateX = 'time';\n    series.strokeWidth = 2;\n    series.minBulletDistance = 10;\n    series.tooltipText = '{valueY}';\n    series.tooltip.pointerOrientation = 'vertical';\n    series.tooltip.background.cornerRadius = 20;\n    series.tooltip.background.fillOpacity = 0.5;\n    series.tooltip.label.padding(12, 12, 12, 12);\n\n    // Add scrollbar\n    chart.scrollbarX = new am4charts.XYChartScrollbar();\n    chart.scrollbarX.series.push(series);\n\n    // Add cursor\n    chart.cursor = new am4charts.XYCursor();\n    chart.cursor.xAxis = dateAxis;\n    chart.cursor.snapToSeries = series;\n\n    this.chart = chart;\n  }\n\n  componentWillUnmount() {\n    if (this.chart) {\n      this.chart.dispose();\n    }\n  }\n\n  render() {\n    const { chartId } = this.props;\n    return <Box id={chartId} style={{ width: '100%', height: '500px' }} />;\n  }\n}\n\nexport default LineChart;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles, useTheme, Tabs, Tab, Typography, Box } from '@material-ui/core';\nimport LineChart from '../stock-page/charts/LineChart';\nimport { sliceList } from '../stock-page/actions';\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n  },\n  tab: {\n    minWidth: 30,\n    width: 50,\n  },\n});\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Box\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`,\n  };\n}\n\nconst ChartTabs = ({ portfolio }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Box className={classes.root}>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        centered\n      >\n        <Tab className={classes.tab} label=\"1M\" {...a11yProps(0)} />\n        <Tab className={classes.tab} label=\"3M\" {...a11yProps(1)} />\n        <Tab className={classes.tab} label=\"1Y\" {...a11yProps(2)} />\n        <Tab className={classes.tab} label=\"3Y\" {...a11yProps(3)} />\n        <Tab className={classes.tab} label=\"MAX\" {...a11yProps(4)} />\n      </Tabs>\n      <TabPanel value={value} index={0} dir={theme.direction}>\n        <LineChart\n          chartId=\"1MPriceChart\"\n          data={sliceList(portfolio.values, 22)}\n          valueAxisTitle={'Portfolio Value (AUD)'}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={1} dir={theme.direction}>\n        <LineChart\n          chartId=\"3MPriceChart\"\n          data={sliceList(portfolio.values, 66)}\n          valueAxisTitle={'Portfolio Value (AUD)'}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={2} dir={theme.direction}>\n        <LineChart\n          chartId=\"1YPriceChart\"\n          data={sliceList(portfolio.values, 264)}\n          valueAxisTitle={'Portfolio Value (AUD)'}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={3} dir={theme.direction}>\n        <LineChart\n          chartId=\"3YPriceChart\"\n          data={portfolio.values}\n          valueAxisTitle={'Portfolio Value (AUD)'}\n        />\n      </TabPanel>\n      <TabPanel value={value} index={4} dir={theme.direction}>\n        <LineChart\n          chartId=\"MAXPriceChart\"\n          data={portfolio.values}\n          valueAxisTitle={'Portfolio Value (AUD)'}\n        />\n      </TabPanel>\n    </Box>\n  );\n};\n\nexport default ChartTabs;\n","import React from 'react';\nimport { makeStyles, Typography, Paper, Grid, CircularProgress } from '@material-ui/core';\n\nimport ChartTabs from './ChartTabs';\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n  negativeTrend: {\n    color: '#ff1744',\n  },\n  positiveTrend: {\n    color: '#4caf50',\n  },\n}));\n\nconst PortfolioValues = ({ portfolio }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Typography variant=\"h6\" style={{ marginBottom: 20 }}>\n        <strong>Portfolio Performance</strong>\n      </Typography>\n      <Grid align=\"center\">\n        {portfolio.values ? (\n          <ChartTabs portfolio={portfolio} />\n        ) : (\n          <CircularProgress color=\"primary\" align=\"center\" />\n        )}\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default PortfolioValues;\n","import { Box, Grid, Button, makeStyles, Typography, CircularProgress } from '@material-ui/core';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport React, { useContext, useEffect, useState } from 'react';\nimport ReactLoading from 'react-loading';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { delete_portfolio, usePortfolio } from '../../../utils/usePortfolios';\nimport UserContext from '../../contexts/UserContext';\nimport HoldingPerformance from './HoldingPerformance';\nimport Holdings from './Holdings';\nimport { getPortfolioInfo } from './actions';\nimport Overview from './Overview';\nimport PortfolioValues from './PortfolioValues';\n\nconst useStyles = makeStyles({\n  root: {\n    paddingTop: 20,\n  },\n  headingContainer: {\n    width: '100%',\n  },\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n  description: {\n    fontSize: 20,\n    color: '#888',\n    fontStyle: 'italic',\n  },\n  fab: {\n    position: 'absolute',\n    bottom: 20,\n    right: 20,\n  },\n  loadingContainer: {\n    margin: '0 auto',\n  },\n});\n\nconst PortfolioPage = () => {\n  const history = useHistory();\n  const { token } = useContext(UserContext);\n  const { id } = useParams();\n  const [\n    portfolio,\n    ,\n    fetchPortfolio,\n    loading,\n    ,\n    updatePortfolio,\n    diversification,\n    isOwner,\n    canRead,\n  ] = usePortfolio(null, id, [token]);\n  const [stocks, setStocks] = useState(null);\n  const [stockLoading, setStockLoading] = useState(true);\n  const classes = useStyles();\n\n  // Handle deleting portfolio button\n  const onDelete = async () => {\n    await delete_portfolio(id);\n    history.replace('/portfolio');\n  };\n\n  // Handle setting public/private button\n  const onSetPublicClicked = () => {\n    updatePortfolio(id, {\n      isPublic: !portfolio.isPublic,\n      name: portfolio.name,\n    });\n  };\n\n  // Get data of holdings for displaying on the UI\n  useEffect(() => {\n    const fetchData = async (portfolio) => {\n      const stockList = await getPortfolioInfo(portfolio);\n      setStocks(stockList);\n      setStockLoading(false);\n    };\n    if (portfolio && canRead) fetchData(portfolio);\n  }, [portfolio, canRead]);\n\n  return (\n    <Box className={classes.root}>\n      {token && canRead ? (\n        <div>\n          <Box\n            className={classes.headingContainer}\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n          >\n            <div>\n              <Typography variant=\"h2\" className={classes.heading}>\n                {portfolio && portfolio.name}\n              </Typography>\n              <Typography variant=\"h3\" className={classes.description}>\n                {portfolio && portfolio.description}\n              </Typography>\n            </div>\n            {isOwner && (\n              <div>\n                <Button variant=\"contained\" color=\"secondary\" onClick={onDelete}>\n                  Delete\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  style={{ marginLeft: '1rem' }}\n                  onClick={onSetPublicClicked}\n                >\n                  {loading ? (\n                    <CircularProgress color=\"primary\" align=\"center\" />\n                  ) : portfolio && portfolio.isPublic ? (\n                    'Remove as Public'\n                  ) : (\n                    'Set as Public'\n                  )}\n                </Button>\n              </div>\n            )}\n          </Box>\n          {stockLoading ? (\n            <Grid className={classes.loadingContainer} align=\"center\">\n              <ReactLoading type=\"spin\" color=\"grey\" />\n            </Grid>\n          ) : stocks.length > 0 ? (\n            <Grid className={classes.root} container>\n              <Grid item xs={6} sm={8} md={12}>\n                {stocks && <Overview portfolio={portfolio} diversification={diversification} />}\n                {stocks && (\n                  <Holdings\n                    portfolio={portfolio}\n                    fetchPortfolio={fetchPortfolio}\n                    isOwner={isOwner}\n                  />\n                )}\n                {stocks && <PortfolioValues portfolio={portfolio} />}\n                {stocks && <HoldingPerformance portfolio={portfolio} />}\n              </Grid>\n            </Grid>\n          ) : (\n            <Typography variant=\"h6\">This portfolio has no stock holdings.</Typography>\n          )}\n        </div>\n      ) : token ? (\n        <MuiAlert severity=\"warning\">\n          <strong>This is a private portfolio.</strong>\n        </MuiAlert>\n      ) : (\n        <MuiAlert severity=\"info\">\n          <strong>Please login to view.</strong>\n        </MuiAlert>\n      )}\n    </Box>\n  );\n};\n\nexport default PortfolioPage;\n","const { createMuiTheme } = require('@material-ui/core');\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'light',\n    primary: {\n      main: '#006cfa',\n    },\n    secondary: {\n      main: '#1de9b6',\n    },\n  },\n  typography: {\n    fontFamily: ['Tahoma', 'sans-serif'].join(','),\n  },\n});\n\nexport default theme;\n","import React, { useState } from 'react';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport PropTypes from 'prop-types';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { getComparator, SortTableHead, stableSort } from '../../common/sortTableComponents';\n\nSortTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n  headCells: PropTypes.array.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 250,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  negativeTrend: {\n    color: '#ff1744',\n  },\n  positiveTrend: {\n    color: '#4caf50',\n  },\n}));\n\nconst AllStockTable = ({ data }) => {\n  const classes = useStyles();\n  const [order, setOrder] = useState('desc');\n  const [orderBy, setOrderBy] = useState('percentchange');\n  const [selected, setSelected] = useState([]);\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleClick = (event, name) => {\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    setSelected(newSelected);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  const headCells = [\n    { id: 'ticker', numeric: false, disablePadding: true, label: 'Ticker' },\n    { id: 'name', numeric: false, disablePadding: true, label: 'Name' },\n    { id: 'sector', numeric: false, disablePadding: true, label: 'Sector' },\n    { id: 'latestPrice', numeric: true, disablePadding: false, label: 'Latest Price' },\n    {\n      id: 'predictedNextDayPrice',\n      numeric: true,\n      disablePadding: false,\n      label: 'next day prediction',\n    },\n    {\n      id: 'predictedPercentChange',\n      numeric: true,\n      disablePadding: false,\n      label: 'prediction percent change',\n    },\n  ];\n\n  return (\n    <TableContainer>\n      <Table\n        className={classes.table}\n        aria-labelledby=\"tableTitle\"\n        size=\"medium\"\n        aria-label=\"enhanced table\"\n      >\n        <SortTableHead\n          classes={classes}\n          numSelected={selected.length}\n          order={order}\n          orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          rowCount={10}\n          headCells={headCells}\n        />\n        <TableBody>\n          {stableSort(data, getComparator(order, orderBy)).map((row, index) => {\n            const isItemSelected = isSelected(row['Ticker']);\n            const labelId = `enhanced-table-checkbox-${index}`;\n\n            return (\n              <TableRow\n                hover\n                onClick={(event) => handleClick(event, row.symbol)}\n                role=\"checkbox\"\n                aria-checked={isItemSelected}\n                tabIndex={-1}\n                key={row['ticker']}\n                selected={isItemSelected}\n              >\n                <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                  <Link component={RouterLink} to={`/stock/${row.id}`}>\n                    {row['ticker']}\n                  </Link>\n                </TableCell>\n                <TableCell align=\"left\">{row['name']}</TableCell>\n                <TableCell align=\"left\">{row['sector']}</TableCell>\n                <TableCell align=\"right\">{parseFloat(row['latestPrice'])}</TableCell>\n                <TableCell\n                  align=\"right\"\n                  className={\n                    Number(row['predictedNextDayPrice']) > row['latestPrice']\n                      ? classes.positiveTrend\n                      : classes.negativeTrend\n                  }\n                >\n                  {row['predictedNextDayPrice']}\n                </TableCell>\n                <TableCell\n                  align=\"right\"\n                  className={\n                    Number(row['predictedNextDayPrice']) > row['latestPrice']\n                      ? classes.positiveTrend\n                      : classes.negativeTrend\n                  }\n                >\n                  {Number((row['predictedNextDayPrice'] / row['latestPrice'] - 1) * 100).toFixed(2)}\n                  %\n                </TableCell>\n              </TableRow>\n            );\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default AllStockTable;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport PropTypes from 'prop-types';\nimport { getComparator, SortTableHead, stableSort } from '../../common/sortTableComponents';\n\nSortTableHead.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onRequestSort: PropTypes.func.isRequired,\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n  orderBy: PropTypes.string.isRequired,\n  rowCount: PropTypes.number.isRequired,\n  headCells: PropTypes.array.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  table: {\n    minWidth: 250,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  negativeTrend: {\n    color: '#ff1744',\n  },\n  positiveTrend: {\n    color: '#4caf50',\n  },\n}));\n\nconst MarketTable = ({ data }) => {\n  const classes = useStyles();\n  const [order, setOrder] = useState('desc');\n  const [orderBy, setOrderBy] = useState('percentchange');\n  const [selected, setSelected] = useState([]);\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleClick = (event, name) => {\n    const selectedIndex = selected.indexOf(name);\n    let newSelected = [];\n\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, name);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    setSelected(newSelected);\n  };\n\n  const isSelected = (name) => selected.indexOf(name) !== -1;\n\n  const headCells = [\n    { id: 'Symbol', numeric: false, disablePadding: true, label: 'Ticker' },\n    { id: 'Name', numeric: false, disablePadding: true, label: 'Name' },\n    { id: 'Price (intraday)', numeric: true, disablePadding: false, label: 'Price (intraday)' },\n    { id: 'Change', numeric: true, disablePadding: false, label: 'Change' },\n    { id: '% change', numeric: true, disablePadding: false, label: 'Percent Change' },\n  ];\n\n  return (\n    <TableContainer>\n      <Table\n        className={classes.table}\n        aria-labelledby=\"tableTitle\"\n        size=\"medium\"\n        aria-label=\"enhanced table\"\n      >\n        <SortTableHead\n          classes={classes}\n          numSelected={selected.length}\n          order={order}\n          orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          rowCount={10}\n          headCells={headCells}\n        />\n        <TableBody>\n          {stableSort(data, getComparator(order, orderBy)).map((row, index) => {\n            const isItemSelected = isSelected(row['Symbol']);\n            const labelId = `enhanced-table-checkbox-${index}`;\n\n            return (\n              <TableRow\n                hover\n                onClick={(event) => handleClick(event, row.symbol)}\n                role=\"checkbox\"\n                aria-checked={isItemSelected}\n                tabIndex={-1}\n                key={row['Symbol']}\n                selected={isItemSelected}\n              >\n                <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n                  {row['Symbol']}\n                </TableCell>\n                <TableCell align=\"left\">{row['Name']}</TableCell>\n                <TableCell align=\"right\">{row['Price (intraday)']}</TableCell>\n                <TableCell\n                  align=\"right\"\n                  className={row['Change'] > 0 ? classes.positiveTrend : classes.negativeTrend}\n                >\n                  {row['Change']}\n                </TableCell>\n                <TableCell\n                  align=\"right\"\n                  className={row['% change'] > 0 ? classes.positiveTrend : classes.negativeTrend}\n                >\n                  {row['% change']}%\n                </TableCell>\n              </TableRow>\n            );\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default MarketTable;\n","import { Grid, Paper, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useEffect, useState } from 'react';\nimport ReactLoading from 'react-loading';\nimport { getAllStockData, getMarketData } from '../../../api/backendRequests';\nimport AllStockTable from './AllStockTable';\nimport MarketTable from './MarketTable';\n\nconst useStyles = makeStyles({\n  root: {\n    paddingTop: 20,\n  },\n  headingContainer: {\n    marginBottom: 40,\n  },\n  heading: {\n    fontSize: 40,\n    fontWeight: 'bold',\n  },\n  description: {\n    fontSize: 30,\n    color: '#888',\n    fontStyle: 'italic',\n  },\n  paper: {\n    width: '100%',\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n  loadingContainer: {\n    margin: '0 auto',\n  },\n});\n\nconst MarketPage = () => {\n  const classes = useStyles();\n  const [stocks, setStocks] = useState(null);\n  const [loading, setLoading] = useState(true);\n  var [allStocks, setAllStocks] = useState(null);\n\n  useEffect(() => {\n    const fetchStockData = async () => {\n      const results = await getMarketData();\n      const market = await getAllStockData();\n      setStocks(results);\n      setAllStocks(market);\n      setLoading(false);\n    };\n    fetchStockData();\n  }, []);\n\n  if (allStocks != null) {\n    for (let i = 0; i < allStocks.length; i++) {\n      allStocks[i]['latestPrice'] = parseFloat(allStocks[i]['latestPrice']);\n      allStocks[i]['predictedNextDayPrice'] = parseFloat(allStocks[i]['predictedNextDayPrice']);\n      allStocks[i]['predictedPercentChange'] =\n        (allStocks[i]['predictedNextDayPrice'] / allStocks[i]['latestPrice'] - 1) * 100;\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.headingContainer}>\n        <Typography variant=\"h2\" className={classes.heading}>\n          Market\n        </Typography>\n        <Typography variant=\"h3\" className={classes.description}>\n          Cha-Ching Market Information\n        </Typography>\n      </div>\n\n      <Grid container spacing={2}>\n        <Grid item xs={12} lg={6}>\n          <Paper className={classes.paper}>\n            <Grid container>\n              <Grid item xs={12}>\n                <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n                  <strong>Top Day Gainers</strong>\n                </Typography>\n              </Grid>\n              {loading ? (\n                <div className={classes.loadingContainer}>\n                  <ReactLoading type=\"spin\" color=\"grey\" />\n                </div>\n              ) : (\n                <Grid item xs={12}>\n                  {stocks && <MarketTable data={stocks['gainers']} />}\n                </Grid>\n              )}\n            </Grid>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <Paper className={classes.paper}>\n            <Grid container>\n              <Grid item xs={12}>\n                <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n                  <strong>Top Day Losers</strong>\n                </Typography>\n              </Grid>\n              {loading ? (\n                <div className={classes.loadingContainer}>\n                  <ReactLoading type=\"spin\" color=\"grey\" />\n                </div>\n              ) : (\n                <Grid item xs={12}>\n                  {stocks && <MarketTable data={stocks['losers']} />}\n                </Grid>\n              )}\n            </Grid>\n          </Paper>\n        </Grid>\n\n        <Paper className={classes.paper}>\n          <Grid container>\n            <Grid item xs={12}>\n              <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n                <strong>ASX 200 Stocks</strong>\n              </Typography>\n            </Grid>\n            {loading ? (\n              <div className={classes.loadingContainer}>\n                <ReactLoading type=\"spin\" color=\"grey\" />\n              </div>\n            ) : (\n              <Grid item xs={12}>\n                {allStocks && <AllStockTable data={allStocks} />}\n              </Grid>\n            )}\n          </Grid>\n        </Paper>\n      </Grid>\n    </div>\n  );\n};\n\nexport default MarketPage;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  table: {\n    marginTop: '4rem',\n    width: '100%',\n    borderSpacing: '0 2em',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  },\n  headerColumn: {\n    width: '16.66%',\n    color: '#7d868c',\n    marginBottom: '2rem',\n\n    fontWeight: 100,\n  },\n  bodyColumn: {\n    textAlign: 'center',\n    padding: '0.5rem',\n    border: '1px solid #ddd',\n\n    borderLeft: 0,\n    borderRight: 0,\n    fontSize: '1.2rem',\n    color: '#333',\n  },\n  companyPrice: {\n    color: '#004c99',\n    fontWeight: 'bold',\n    fontSize: '1rem',\n  },\n  change: { color: '#1ca41c' },\n  chartImage: {},\n}));\n\nexport default function Table({ tableHeader, tableBodyData, onClick, tableBodyStyle }) {\n  const classes = useStyles();\n\n  return (\n    <>\n      <table className={classes.table}>\n        <tr>\n          {tableHeader.map((col) => (\n            <th className={classes.headerColumn}>{col}</th>\n          ))}\n        </tr>\n        {tableBodyData.map((row, outerIndex) => {\n          return (\n            <tr\n              style={Array.isArray(tableBodyStyle) ? tableBodyStyle[outerIndex] : {}}\n              onClick={() => onClick(outerIndex)}\n            >\n              {row.map((col, index) => {\n                let style = {};\n                if (index === 0) {\n                  style = {\n                    borderLeft: '1px solid #ddd',\n                    borderTopLeftRadius: '8px',\n                    borderBottomLeftRadius: '8px',\n                  };\n                }\n                if (index === row.length - 1) {\n                  style = {\n                    borderRight: '1px solid #ddd',\n                    borderTopRightRadius: '8px',\n                    borderBottomRightRadius: '8px',\n                  };\n                }\n                return (\n                  <td style={style} className={`${classes.bodyColumn}`}>\n                    {col}\n                  </td>\n                );\n              })}\n            </tr>\n          );\n        })}\n      </table>\n    </>\n  );\n}\n","import { Box, CircularProgress } from '@material-ui/core';\nimport React from 'react';\n\nexport default function Loading() {\n  return (\n    <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n      <CircularProgress />\n    </Box>\n  );\n}\n","import React from 'react';\n\nimport { makeStyles, Grid, Box } from '@material-ui/core';\nimport Loading from './Loading';\nimport { Error } from '@material-ui/icons';\n\nconst useStyles = makeStyles(() => ({\n  content: {\n    padding: '3rem',\n  },\n\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n}));\n\nconst Layout = ({ loading, error, heading, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Grid container>\n      <Grid item md={12} className={classes.content}>\n        <Box>\n          {heading}\n          {loading ? <Loading /> : error ? <Error message={error} /> : children}\n        </Box>\n      </Grid>\n    </Grid>\n  );\n};\nexport default Layout;\n","import React, { useEffect, useContext } from 'react';\n\nimport { makeStyles, Typography } from '@material-ui/core';\nimport UserContext from '../../contexts/UserContext';\nimport { useHistory, useParams } from 'react-router';\nimport Table from '../../common/Table';\nimport { usePublicPortfolio } from '../../../utils/usePortfolios';\nimport Layout from '../../common/Layout';\nimport moment from 'moment';\n\nconst useStyles = makeStyles(() => ({\n  content: {\n    padding: '3rem',\n  },\n  sidebar: {\n    background: '#ddd',\n    height: '95vh',\n  },\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n}));\n\nconst PublicProfile = () => {\n  const params = useParams();\n  const { portfolios, loading, error, fetchPortfoliosByUserId } = usePublicPortfolio();\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  useEffect(() => {\n    fetchPortfoliosByUserId(params.id);\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleClick = (clickedIndex) => {\n    history.push(`/holdings/${portfolios[clickedIndex].id}`);\n  };\n\n  const getTableBodyStyle = () => {\n    return portfolios.map((p) => {\n      return {\n        background: `#${p.colour.hex}`,\n      };\n    });\n  };\n  const filterData = () => {\n    return portfolios.map((p) => {\n      return [p.name, p.description, moment(p.createdAt).format('YYYY-MM-DD')];\n    });\n  };\n\n  return (\n    <Layout\n      loading={loading}\n      error={error}\n      heading={\n        <Typography variant=\"h1\" className={classes.heading}>\n          Profile\n        </Typography>\n      }\n    >\n      <Table\n        tableBodyStyle={getTableBodyStyle()}\n        onClick={handleClick}\n        tableHeader={['Name', 'Description', 'Created At']}\n        tableBodyData={filterData()}\n      />\n    </Layout>\n  );\n};\nexport default PublicProfile;\n","import React, { useEffect } from 'react';\n\nimport { makeStyles, Typography } from '@material-ui/core';\nimport { useHistory, useParams } from 'react-router';\nimport Table from '../../common/Table';\nimport { usePublicPortfolio } from '../../../utils/usePortfolios';\nimport { calcPortfolioValue } from './actions';\nimport Layout from '../../common/Layout';\nimport moment from 'moment';\n\nconst useStyles = makeStyles(() => ({\n  content: {\n    padding: '3rem',\n  },\n  sidebar: {\n    background: '#ddd',\n    height: '95vh',\n  },\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n}));\n\nconst PublicPortfolio = () => {\n  const { allPortfolios, fetchAllPortfolios, loading, error } = usePublicPortfolio();\n  const classes = useStyles();\n  const history = useHistory();\n\n  useEffect(() => {\n    fetchAllPortfolios();\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleClick = (clickedIndex) => {\n    history.push(`/portfolio/${allPortfolios[clickedIndex].id}`);\n  };\n\n  const getTableBodyStyle = () => {\n    return allPortfolios.map((p) => {\n      return {\n        background: `#${p.colour.hex}`,\n      };\n    });\n  };\n\n  const filterData = () => {\n    let portfolioList = allPortfolios.map((p) => {\n      return [\n        p.name,\n        p.description,\n        moment(p.createdAt).format('YYYY-MM-DD'),\n        `$${calcPortfolioValue(p.holdings).toFixed(2)}`,\n      ];\n    });\n    const nodups = [];\n    for (let p of portfolioList) {\n      if (!nodups.find((el) => el[0] === p[0])) {\n        nodups.push(p);\n      }\n    }\n    return nodups;\n  };\n\n  return (\n    <Layout\n      loading={loading}\n      error={error}\n      heading={\n        <Typography variant=\"h1\" className={classes.heading}>\n          Public Portfolio\n        </Typography>\n      }\n    >\n      <Table\n        tableBodyStyle={getTableBodyStyle()}\n        onClick={handleClick}\n        tableHeader={['Name', 'Description', 'Created At', 'Value']}\n        tableBodyData={filterData()}\n      />\n    </Layout>\n  );\n};\n\nexport default PublicPortfolio;\n","import HttpClient from './HttpClient';\nimport { useCallback, useEffect, useState } from 'react';\nimport { handleError } from './backendRequests';\nimport { get_URL } from '../configuration/constants';\n\nconst HTTPClient = HttpClient();\n\nexport const useForums = (initialState, dependencies) => {\n  const [forums, setForums] = useState(initialState);\n\n  const fetchForums = useCallback(async () => {\n    try {\n      const res = await HTTPClient.get(get_URL('forums'));\n      setForums(res.data.results);\n    } catch (err) {\n      handleError(err);\n      setForums(initialState);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    fetchForums();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchForums, ...dependencies]);\n\n  return [forums, setForums];\n};\n\nexport const useForum = (initialState, id, dependencies) => {\n  const [forum, setForum] = useState(initialState);\n\n  const fetchForum = useCallback(async () => {\n    try {\n      const res = await HTTPClient.get(get_URL('forums', id));\n      setForum(res.data);\n    } catch (err) {\n      handleError(err);\n      setForum(initialState);\n    }\n  }, [initialState, id]);\n\n  useEffect(() => {\n    fetchForum();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchForum, ...dependencies]);\n\n  return [forum, setForum, fetchForum];\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    textDecoration: 'none !important',\n  },\n  cardContainer: {\n    padding: 20,\n    backgroundColor: theme.palette.primary.light,\n  },\n  card: {},\n  nameContainer: {\n    marginBottom: 10,\n  },\n  name: {\n    fontSize: 25,\n    fontWeight: 'bold',\n  },\n  descriptionContainer: {},\n  description: {\n    fontSize: 20,\n    color: '#444',\n    fontStyle: 'italic',\n  },\n}));\n\nconst ForumCard = ({ forum }) => {\n  const styles = useStyles();\n  const path = `/forums/${forum.id}`;\n\n  return (\n    <Link component={RouterLink} to={path} className={styles.link}>\n      <Card className={styles.cardContainer}>\n        <CardContent>\n          <div className={styles.nameContainer}>\n            <span className={styles.name}>{forum.name}</span>\n          </div>\n          <div className={styles.descriptionContainer}>\n            <span className={styles.description}>{forum.description}</span>\n          </div>\n        </CardContent>\n      </Card>\n    </Link>\n  );\n};\n\nexport default ForumCard;\n","import React, { useContext } from 'react';\nimport UserContext from '../../contexts/UserContext';\nimport { useForums } from '../../../utils/useForums';\nimport { makeStyles } from '@material-ui/styles';\nimport { Typography } from '@material-ui/core';\nimport ForumCard from './ForumCard';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles(() => ({\n  page: {\n    paddingTop: 20,\n  },\n  headingContainer: {\n    marginBottom: 40,\n  },\n  heading: {\n    fontSize: 40,\n    fontWeight: 'bold',\n  },\n  description: {\n    fontSize: 30,\n    color: '#888',\n    fontStyle: 'italic',\n  },\n  cardContainer: {\n    marginBottom: 20,\n  },\n}));\n\nconst ForumsPage = () => {\n  const { token } = useContext(UserContext);\n  const styles = useStyles();\n  const [forums] = useForums([], [token]);\n\n  return (\n    <div className={styles.page}>\n      <div className={styles.headingContainer}>\n        <Typography variant=\"h2\" className={styles.heading}>\n          Forums\n        </Typography>\n        <Typography variant=\"h3\" className={styles.description}>\n          Cha-Ching Community Forums\n        </Typography>\n      </div>\n      <div>\n        <Grid container spacing={6}>\n          {forums &&\n            forums.map((forum) => (\n              <Grid item sm={12} lg={6}>\n                <div key={forum.id} className={styles.cardContainer}>\n                  <ForumCard forum={forum} />\n                </div>\n              </Grid>\n            ))}\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default ForumsPage;\n","import HttpClient from './HttpClient';\nimport { useCallback, useEffect, useState } from 'react';\nimport { handleError } from './backendRequests';\nimport { get_URL } from '../configuration/constants';\n\nconst HTTPClient = HttpClient();\n\nexport const usePosts = (initialState, forumID, query, sorting, minDate, maxDate, dependencies) => {\n  const [posts, setPosts] = useState(initialState);\n  const fetchPosts = useCallback(async () => {\n    try {\n      const res = await HTTPClient.get(\n        get_URL(\n          'posts',\n          '',\n          `forum=${forumID}&search=${query}&ordering=${sorting}&createdAt__gte=${minDate.toISOString()}&createdAt__lte=${maxDate.toISOString()}`,\n        ),\n      );\n      setPosts(res.data.results);\n    } catch (err) {\n      handleError(err);\n      setPosts(initialState);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, sorting, minDate, maxDate]);\n\n  useEffect(() => {\n    fetchPosts();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchPosts, ...dependencies]);\n\n  return [posts, setPosts];\n};\n\nexport const usePost = (initialState, id, dependencies) => {\n  const [post, setPost] = useState(initialState);\n\n  const fetchPost = useCallback(async () => {\n    try {\n      const res = await HTTPClient.get(get_URL('posts', id));\n      setPost(res.data);\n    } catch (err) {\n      handleError(err);\n      setPost(initialState);\n    }\n  }, [initialState, id]);\n\n  useEffect(() => {\n    fetchPost();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchPost, ...dependencies]);\n\n  return [post, setPost, fetchPost];\n};\n\nexport const expressAttitudeOnPost = async (id, attitude) => {\n  try {\n    const res = await HTTPClient.post(get_URL('posts', `${id}/express`), {\n      attitude: attitude,\n    });\n    return res.data.results;\n  } catch (err) {\n    handleError(err);\n  }\n};\n\nexport const addPost = async (body) => {\n  try {\n    const res = await HTTPClient.post(get_URL('posts'), body);\n    return res.data.results;\n  } catch (err) {\n    handleError(err);\n  }\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouterLink } from 'react-router-dom';\nimport LinkIcon from '@material-ui/icons/Link';\nimport moment from 'moment';\nimport { Button, ButtonGroup } from '@material-ui/core';\nimport { expressAttitudeOnPost } from '../../../utils/usePost';\n\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    textDecoration: 'none !important',\n  },\n  cardContainer: {\n    padding: 20,\n    backgroundColor: theme.palette.secondary.light,\n  },\n  card: {},\n  userContainer: {\n    marginBottom: 10,\n  },\n  user: {\n    fontSize: 15,\n    color: '#666',\n  },\n  nameContainer: {\n    marginBottom: 10,\n  },\n  name: {\n    fontSize: 25,\n    fontWeight: 'bold',\n  },\n  descriptionContainer: {\n    marginBottom: 10,\n  },\n  linkContainer: {\n    marginBottom: 10,\n  },\n  linkWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  linkIcon: {\n    marginRight: 5,\n  },\n  description: {\n    fontSize: 20,\n    color: '#444',\n    fontStyle: 'italic',\n  },\n  actionsContainer: {},\n}));\n\nconst PostCard = ({ post, hasLink = false, onUpdate }) => {\n  const styles = useStyles();\n  const path = `/posts/${post.id}`;\n\n  const handleClickLike = () => {\n    expressAttitudeOnPost(post.id, 'like').then(() => {\n      onUpdate();\n    });\n  };\n\n  const handleClickDislike = () => {\n    expressAttitudeOnPost(post.id, 'dislike').then(() => {\n      onUpdate();\n    });\n  };\n\n  const card = (\n    <Card className={styles.cardContainer}>\n      <CardContent className={styles.cardContent}>\n        <div className={styles.userContainer}>\n          <div>\n            <span className={styles.user}>\n              ({moment(post.createdAt).fromNow(true)} ago) {post.createdBy.username}:\n            </span>\n          </div>\n        </div>\n        <div className={styles.nameContainer}>\n          <span className={styles.name}>{post.name}</span>\n        </div>\n        <div className={styles.descriptionContainer}>\n          <span className={styles.description}>{post.content}</span>\n        </div>\n        {!hasLink && !!post.portfolio && (\n          <div className={styles.linkContainer}>\n            <Link\n              component={RouterLink}\n              to={`/portfolio/${post.portfolio}`}\n              target=\"_blank\"\n              className={styles.linkWrapper}\n            >\n              <LinkIcon className={styles.linkIcon} />\n              Portfolio #{post.portfolio}\n            </Link>\n          </div>\n        )}\n        {hasLink && (\n          <div>\n            <div>\n              <span>{post.nLikes} Like</span>\n            </div>\n            <div>\n              <span>{post.nDislikes} Dislike</span>\n            </div>\n          </div>\n        )}\n        {!hasLink && (\n          <div className={styles.actionsContainer}>\n            <ButtonGroup size=\"small\" color=\"primary\" aria-label=\"action buttons\">\n              <Button onClick={handleClickLike}>Like ({post.nLikes})</Button>\n              <Button onClick={handleClickDislike}>Dislike ({post.nDislikes})</Button>\n            </ButtonGroup>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n\n  // determine if the link for routing is needed\n  if (!hasLink) return card;\n\n  return (\n    <Link component={RouterLink} to={path} className={styles.link}>\n      {card}\n    </Link>\n  );\n};\n\nexport default PostCard;\n","import React, { useState, useContext } from 'react';\nimport { Paper, Typography, Grid } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ModalContext from '../contexts/ModalContext';\nimport TextInput from './form-components/TextInput';\nimport SubmitButton from './form-components/SubmitButton';\nimport { usePortfolios } from '../../utils/usePortfolios';\nimport UserContext from '../contexts/UserContext';\nimport SelectInput from './form-components/SelectInput';\nimport { addPost } from '../../utils/usePost';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3),\n    width: 500,\n    minHeight: 600,\n  },\n  field: {\n    padding: theme.spacing(2),\n  },\n  submitButton: {\n    width: '80%',\n    position: 'absolute',\n    bottom: 40,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  submitError: {\n    width: '100%',\n    position: 'absolute',\n    bottom: 100,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    textAlign: 'center',\n    color: 'red',\n  },\n}));\n\nconst NewPostForm = ({ forumID }) => {\n  const { token } = useContext(UserContext);\n  const { showModal } = useContext(ModalContext);\n  const [portfolios] = usePortfolios([], [token, showModal]);\n  const [submitError, setSubmitError] = useState();\n  const classes = useStyles();\n\n  const initialFormValues = {\n    content: '',\n  };\n\n  const formValidation = {\n    content: Yup.string().required('Required'),\n  };\n\n  const submitForm = async (values) => {\n    try {\n      await addPost({ forum: forumID, ...values });\n      setSubmitError('');\n      showModal(null);\n    } catch (err) {\n      setSubmitError(err.message);\n    }\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <Formik\n        initialValues={initialFormValues}\n        validationSchema={Yup.object().shape(formValidation)}\n        onSubmit={(values) => {\n          submitForm(values);\n        }}\n      >\n        <Form>\n          <Grid container>\n            <Grid item xs={12}>\n              <Typography variant=\"h4\" align=\"center\">\n                Create New Post\n              </Typography>\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <TextInput name=\"name\" label=\"Title\" />\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <TextInput name=\"content\" label=\"Content\" />\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <SelectInput\n                name=\"portfolio\"\n                label=\"Portfolio\"\n                options={portfolios.map((portfolio) => {\n                  return {\n                    value: portfolio.id,\n                    label: portfolio.name,\n                  };\n                })}\n              />\n            </Grid>\n          </Grid>\n          {submitError && (\n            <Typography variant=\"body1\" className={classes.submitError}>\n              {submitError}\n            </Typography>\n          )}\n          <SubmitButton className={classes.submitButton} fullWidth={false}>\n            Submit\n          </SubmitButton>\n        </Form>\n      </Formik>\n    </Paper>\n  );\n};\n\nexport default NewPostForm;\n","import 'date-fns';\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles(() => ({\n  pickerContainer: {\n    '&:not(:last-child)': {\n      marginRight: 20,\n    },\n  },\n}));\n\nconst DateRangePicker = ({ min, max, onChangeMin, onChangeMax }) => {\n  const styles = useStyles();\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <Grid container justify=\"flex-start\">\n        <div className={styles.pickerContainer}>\n          <KeyboardDatePicker\n            format=\"dd/MM/yyyy\"\n            margin=\"normal\"\n            id=\"min-date-picker\"\n            label=\"Minimum date\"\n            value={min}\n            onChange={onChangeMin}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n          />\n        </div>\n        <div className={styles.pickerContainer}>\n          <KeyboardDatePicker\n            format=\"dd/MM/yyyy\"\n            margin=\"normal\"\n            id=\"max-date-picker\"\n            label=\"Maximum date\"\n            value={max}\n            onChange={onChangeMax}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n          />\n        </div>\n      </Grid>\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DateRangePicker;\n","import React, { useContext, useState } from 'react';\nimport {\n  Fab,\n  InputAdornment,\n  makeStyles,\n  MenuItem,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport UserContext from '../../contexts/UserContext';\nimport { useForum } from '../../../utils/useForums';\nimport PostCard from './PostCard';\nimport { usePosts } from '../../../utils/usePost';\nimport { Add as AddIcon } from '@material-ui/icons';\nimport { Search as SearchIcon } from '@material-ui/icons';\nimport ModalContext from '../../contexts/ModalContext';\nimport NewPostForm from '../../forms/NewPostForm';\nimport DateRangePicker from '../../forms/form-components/DateRangePicker';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles(() => ({\n  page: {\n    paddingTop: 20,\n  },\n  headingContainer: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 40,\n  },\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n  description: {\n    fontSize: 20,\n    color: '#888',\n    fontStyle: 'italic',\n  },\n  sectionContainer: {\n    marginBottom: 20,\n    display: 'flex',\n    alignItems: 'flex-end',\n    flexWrap: 'wrap',\n  },\n  searchContainer: {\n    width: '100%',\n    maxWidth: '500px',\n  },\n  search: {\n    width: '100%',\n  },\n  selectContainer: {\n    marginRight: 40,\n  },\n  cardContainer: {\n    marginBottom: 20,\n  },\n}));\n\nconst ForumPage = () => {\n  const { id } = useParams();\n  const { token } = useContext(UserContext);\n  const { showModal } = useContext(ModalContext);\n  const [query, setQuery] = useState('');\n  const sortingOptions = [\n    {\n      value: '-createdAt',\n      label: 'Most Recent',\n    },\n    {\n      value: '-nLikes',\n      label: 'Most Liked',\n    },\n  ];\n  const [minDate, setMinDate] = useState(\n    new Date(new Date().setFullYear(new Date().getFullYear() - 10)), // 10 years ago\n  );\n  const [maxDate, setMaxDate] = useState(\n    new Date(new Date().setDate(new Date().getDate() + 1)), // 1 day later\n  );\n  const [sorting, setSorting] = useState(sortingOptions[0].value);\n  const [forum] = useForum(null, id, [token]);\n  const [posts] = usePosts([], id, query, sorting, minDate, maxDate, [\n    token,\n    query,\n    sorting,\n    minDate,\n    maxDate,\n    showModal,\n  ]);\n  const styles = useStyles();\n\n  const handleClickAdd = () => {\n    showModal(<NewPostForm forumID={id} />);\n  };\n\n  const handleChangeQuery = (event) => {\n    setQuery(event.target.value);\n  };\n\n  const handleChangeSorting = (event) => {\n    setSorting(event.target.value);\n  };\n\n  const handleChangeMin = (date) => {\n    setMinDate(date);\n  };\n\n  const handleChangeMax = (date) => {\n    setMaxDate(date);\n  };\n\n  return (\n    <div className={styles.page}>\n      <div className={styles.headingContainer}>\n        <div>\n          <Typography variant=\"h2\" className={styles.heading}>\n            {forum && forum.name}\n          </Typography>\n          <Typography variant=\"h3\" className={styles.description}>\n            {forum && forum.description}\n          </Typography>\n        </div>\n        <div>\n          <Fab color=\"primary\" onClick={handleClickAdd}>\n            <AddIcon />\n          </Fab>\n        </div>\n      </div>\n      <div className={styles.sectionContainer}>\n        <div className={styles.searchContainer}>\n          <TextField\n            id=\"input-field\"\n            label=\"Search in the forum\"\n            variant=\"outlined\"\n            className={styles.search}\n            onChange={handleChangeQuery}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n              ),\n            }}\n          />\n        </div>\n      </div>\n      <div className={styles.sectionContainer}>\n        <div className={styles.selectContainer}>\n          <TextField\n            id=\"sorting-select\"\n            select\n            label=\"Sort by\"\n            value={sorting}\n            onChange={handleChangeSorting}\n            variant=\"outlined\"\n          >\n            {sortingOptions.map((option) => (\n              <MenuItem key={option.value} value={option.value}>\n                {option.label}\n              </MenuItem>\n            ))}\n          </TextField>\n        </div>\n        <div>\n          <DateRangePicker\n            min={minDate}\n            max={maxDate}\n            onChangeMin={handleChangeMin}\n            onChangeMax={handleChangeMax}\n          />\n        </div>\n      </div>\n      <div>\n        <Grid container>\n          <Grid item sm={12} lg={8}>\n            {posts &&\n              posts.map((post) => (\n                <div key={post.id} className={styles.cardContainer}>\n                  <PostCard post={post} hasLink />\n                </div>\n              ))}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default ForumPage;\n","import HttpClient from './HttpClient';\nimport { useCallback, useEffect, useState } from 'react';\nimport { handleError } from './backendRequests';\nimport { get_URL } from '../configuration/constants';\n\nconst HTTPClient = HttpClient();\n\nexport const useComments = (initialState, postID, sorting, minDate, maxDate, dependencies) => {\n  const [comments, setComments] = useState(initialState);\n  const fetchComments = useCallback(async () => {\n    try {\n      const res = await HTTPClient.get(\n        get_URL(\n          'comments',\n          '',\n          `post=${postID}&ordering=${sorting}&createdAt__gte=${minDate.toISOString()}&createdAt__lte=${maxDate.toISOString()}`,\n        ),\n      );\n      setComments(res.data.results);\n    } catch (err) {\n      handleError(err);\n      setComments(initialState);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sorting, minDate, maxDate]);\n\n  useEffect(() => {\n    fetchComments();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchComments, ...dependencies]);\n\n  return [comments, setComments, fetchComments];\n};\n\nexport const expressAttitudeOnComment = async (id, attitude) => {\n  try {\n    const res = await HTTPClient.post(get_URL('comments', `${id}/express`), {\n      attitude: attitude,\n    });\n    return res.data.results;\n  } catch (err) {\n    handleError(err);\n  }\n};\n\nexport const addComment = async (body) => {\n  try {\n    const res = await HTTPClient.post(get_URL('comments'), body);\n    return res.data.results;\n  } catch (err) {\n    handleError(err);\n  }\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport moment from 'moment';\nimport { Button, ButtonGroup } from '@material-ui/core';\nimport { expressAttitudeOnComment } from '../../../utils/useComments';\nimport { Star } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    textDecoration: 'none !important',\n  },\n  cardContainer: {\n    padding: 10,\n    backgroundColor: theme.palette.secondary.light,\n  },\n  card: {},\n  starContainer: {\n    marginBottom: 10,\n  },\n  star: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  userContainer: {\n    marginBottom: 10,\n  },\n  user: {\n    fontSize: 15,\n    color: '#666',\n  },\n  nameContainer: {\n    marginBottom: 10,\n  },\n  name: {\n    fontSize: 25,\n    fontWeight: 'bold',\n  },\n  descriptionContainer: {\n    marginBottom: 10,\n  },\n  description: {\n    fontSize: 20,\n    color: '#444',\n    fontStyle: 'italic',\n  },\n  actionsContainer: {},\n}));\n\nconst CommentCard = ({ comment, onUpdate }) => {\n  const styles = useStyles();\n\n  const handleClickLike = () => {\n    expressAttitudeOnComment(comment.id, 'like').then(() => {\n      onUpdate();\n    });\n  };\n\n  const handleClickDislike = () => {\n    expressAttitudeOnComment(comment.id, 'dislike').then(() => {\n      onUpdate();\n    });\n  };\n\n  return (\n    <Card className={styles.cardContainer}>\n      <CardContent>\n        <div className={styles.userContainer}>\n          <div>\n            <span className={styles.user}>\n              ({moment(comment.createdAt).fromNow(true)} ago) {comment.createdBy.username}:\n            </span>\n          </div>\n        </div>\n        {comment.rating !== 0 && (\n          <div className={styles.starContainer}>\n            <span className={styles.star}>\n              <Star /> {comment.rating}\n            </span>\n          </div>\n        )}\n        <div className={styles.descriptionContainer}>\n          <span className={styles.description}>{comment.content}</span>\n        </div>\n        <div className={styles.actionsContainer}>\n          <ButtonGroup size=\"small\" color=\"primary\" aria-label=\"action buttons\">\n            <Button onClick={handleClickLike}>Like ({comment.nLikes})</Button>\n            <Button onClick={handleClickDislike}>Dislike ({comment.nDislikes})</Button>\n          </ButtonGroup>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default CommentCard;\n","import React from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { Rating } from '@material-ui/lab';\n\nconst RatingInput = ({ name, preChange, postChange, ...otherProps }) => {\n  const [fieldProps, meta] = useField(name);\n  const { setFieldValue } = useFormikContext();\n\n  const handleChange = (event) => {\n    const oldValue = fieldProps.value;\n    let processedValue = event.target.value;\n    if (preChange) {\n      processedValue = preChange(event.target.value, oldValue);\n    }\n    setFieldValue(name, processedValue);\n    postChange?.(processedValue, oldValue);\n  };\n\n  const textFieldProps = {\n    ...fieldProps,\n    ...otherProps,\n    onChange: handleChange,\n  };\n\n  if (meta && meta.touched && meta.error) {\n    textFieldProps.error = true;\n    textFieldProps.helperText = meta.error;\n  }\n\n  return <Rating {...textFieldProps} />;\n};\n\nexport default RatingInput;\n","import React, { useState, useContext } from 'react';\nimport { Paper, Typography, Grid } from '@material-ui/core';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ModalContext from '../contexts/ModalContext';\nimport TextInput from './form-components/TextInput';\nimport SubmitButton from './form-components/SubmitButton';\nimport { addComment } from '../../utils/useComments';\nimport RatingInput from './form-components/RatingInput';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3),\n    width: 500,\n    minHeight: 600,\n  },\n  field: {\n    padding: theme.spacing(2),\n  },\n  submitButton: {\n    width: '80%',\n    position: 'absolute',\n    bottom: 40,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    fontSize: 20,\n  },\n  submitError: {\n    width: '100%',\n    position: 'absolute',\n    bottom: 100,\n    left: '50%',\n    transform: 'translateX(-50%)',\n    textAlign: 'center',\n    color: 'red',\n  },\n}));\n\nconst NewCommentForm = ({ postID, hasPortfolio }) => {\n  const { showModal } = useContext(ModalContext);\n  const [submitError, setSubmitError] = useState();\n  const classes = useStyles();\n\n  const initialFormValues = {\n    content: '',\n    rating: 0,\n  };\n\n  const formValidation = {\n    content: Yup.string().required('Required'),\n    rating: Yup.number().required('Required'),\n  };\n\n  const submitForm = async (values) => {\n    try {\n      await addComment({ post: postID, ...values });\n      setSubmitError('');\n      showModal(null);\n    } catch (err) {\n      setSubmitError(err.message);\n    }\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <Formik\n        initialValues={initialFormValues}\n        validationSchema={Yup.object().shape(formValidation)}\n        onSubmit={(values) => {\n          submitForm(values);\n        }}\n      >\n        <Form>\n          <Grid container>\n            <Grid item xs={12}>\n              <Typography variant=\"h4\" align=\"center\">\n                Create New Comment\n              </Typography>\n            </Grid>\n            <Grid item xs={12} className={classes.field}>\n              <TextInput name=\"content\" label=\"Content\" />\n            </Grid>\n            {hasPortfolio && (\n              <Grid item xs={12} className={classes.field}>\n                <div>\n                  <span>Rating for the portfolio:</span>\n                </div>\n                <RatingInput name=\"rating\" label=\"Rating\" />\n              </Grid>\n            )}\n          </Grid>\n          {submitError && (\n            <Typography variant=\"body1\" className={classes.submitError}>\n              {submitError}\n            </Typography>\n          )}\n          <SubmitButton className={classes.submitButton} fullWidth={false}>\n            Submit\n          </SubmitButton>\n        </Form>\n      </Formik>\n    </Paper>\n  );\n};\n\nexport default NewCommentForm;\n","import React, { useContext, useState } from 'react';\nimport { Fab, makeStyles, MenuItem, TextField, Typography } from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport UserContext from '../../contexts/UserContext';\nimport PostCard from './PostCard';\nimport { usePost } from '../../../utils/usePost';\nimport CommentCard from './CommentCard';\nimport { useComments } from '../../../utils/useComments';\nimport { Add as AddIcon } from '@material-ui/icons';\nimport ModalContext from '../../contexts/ModalContext';\nimport NewCommentForm from '../../forms/NewCommentForm';\nimport DateRangePicker from '../../forms/form-components/DateRangePicker';\nimport Grid from '@material-ui/core/Grid';\n\nconst useStyles = makeStyles(() => ({\n  page: {\n    paddingTop: 20,\n  },\n  subheadingContainer: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20,\n  },\n  subheading: {\n    fontSize: 25,\n    fontWeight: 'bold',\n  },\n  sectionContainer: {\n    marginBottom: 20,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  selectContainer: {\n    marginRight: 40,\n  },\n  postCardContainer: {\n    marginBottom: 40,\n  },\n  commentCardContainer: {\n    marginBottom: 20,\n  },\n}));\n\nconst PostPage = () => {\n  const { id } = useParams();\n  const { token } = useContext(UserContext);\n  const { showModal } = useContext(ModalContext);\n  const sortingOptions = [\n    {\n      value: '-createdAt',\n      label: 'Most Recent',\n    },\n    {\n      value: '-nLikes',\n      label: 'Most Liked',\n    },\n  ];\n  const [sorting, setSorting] = useState(sortingOptions[0].value);\n  const [minDate, setMinDate] = useState(\n    new Date(new Date().setFullYear(new Date().getFullYear() - 10)), // 10 years ago\n  );\n  const [maxDate, setMaxDate] = useState(\n    new Date(new Date().setDate(new Date().getDate() + 1)), // 1 day later\n  );\n  const [post, , fetchPost] = usePost(null, id, [token]);\n  const [comments, , fetchComments] = useComments([], id, sorting, minDate, maxDate, [\n    token,\n    sorting,\n    minDate,\n    maxDate,\n    showModal,\n  ]);\n  const styles = useStyles();\n\n  const handleClickAdd = () => {\n    showModal(<NewCommentForm postID={post.id} hasPortfolio={!!post.portfolio} />);\n  };\n\n  const handleChangeSorting = (event) => {\n    setSorting(event.target.value);\n  };\n\n  const handleChangeMin = (date) => {\n    setMinDate(date);\n  };\n\n  const handleChangeMax = (date) => {\n    setMaxDate(date);\n  };\n\n  return (\n    <div className={styles.page}>\n      <div className={styles.postCardContainer}>\n        {post && <PostCard post={post} onUpdate={fetchPost} />}\n      </div>\n      <div>\n        <div className={styles.subheadingContainer}>\n          <div>\n            <Typography variant=\"h2\" className={styles.subheading}>\n              Comments\n            </Typography>\n          </div>\n          <div>\n            <Fab color=\"primary\" onClick={handleClickAdd}>\n              <AddIcon />\n            </Fab>\n          </div>\n        </div>\n        <div className={styles.sectionContainer}>\n          <div className={styles.selectContainer}>\n            <TextField\n              id=\"sorting-select\"\n              select\n              label=\"Sort by\"\n              value={sorting}\n              onChange={handleChangeSorting}\n              variant=\"outlined\"\n            >\n              {sortingOptions.map((option) => (\n                <MenuItem key={option.value} value={option.value}>\n                  {option.label}\n                </MenuItem>\n              ))}\n            </TextField>\n          </div>\n          <div>\n            <DateRangePicker\n              min={minDate}\n              max={maxDate}\n              onChangeMin={handleChangeMin}\n              onChangeMax={handleChangeMax}\n            />\n          </div>\n        </div>\n        <Grid container>\n          <Grid item sm={12} lg={8}>\n            {comments &&\n              comments.map((comment) => (\n                <div key={comment.id} className={styles.commentCardContainer}>\n                  <CommentCard comment={comment} onUpdate={fetchComments} />\n                </div>\n              ))}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default PostPage;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box } from '@material-ui/core';\n\nimport * as am4core from '@amcharts/amcharts4/core';\nimport * as am4charts from '@amcharts/amcharts4/charts';\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated';\n\nclass ProjectionChart extends Component {\n  static propTypes = {\n    chartId: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(\n      PropTypes.shape({\n        time: PropTypes.string,\n        value: PropTypes.number,\n        projection: PropTypes.number,\n      }).isRequired,\n    ).isRequired,\n    valueAxisTitle: PropTypes.string,\n  };\n\n  componentDidMount() {\n    const { chartId, data, valueAxisTitle } = this.props;\n    // Set theme for the chart\n    am4core.useTheme(am4themes_animated);\n\n    // Create new chart instance\n    let chart = am4core.create(chartId, am4charts.XYChart);\n\n    // Import data\n    chart.data = data;\n\n    // Create axes\n    let dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.grid.template.location = 0;\n    dateAxis.renderer.minGridDistance = 30;\n\n    let valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.renderer.inside = true;\n    valueAxis.renderer.labels.template.verticalCenter = 'bottom';\n    valueAxis.renderer.labels.template.dx = -5;\n    valueAxis.renderer.labels.template.dy = 10;\n    valueAxis.renderer.maxLabelPosition = 0.95;\n    valueAxis.title.text = valueAxisTitle;\n    valueAxis.title.marginRight = 5;\n\n    // Create series\n    function createSeries(field, name, color, dashed) {\n      let series = chart.series.push(new am4charts.LineSeries());\n      series.dataFields.valueY = field;\n      series.dataFields.dateX = 'time';\n      series.name = name;\n      series.tooltipText = '[bold]{name}[/]\\n{dateX}: [b]{valueY}[/]';\n      series.strokeWidth = 2;\n      series.smoothing = 'monotoneX';\n      series.stroke = color;\n\n      if (dashed) {\n        series.strokeDasharray = '5 3';\n      }\n\n      return series;\n    }\n\n    createSeries('value', 'Price', am4core.color('#B1B106'));\n    createSeries('projection', 'Projection', am4core.color('#B1B106'), true);\n\n    chart.legend = new am4charts.Legend();\n    chart.cursor = new am4charts.XYCursor();\n\n    this.chart = chart;\n  }\n\n  componentWillUnmount() {\n    if (this.chart) {\n      this.chart.dispose();\n    }\n  }\n\n  render() {\n    const { chartId } = this.props;\n    return <Box id={chartId} style={{ width: '100%', height: '500px' }} />;\n  }\n}\n\nexport default ProjectionChart;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport LineChart from './charts/LineChart';\nimport ProjectionChart from './charts/ProjectionChart';\nimport { sliceList } from './actions';\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n  },\n  tab: {\n    minWidth: 30,\n    width: 50,\n  },\n});\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Box\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`,\n  };\n}\n\nconst ChartTabs = ({ stock, type }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Box className={classes.root}>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        centered\n      >\n        <Tab className={classes.tab} label=\"1M\" {...a11yProps(0)} />\n        <Tab className={classes.tab} label=\"3M\" {...a11yProps(1)} />\n        <Tab className={classes.tab} label=\"1Y\" {...a11yProps(2)} />\n        <Tab className={classes.tab} label=\"3Y\" {...a11yProps(3)} />\n        <Tab className={classes.tab} label=\"MAX\" {...a11yProps(4)} />\n      </Tabs>\n      <TabPanel value={value} index={0} dir={theme.direction}>\n        {type === 'linechart' ? (\n          <LineChart\n            chartId=\"1MPriceChart\"\n            data={sliceList(stock.dailyPriceData, 22)}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        ) : (\n          <ProjectionChart\n            chartId=\"1MProjectionChart\"\n            data={sliceList(stock.dailyPriceData, 22)}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        )}\n      </TabPanel>\n      <TabPanel value={value} index={1} dir={theme.direction}>\n        {type === 'linechart' ? (\n          <LineChart\n            chartId=\"3MPriceChart\"\n            data={sliceList(stock.dailyPriceData, 66)}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        ) : (\n          <ProjectionChart\n            chartId=\"3MProjectionChart\"\n            data={sliceList(stock.dailyPriceData, 66)}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        )}\n      </TabPanel>\n      <TabPanel value={value} index={2} dir={theme.direction}>\n        {type === 'linechart' ? (\n          <LineChart\n            chartId=\"1YPriceChart\"\n            data={sliceList(stock.weeklyPriceData, 54)}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        ) : (\n          <ProjectionChart\n            chartId=\"1YProjectionChart\"\n            data={sliceList(stock.dailyPriceData, 264)}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        )}\n      </TabPanel>\n      <TabPanel value={value} index={3} dir={theme.direction}>\n        {type === 'linechart' ? (\n          <LineChart\n            chartId=\"3YPriceChart\"\n            data={sliceList(stock.weeklyPriceData, 162)}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        ) : (\n          <ProjectionChart\n            chartId=\"3YProjectionChart\"\n            data={sliceList(stock.dailyPriceData)}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        )}\n      </TabPanel>\n      <TabPanel value={value} index={4} dir={theme.direction}>\n        {type === 'linechart' ? (\n          <LineChart\n            chartId=\"MAXPriceChart\"\n            data={stock.weeklyPriceData}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        ) : (\n          <ProjectionChart\n            chartId=\"MAXProjectionChart\"\n            data={sliceList(stock.dailyPriceData)}\n            valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n          />\n        )}\n      </TabPanel>\n    </Box>\n  );\n};\n\nexport default ChartTabs;\n","import Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport ChartTabs from './ChartTabs';\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n}));\n\nconst FuturePerformance = ({ stock }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid>\n        <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n          <strong>Future Performance</strong>\n        </Typography>\n        <ChartTabs stock={stock} type=\"projectionchart\" />\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default FuturePerformance;\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport { getGoogleImage } from '../../../api/backendRequests';\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n  img: {\n    margin: 'auto',\n    marginBottom: 20,\n    display: 'block',\n    aspectRatio: '1/1',\n    maxWidth: '100%',\n    maxHeight: '100%',\n  },\n}));\n\nconst Header = ({ stock }) => {\n  const classes = useStyles();\n  const [img, setImg] = useState(null);\n\n  useEffect(() => {\n    const fetchAVData = async () => {\n      const path = await getGoogleImage(stock.overview.longName);\n      setImg(path[0]);\n    };\n    fetchAVData();\n  }, [stock.overview.longName]);\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid container>\n        <Grid item xs={12}>\n          {img && <img className={classes.img} alt=\"complex\" src={img} />}\n          <Typography variant=\"h5\" style={{ marginBottom: 30 }}>\n            <strong>{stock.overview.longName}</strong>\n          </Typography>\n        </Grid>\n        <Grid item xs={4} align=\"center\">\n          <Typography variant=\"subtitle1\">\n            <strong>Market Cap</strong>\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            {stock.overview.currency}${stock.quote['Market Cap']}\n          </Typography>\n        </Grid>\n        <Grid item xs={4} align=\"center\">\n          <Typography variant=\"subtitle1\">\n            <strong>Last Updated</strong>\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            {stock.updatedAt}\n          </Typography>\n        </Grid>\n        <Grid item xs={4} align=\"center\">\n          <Typography variant=\"subtitle1\">\n            <strong>Data Source</strong>\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            Yahoo Finance\n          </Typography>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default Header;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nimport UserContext from '../../contexts/UserContext';\nimport { getStock } from '../../../api/backendRequests';\nimport ModalContext from './../../contexts/ModalContext';\nimport AddStockForm from './../../forms/AddStockForm';\nimport { checkSubscribedForSingleStock, subscribeToStock } from '../../../utils/useStocks';\nimport { CircularProgress } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n  negativeTrend: {\n    color: '#ff1744',\n  },\n  positiveTrend: {\n    color: '#4caf50',\n  },\n}));\n\nconst Overview = ({ stock }) => {\n  const classes = useStyles();\n  const { token } = useContext(UserContext);\n  const { showModal } = useContext(ModalContext);\n  const { id } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [isSubscribed, setIsSubscribed] = useState(false);\n\n  // Variable determines colour of text reflecting trend\n  const positive = stock.quote['Price Change'] > 0;\n\n  // Get stock data from backend for adding to portfolio\n  // Not Alpha Vantage data\n  const [stockInfo, setStockInfo] = useState(null);\n  useEffect(() => {\n    checkSubscribedForSingleStock(id, setIsSubscribed, setLoading);\n    getStock(setStockInfo, id);\n  }, [id]);\n\n  // Show modal for adding stock when 'ADD TO PORTFOLIO' is clicked\n  const handleAddClick = async () => {\n    showModal(<AddStockForm info={{ stock: stockInfo }} />);\n  };\n  const onSubscribeClick = async () => {\n    await subscribeToStock(id, !isSubscribed, token);\n    setIsSubscribed(!isSubscribed);\n  };\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid item xs={12} sm container>\n        <Grid item xs>\n          <Typography variant=\"h6\">\n            <strong>\n              {stock.overview.longName} ({stock.overview.symbol})\n            </strong>\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            {stock.overview.exchange}. Currency in {stock.overview.currency}\n          </Typography>\n          <Typography variant=\"h4\">\n            <strong>{stock.latestPrice.toFixed(2)}</strong>\n          </Typography>\n          <Typography\n            variant=\"h6\"\n            className={positive === true ? classes.positiveTrend : classes.negativeTrend}\n          >\n            {stock.quote['Price Change'].toFixed(2)} {stock.quote['Change Percent'].toFixed(2)}%\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            At Close: {stock.currentDate}\n          </Typography>\n          <Grid container justify=\"space-between\" alignItems=\"center\" style={{ marginTop: 20 }}>\n            {token && (\n              <div>\n                <Button variant=\"contained\" size=\"large\" onClick={handleAddClick}>\n                  Add to Portfolio\n                </Button>\n              </div>\n            )}\n            <div>\n              <Button onClick={onSubscribeClick} variant=\"contained\" color=\"primary\">\n                {token && loading ? (\n                  <CircularProgress size={30} color=\"primary\" />\n                ) : isSubscribed ? (\n                  'Unsubscribe'\n                ) : (\n                  'Subscribe'\n                )}\n              </Button>\n            </div>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default Overview;\n","import React from 'react';\nimport ShowMoreText from 'react-show-more-text';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n}));\n\nconst Profile = ({ stock }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid>\n        <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n          <strong>Company Profile</strong>\n        </Typography>\n        <Typography variant=\"body2\">\n          <ShowMoreText lines={3} more=\"Show more\" less=\"Show less\" expanded={false}>\n            {stock.overview.longBusinessSummary}\n          </ShowMoreText>\n        </Typography>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default Profile;\n","import Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport ReactTooltip from 'react-tooltip';\n\nconst BETA_MESSAGE =\n  \"A beta that is greater than 1.0 indicates that the security's price is theoretically more volatile than the market, and vice versa\";\nconst SD_MESSAGE =\n  'A statistical measure of market volatility, measuring how widely prices are dispersed from the average price'; // standard deviation\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n}));\n\nconst RiskMetrics = ({ stock }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid container>\n        <Grid item xs={12}>\n          <Typography variant=\"h5\" style={{ marginBottom: 30 }}>\n            <strong>Risk Metrics</strong>\n          </Typography>\n        </Grid>\n\n        <Grid item xs={4} align=\"center\">\n          <Typography\n            variant=\"subtitle1\"\n            data-tip={BETA_MESSAGE}\n            data-for=\"toolTip1\"\n            data-place=\"top\"\n          >\n            <strong>Beta value</strong>\n          </Typography>\n          <ReactTooltip id=\"toolTip1\" />\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            {stock.beta}\n          </Typography>\n        </Grid>\n\n        <Grid item xs={4} align=\"center\">\n          <Typography\n            variant=\"subtitle1\"\n            data-tip={SD_MESSAGE}\n            data-for=\"toolTip2\"\n            data-place=\"top\"\n          >\n            <strong>Standard Deviation (1 year) </strong>\n          </Typography>\n          <ReactTooltip id=\"toolTip2\" />\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            {stock.sd}\n          </Typography>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default RiskMetrics;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport ChartTabs from './ChartTabs';\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n}));\n\nconst SharePrices = ({ stock }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid>\n        <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n          <strong>Share Prices</strong>\n        </Typography>\n        <ChartTabs stock={stock} type=\"linechart\" />\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default SharePrices;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box } from '@material-ui/core';\n\nimport * as am4core from '@amcharts/amcharts4/core';\nimport * as am4charts from '@amcharts/amcharts4/charts';\nimport am4themes_animated from '@amcharts/amcharts4/themes/animated';\nimport am4themes_material from '@amcharts/amcharts4/themes/material';\n\nclass AreaChart extends Component {\n  static propTypes = {\n    chartId: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(\n      PropTypes.shape({\n        time: PropTypes.string,\n        value: PropTypes.number,\n      }).isRequired,\n    ).isRequired,\n    valueAxisTitle: PropTypes.string,\n  };\n\n  componentDidMount() {\n    const { chartId, data, valueAxisTitle } = this.props;\n    // Set theme for the chart\n    am4core.useTheme(am4themes_animated);\n    am4core.useTheme(am4themes_material);\n\n    // Create new chart instance\n    let chart = am4core.create(chartId, am4charts.XYChart);\n\n    // Import data\n    chart.data = data;\n\n    // Create axes\n    let dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.grid.template.location = 0;\n    dateAxis.renderer.minGridDistance = 50;\n    let valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.title.text = valueAxisTitle;\n\n    // Create series\n    let series = chart.series.push(new am4charts.LineSeries());\n    series.dataFields.valueY = 'value';\n    series.dataFields.dateX = 'time';\n    series.strokeWidth = 3;\n    series.fillOpacity = 0.5;\n\n    // Add vertical scrollbar\n    chart.scrollbarY = new am4core.Scrollbar();\n    chart.scrollbarY.marginLeft = 0;\n\n    // Add cursor\n    chart.cursor = new am4charts.XYCursor();\n    chart.cursor.behavior = 'zoomY';\n    chart.cursor.lineX.disabled = true;\n\n    this.chart = chart;\n  }\n\n  componentWillUnmount() {\n    if (this.chart) {\n      this.chart.dispose();\n    }\n  }\n\n  render() {\n    const { chartId } = this.props;\n    return <Box id={chartId} style={{ width: '100%', height: '300px' }} />;\n  }\n}\n\nexport default AreaChart;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 300,\n  },\n});\n\nconst TwoColTable = ({ data }) => {\n  const classes = useStyles();\n\n  return (\n    <TableContainer>\n      <Table className={classes.table} size=\"small\" aria-label=\"summary label\">\n        <TableBody>\n          {data.map((row) => (\n            <TableRow key={row.label}>\n              <TableCell component=\"th\" scope=\"row\">\n                {row.label}\n              </TableCell>\n              <TableCell align=\"right\">\n                <strong>{row.value}</strong>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nexport default TwoColTable;\n","import Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport AreaChart from './charts/AreaChart';\nimport TwoColTable from './tables/TwoColTable';\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    marginTop: 20,\n    padding: 20,\n    borderRadius: 20,\n    position: 'relative',\n  },\n}));\n\nconst Summary = ({ stock }) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.paper}>\n      <Grid container>\n        <Grid item xs={12}>\n          <Typography variant=\"h6\" style={{ marginBottom: 10 }}>\n            <strong>Summary</strong>\n          </Typography>\n        </Grid>\n        <Grid item xs={6}>\n          <TwoColTable data={stock.summaryTableData1} />\n        </Grid>\n        <Grid item xs={6}>\n          <TwoColTable data={stock.summaryTableData2} />\n        </Grid>\n      </Grid>\n      <Grid style={{ marginTop: 20 }}>\n        <AreaChart\n          chartId=\"AreaPriceChart\"\n          data={stock.dailyPriceData}\n          valueAxisTitle={'Share Price (' + stock.overview.currency + ')'}\n        />\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default Summary;\n","import { Box, Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useEffect, useState } from 'react';\nimport ReactLoading from 'react-loading';\nimport { useParams } from 'react-router-dom';\nimport {\n  getStockData,\n  makePrediction,\n  YF_DAILY,\n  YF_NEWS,\n  YF_OVERVIEW,\n  YF_QUOTE,\n  YF_WEEKLY,\n} from '../../../api/backendRequests';\nimport { processStockData } from './actions';\nimport FuturePerformance from './FuturePerformance';\nimport Header from './Header';\nimport News from './News';\nimport Overview from './Overview';\nimport Profile from './Profile';\nimport RiskMetrics from './RiskMetrics';\nimport SharePrices from './SharePrices';\nimport Summary from './Summary';\n\nconst useStyles = makeStyles({\n  root: {\n    paddingTop: 20,\n  },\n  title: {\n    marginBottom: 30,\n  },\n  fab: {\n    position: 'absolute',\n    bottom: 20,\n    right: 20,\n  },\n  loadingContainer: {\n    margin: '0 auto',\n  },\n});\n\nconst StockPage = () => {\n  const { id } = useParams();\n  const classes = useStyles();\n  const [stock, setStock] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchAVData = async () => {\n      // Make 4 API calls to get Yahoo Finance data\n      const overview = await getStockData(id, YF_OVERVIEW);\n      const dailyData = await getStockData(id, YF_DAILY);\n      const weeklyData = await getStockData(id, YF_WEEKLY);\n      const quote = await getStockData(id, YF_QUOTE);\n      const news = await getStockData(id, YF_NEWS);\n      // Process responses and update state\n      const prediction = await makePrediction(id);\n      setStock(processStockData(overview, dailyData, weeklyData, quote, news, prediction));\n      setLoading(false);\n    };\n    fetchAVData();\n  }, [id]);\n\n  return (\n    <Box>\n      <Grid className={classes.root} container>\n        {loading ? (\n          <Grid className={classes.loadingContainer}>\n            <ReactLoading type=\"spin\" color=\"grey\" />\n          </Grid>\n        ) : (\n          <Grid item xs={12}>\n            {stock && <Overview stock={stock} />}\n            {stock && <Header stock={stock} />}\n            {stock && <Profile stock={stock} />}\n            {stock && <Summary stock={stock} />}\n            {stock && <SharePrices stock={stock} />}\n            {stock && <FuturePerformance stock={stock} />}\n            {stock && <RiskMetrics stock={stock} />}\n            {stock && <News stock={stock} />}\n          </Grid>\n        )}\n      </Grid>\n    </Box>\n  );\n};\n\nexport default StockPage;\n","import HttpClient from './HttpClient';\nimport { useCallback, useEffect, useState } from 'react';\nimport { handleError } from './backendRequests';\nimport { get_URL } from '../configuration/constants';\n\nconst HTTPClient = HttpClient();\nconst COMPETITIONS_URL = get_URL('competition');\n\nexport const useCompetitions = (initialState, dependencies) => {\n  const [competitions, setCompetitions] = useState(initialState);\n\n  const fetchCompetitions = useCallback(async () => {\n    try {\n      const res = await HTTPClient.get(COMPETITIONS_URL);\n      setCompetitions(\n        res.data.results.map((comp) => {\n          return {\n            id: comp.id,\n            startDate: new Date(comp.startDate),\n            submissionClose: new Date(comp.submissionClose),\n            endDate: new Date(comp.endDate),\n            maxStartingValue: parseFloat(comp.maxStartingValue),\n          };\n        }),\n      );\n    } catch (err) {\n      console.error(err);\n      handleError(err);\n      setCompetitions(initialState);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    fetchCompetitions();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchCompetitions, ...dependencies]);\n\n  return [competitions, setCompetitions];\n};\n\nexport const useCompetitionSubmissions = (id) => {\n  const [loading, setLoading] = useState(false);\n  const [submissions, setSubmissions] = useState(null);\n  const [competition, setCompetition] = useState(null);\n\n  const fetchSubmissions = useCallback(async () => {\n    setLoading(true);\n    try {\n      const res = await HTTPClient.get(`${COMPETITIONS_URL}${id}/portfolios`);\n      setSubmissions(\n        await Promise.all(\n          res.data.results.map(async (submission) => {\n            const newSubmission = { ...submission };\n            newSubmission['username'] = (\n              await HTTPClient.get(get_URL('users') + `${newSubmission.createdBy}`)\n            ).data.username;\n            newSubmission['totalValue'] = (\n              await HTTPClient.get(`${COMPETITIONS_URL}portfolios/${newSubmission.id}/value`)\n            ).data.data;\n            newSubmission['updatedAt'] = new Date(newSubmission.updatedAt);\n            let newHoldings = [];\n            for (let holding of newSubmission.holdings) {\n              let holdingDetails = (\n                await HTTPClient.get(\n                  `${COMPETITIONS_URL}portfolios/${newSubmission.id}/holdingvalue/${holding.id}`,\n                )\n              ).data;\n              newHoldings.push({\n                stockName: holding.stock.name,\n                stockTicker: holding.stock.ticker,\n                stockPrice: holdingDetails.price,\n                stockQuantity: holdingDetails.quantity,\n              });\n            }\n            newSubmission.holdings = newHoldings;\n            return newSubmission;\n          }),\n        ),\n      );\n      setCompetition((await HTTPClient.get(`${COMPETITIONS_URL}${id}`)).data);\n      setLoading(false);\n    } catch (err) {\n      console.error(err);\n      handleError(err);\n      setSubmissions(null);\n      setCompetition(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    fetchSubmissions();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchSubmissions]);\n\n  return {\n    submissions: submissions,\n    competition: competition,\n    fetchSubmissions: fetchSubmissions,\n    submissionsLoading: loading,\n  };\n};\n\nexport const addCompetitionPortfolio = async (id) => {\n  const portfolio = (await HTTPClient.post(`${COMPETITIONS_URL}${id}/portfolios/`)).data;\n  portfolio['username'] = (\n    await HTTPClient.get(get_URL('users') + `${portfolio.createdBy}`)\n  ).data.username;\n  portfolio['totalValue'] = 0;\n  portfolio['updatedAt'] = new Date(portfolio.updatedAt);\n  portfolio['holdings'] = [];\n  return portfolio;\n};\n\nexport const pushCompetitionPortfolio = async (id, holdings) => {\n  const payload = {};\n  for (let holding of holdings) {\n    payload[holding.stockTicker] = parseInt(holding.stockQuantity);\n  }\n  await HTTPClient.put(`${COMPETITIONS_URL}portfolios/${id}/`, { holdings: payload });\n};\n\nexport const deleteCompetitionPortfolio = async (id) => {\n  await HTTPClient.delete(`${COMPETITIONS_URL}portfolios/${id}/`);\n};\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Box,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useCompetitions } from '../../../utils/useCompetitions.js';\nimport { formatDate } from '../../common/formatting.js';\n\nconst useStyles = makeStyles({\n  page: {\n    paddingTop: 20,\n  },\n  headingContainer: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '20px',\n  },\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n  table: {\n    minWidth: 650,\n  },\n  accepting: {\n    backgroundColor: '#a2beb5',\n    cursor: 'pointer',\n  },\n  inprogress: {\n    backgroundColor: '#e8a994',\n    cursor: 'pointer',\n  },\n  finished: {\n    cursor: 'pointer',\n  },\n});\nconst CompetitionsPage = () => {\n  const [competitions] = useCompetitions([], []);\n  const history = useHistory();\n  const styles = useStyles();\n\n  const now = new Date();\n  const acceptingSubmissions = competitions\n    .filter((comp) => {\n      const compStart = new Date(comp.startDate);\n      const compSubmissionClose = new Date(comp.submissionClose);\n      return compStart <= now && now <= compSubmissionClose;\n    })\n    .map((comp) => {\n      return {\n        ...comp,\n        status: 'ACCEPTING',\n      };\n    });\n  const inProgress = competitions\n    .filter((comp) => {\n      const compSubmissionClose = new Date(comp.submissionClose);\n      const compEnd = new Date(comp.endDate);\n      return compSubmissionClose < now && now < compEnd;\n    })\n    .map((comp) => {\n      return {\n        ...comp,\n        status: 'INPROGRESS',\n      };\n    });\n  const finished = competitions\n    .filter((comp) => {\n      const compEnd = new Date(comp.endDate);\n      return compEnd <= now;\n    })\n    .map((comp) => {\n      return {\n        ...comp,\n        status: 'FINISHED',\n      };\n    });\n\n  const competitionRows = [...acceptingSubmissions, ...inProgress, ...finished];\n\n  return (\n    <Box className={styles.page}>\n      <div className={styles.headingContainer}>\n        <div>\n          <Typography variant=\"h1\" className={styles.heading}>\n            Competitions\n          </Typography>\n        </div>\n      </div>\n      <TableContainer component={Paper}>\n        <Table className={styles.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Start</TableCell>\n              <TableCell align=\"center\">End</TableCell>\n              <TableCell align=\"center\">Subission Deadline</TableCell>\n              <TableCell align=\"center\">Starting Value Limit</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {competitionRows.map((row) => {\n              const style =\n                row.status === 'ACCEPTING'\n                  ? styles.accepting\n                  : row.status === 'INPROGRESS'\n                  ? styles.inprogress\n                  : styles.finished;\n              return (\n                <TableRow\n                  key={row.id}\n                  className={style}\n                  onClick={() => history.push(`/competition/${row.id}`)}\n                >\n                  <TableCell align=\"center\">\n                    {formatDate(row.startDate, 'DD-MM-YYYY hh:mm:ss')}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {formatDate(row.endDate, 'DD-MM-YYYY hh:mm:ss')}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {formatDate(row.submissionClose, 'DD-MM-YYYY hh:mm:ss')}\n                  </TableCell>\n                  <TableCell align=\"center\">{'$' + row.maxStartingValue}</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Box>\n  );\n};\n\nexport default CompetitionsPage;\n","import React, { useState, useContext } from 'react';\nimport {\n  Typography,\n  Grid,\n  Paper,\n  TableContainer,\n  Table,\n  TableBody,\n  TableHead,\n  TableRow,\n  TableCell,\n  IconButton,\n  TextField,\n  Button,\n  LinearProgress,\n} from '@material-ui/core';\nimport { Delete as DeleteIcon } from '@material-ui/icons';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ModalContext from '../contexts/ModalContext';\nimport SearchBar from '../common/SearchBar';\nimport { pushCompetitionPortfolio } from '../../utils/useCompetitions';\n\nconst useStyles = makeStyles({\n  form: {\n    minWidth: 650,\n    padding: 20,\n  },\n  title: {\n    marginBottom: 20,\n  },\n  bold: {\n    fontWeight: 'bold',\n  },\n  tableContainer: {\n    maxHeight: 400,\n  },\n  error: {\n    color: 'tomato',\n  },\n});\n\nconst capitalizeFirstLetter = (s) => {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\nconst CompetitionPortfolioForm = ({ portfolio, competition, edit, fetchSubmissions }) => {\n  const [holdings, setHoldings] = useState(portfolio ? [...portfolio.holdings] : []);\n  const [loading, setLoading] = useState(false);\n  const { showModal } = useContext(ModalContext);\n  const styles = useStyles();\n\n  const rows = edit\n    ? holdings\n    : holdings.sort((a, b) => {\n        let aSubtotal = a.stockPrice * a.stockQuantity;\n        let bSubtotal = b.stockPrice * b.stockQuantity;\n        if (aSubtotal > bSubtotal) return -1;\n        if (aSubtotal < bSubtotal) return 1;\n        return 0;\n      });\n\n  const addToPortfolio = (result) => {\n    const newHoldings = [...holdings];\n    if (!newHoldings.find((el) => el.stockTicker === result.ticker)) {\n      newHoldings.push({\n        stockName: result.name,\n        stockTicker: result.ticker,\n        stockPrice: result.latestPrice,\n        stockQuantity: 0,\n      });\n      setHoldings(newHoldings);\n    }\n  };\n\n  const deleteHolding = (ticker) => {\n    let newHoldings = holdings.filter((el) => el.stockTicker !== ticker);\n    setHoldings(newHoldings);\n  };\n\n  const handleQuantityChange = (ticker, value) => {\n    if (/[^0-9]/.test(value)) return;\n    let newHoldings = [...holdings];\n    let targetIndex = newHoldings.findIndex((el) => el.stockTicker === ticker);\n    newHoldings[targetIndex] = {\n      ...newHoldings[targetIndex],\n      stockQuantity: value,\n    };\n    setHoldings(newHoldings);\n  };\n\n  const totalValue = rows.reduce(\n    (total, holding) => total + holding.stockPrice * holding.stockQuantity,\n    0,\n  );\n\n  let error = '';\n  if (totalValue > competition.maxStartingValue) {\n    error = `Exceeds Maximum competition portfolio value of $${competition.maxStartingValue}`;\n  } else {\n    for (let holding of holdings) {\n      let quantity = parseInt(holding.stockQuantity) || 0;\n      if (quantity <= 0) {\n        error = `${holding.stockTicker}: quantity must be greater than zero`;\n      }\n    }\n  }\n\n  const cancel = () => {\n    showModal(null);\n  };\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    await fetchSubmissions();\n    await pushCompetitionPortfolio(portfolio.id, holdings);\n    await fetchSubmissions();\n    setLoading(false);\n    showModal(null);\n  };\n\n  return (\n    <Grid container className={styles.form} spacing={2}>\n      <Grid item xs={12}>\n        <Typography variant=\"h3\" align=\"center\" className={styles.title}>\n          {`${capitalizeFirstLetter(portfolio.username)}'s Submission`}\n        </Typography>\n      </Grid>\n      {edit && (\n        <Grid item xs={12}>\n          <SearchBar overrideAddClick={addToPortfolio} />\n        </Grid>\n      )}\n      <Grid item xs={12}>\n        <TableContainer component={Paper} className={styles.tableContainer}>\n          <Table className={styles.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\" className={styles.bold}>\n                  Name\n                </TableCell>\n                <TableCell align=\"right\" className={styles.bold}>\n                  Ticker\n                </TableCell>\n                <TableCell align=\"right\" className={styles.bold}>\n                  Price\n                </TableCell>\n                <TableCell align=\"right\" className={styles.bold}>\n                  Quantity\n                </TableCell>\n                <TableCell align=\"right\" className={styles.bold}>\n                  Subtotal\n                </TableCell>\n                {edit && <TableCell align=\"center\" />}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {rows.map((holding) => {\n                return (\n                  <TableRow key={holding.stockTicker}>\n                    <TableCell align=\"left\">{holding.stockName}</TableCell>\n                    <TableCell align=\"right\">{holding.stockTicker}</TableCell>\n                    <TableCell align=\"right\">{holding.stockPrice}</TableCell>\n                    <TableCell align=\"right\">\n                      {edit && (\n                        <TextField\n                          variant=\"standard\"\n                          value={holding.stockQuantity}\n                          onChange={(event) => {\n                            handleQuantityChange(holding.stockTicker, event.target.value);\n                          }}\n                          inputProps={{ style: { textAlign: 'right', width: 100 } }}\n                        />\n                      )}\n                      {!edit && <div>{holding.stockQuantity}</div>}\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      {(holding.stockQuantity * holding.stockPrice).toFixed(2)}\n                    </TableCell>\n                    {edit && (\n                      <TableCell>\n                        <IconButton onClick={() => deleteHolding(holding.stockTicker)}>\n                          <DeleteIcon />\n                        </IconButton>\n                      </TableCell>\n                    )}\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        {loading && <LinearProgress />}\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"h4\" align=\"center\">\n          {`Total: $${rows\n            .reduce((total, holding) => total + holding.stockPrice * holding.stockQuantity, 0)\n            .toFixed(2)}`}\n        </Typography>\n      </Grid>\n      {edit && error && (\n        <Grid item xs={12}>\n          <Typography align=\"center\" className={styles.error}>\n            {error}\n          </Typography>\n        </Grid>\n      )}\n      {edit && (\n        <React.Fragment>\n          <Grid item xs={2} />\n          <Grid item xs={3}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={!!error}\n              fullWidth\n              onClick={() => handleSubmit()}\n            >\n              Submit\n            </Button>\n          </Grid>\n          <Grid item xs={2} />\n          <Grid item xs={3}>\n            <Button variant=\"contained\" fullWidth onClick={cancel}>\n              Cancel\n            </Button>\n          </Grid>\n          <Grid item xs={2} />\n        </React.Fragment>\n      )}\n    </Grid>\n  );\n};\n\nexport default CompetitionPortfolioForm;\n","import React, { useContext } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport {\n  Box,\n  Button,\n  ButtonGroup,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  LinearProgress,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  useCompetitionSubmissions,\n  addCompetitionPortfolio,\n  deleteCompetitionPortfolio,\n} from '../../../utils/useCompetitions.js';\nimport { formatDate } from '../../common/formatting.js';\nimport UserContext from '../../contexts/UserContext';\nimport ModalContext from '../../contexts/ModalContext';\nimport CompetitionPortfolioForm from '../../forms/CompetitionPortfolioForm';\n\nconst useStyles = makeStyles((theme) => ({\n  page: {\n    paddingTop: 20,\n  },\n  headingContainer: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '20px',\n  },\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n  },\n  subheading: {\n    fontSize: 20,\n  },\n  table: {\n    minWidth: 650,\n  },\n  tableContainer: {\n    marginBottom: 40,\n  },\n  highlightRow: {\n    backgroundColor: theme.palette.secondary.main,\n    cursor: 'pointer',\n  },\n  normalRow: {\n    cursor: 'pointer',\n  },\n  error: {\n    color: 'tomato',\n  },\n}));\nconst CompetitionPage = () => {\n  const { id } = useParams();\n  const { user } = useContext(UserContext);\n  const { showModal } = useContext(ModalContext);\n  const styles = useStyles();\n  const {\n    submissions,\n    competition,\n    submissionsLoading,\n    fetchSubmissions,\n  } = useCompetitionSubmissions(id);\n\n  let rows = [];\n  let userSubmission = null;\n  if (submissions) {\n    rows = [\n      ...submissions.sort((a, b) => {\n        let valueA = a.totalValue;\n        let valueB = b.totalValue;\n        if (valueA > valueB) return -1;\n        if (valueA < valueB) return 1;\n        return 0;\n      }),\n    ];\n    let userIndex = submissions.findIndex((el) => el.username === user?.username);\n    if (userIndex >= 0) {\n      userSubmission = submissions[userIndex];\n      userSubmission['rank'] = userIndex + 1;\n    }\n  }\n\n  const viewPortfolio = (submission) => {\n    showModal(<CompetitionPortfolioForm portfolio={submission} competition={competition} />);\n  };\n\n  const editPortfolio = (submission) => {\n    showModal(\n      <CompetitionPortfolioForm\n        portfolio={submission}\n        competition={competition}\n        edit={true}\n        fetchSubmissions={fetchSubmissions}\n      />,\n    );\n  };\n\n  const addPortfolio = async () => {\n    const portfolio = await addCompetitionPortfolio(competition.id);\n    await fetchSubmissions();\n    editPortfolio(portfolio);\n  };\n\n  const deletePortfolio = async () => {\n    await deleteCompetitionPortfolio(userSubmission.id);\n    await fetchSubmissions();\n  };\n\n  const now = new Date();\n  const submissionsOpen =\n    !!competition &&\n    now >= new Date(competition.startDate) &&\n    now <= new Date(competition.submissionClose);\n\n  return (\n    <Box className={styles.page}>\n      <div className={styles.headingContainer}>\n        <div>\n          <Typography variant=\"h1\" className={styles.heading}>\n            Submissions\n          </Typography>\n        </div>\n      </div>\n      {user && (\n        <div>\n          <div className={styles.headingContainer}>\n            <div>\n              <Typography variant=\"h1\" className={styles.subheading}>\n                Your Submission\n              </Typography>\n            </div>\n            {!userSubmission && submissionsOpen && (\n              <Button color=\"primary\" variant=\"contained\" onClick={() => addPortfolio()}>\n                Add Submission\n              </Button>\n            )}\n            {!!userSubmission && submissionsOpen && (\n              <ButtonGroup variant=\"contained\">\n                <Button color=\"primary\" onClick={() => editPortfolio(userSubmission)}>\n                  Edit Submission\n                </Button>\n                <Button color=\"secondary\" onClick={() => deletePortfolio()}>\n                  Delete Submission\n                </Button>\n              </ButtonGroup>\n            )}\n            {!submissionsOpen && (\n              <Typography variant=\"h6\" className={styles.error}>\n                Submissions Closed\n              </Typography>\n            )}\n          </div>\n          <TableContainer component={Paper} className={styles.tableContainer}>\n            <Table className={styles.table}>\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">Rank</TableCell>\n                  <TableCell align=\"center\">User</TableCell>\n                  <TableCell align=\"center\">Last Updated</TableCell>\n                  <TableCell align=\"center\">Portfolio Value</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {userSubmission && (\n                  <TableRow>\n                    <TableCell align=\"center\">{userSubmission.rank}</TableCell>\n                    <TableCell align=\"center\">{userSubmission.username}</TableCell>\n                    <TableCell align=\"center\">\n                      {formatDate(userSubmission.updatedAt, 'DD-MM-YYYY hh:mm:ss')}\n                    </TableCell>\n                    <TableCell align=\"center\">{'$' + userSubmission.totalValue}</TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n            {submissionsLoading && <LinearProgress />}\n          </TableContainer>\n        </div>\n      )}\n      <div className={styles.headingContainer}>\n        <div>\n          <Typography variant=\"h1\" className={styles.subheading}>\n            All Submissions\n          </Typography>\n        </div>\n      </div>\n      <TableContainer component={Paper} className={styles.tableContainer}>\n        <Table className={styles.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Rank</TableCell>\n              <TableCell align=\"center\">User</TableCell>\n              <TableCell align=\"center\">Last Updated</TableCell>\n              <TableCell align=\"center\">Portfolio Value</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row, index) => {\n              let className = styles.normalRow;\n              if (row.username === user?.username) {\n                className = styles.highlightRow;\n              }\n              return (\n                <TableRow key={row.id} className={className} onClick={() => viewPortfolio(row)}>\n                  <TableCell align=\"center\">{index + 1}</TableCell>\n                  <TableCell align=\"center\">{row.username}</TableCell>\n                  <TableCell align=\"center\">\n                    {formatDate(row.updatedAt, 'DD-MM-YYYY hh:mm:ss')}\n                  </TableCell>\n                  <TableCell align=\"center\">{'$' + row.totalValue.toFixed(2)}</TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n        {submissionsLoading && <LinearProgress />}\n      </TableContainer>\n    </Box>\n  );\n};\n\nexport default CompetitionPage;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Paper } from '@material-ui/core';\nimport { ThemeProvider, makeStyles } from '@material-ui/core/styles';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { NotificationContainer } from 'react-notifications';\n\nimport Header from './components/header/Header';\nimport LandingPage from './components/pages/landing-page/LandingPage';\nimport PortfoliosPage from './components/pages/portfolio/PortfoliosPage';\nimport GoalsPage from './components/pages/goal/GoalsPage.jsx';\nimport PortfolioPage from './components/pages/portfolio/PortfolioPage';\nimport { ModalProvider } from './components/contexts/ModalContext';\nimport { UserProvider } from './components/contexts/UserContext';\nimport theme from './configuration/theme';\n\nimport './App.css';\nimport 'react-notifications/lib/notifications.css';\nimport MarketPage from './components/pages/market-page/MarketPage';\nimport PublicProfile from './components/pages/public-profile/PublicProfile';\nimport PublicPortfolio from './components/pages/portfolio/PublicPortfolio';\nimport ForumsPage from './components/pages/forum/ForumsPage';\nimport ForumPage from './components/pages/forum/ForumPage';\nimport PostPage from './components/pages/forum/PostPage';\nimport StockPage from './components/pages/stock-page/StockPage';\nimport CompetitionsPage from './components/pages/competition/CompetitionsPage';\nimport CompetitionPage from './components/pages/competition/CompetitionPage';\n\nconst useStyles = makeStyles({\n  app: {\n    minHeight: '100vh',\n  },\n  page: {\n    minHeight: 'calc(100vh - 64px)',\n    maxWidth: '1280px',\n    margin: '0 auto',\n    padding: 10,\n  },\n});\n\n// entry point of the root component, which contains configurations for theming, contexts and routing\nconst App = () => {\n  const classes = useStyles();\n\n  return (\n    <ThemeProvider theme={theme}>\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <Router>\n          <UserProvider>\n            <ModalProvider>\n              <Paper className={classes.app}>\n                <Header />\n                <div className={classes.page}>\n                  <Switch>\n                    <Route path=\"/\" exact>\n                      <LandingPage />\n                    </Route>\n                    <Route path=\"/portfolio\" exact>\n                      <PortfoliosPage />\n                    </Route>\n                    <Route path=\"/goals\">\n                      <GoalsPage />\n                    </Route>\n                    <Route path=\"/market\">\n                      <MarketPage />\n                    </Route>\n                    <Route path=\"/portfolio/:id\">\n                      <PortfolioPage />\n                    </Route>\n                    <Route path=\"/stock/:id\">\n                      <StockPage />\n                    </Route>\n                    <Route path=\"/public-profile/:id\">\n                      <PublicProfile />\n                    </Route>\n                    <Route path=\"/public-portfolio\">\n                      <PublicPortfolio />\n                    </Route>\n                    <Route path=\"/posts/:id\">\n                      <PostPage />\n                    </Route>\n                    <Route path=\"/forums/:id\">\n                      <ForumPage />\n                    </Route>\n                    <Route path=\"/forums/\">\n                      <ForumsPage />\n                    </Route>\n                    <Route path=\"/competitions/\">\n                      <CompetitionsPage />\n                    </Route>\n                    <Route path=\"/competition/:id\">\n                      <CompetitionPage />\n                    </Route>\n                  </Switch>\n                </div>\n              </Paper>\n              <NotificationContainer />\n            </ModalProvider>\n          </UserProvider>\n        </Router>\n      </MuiPickersUtilsProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}